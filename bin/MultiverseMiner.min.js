function System(){this.imageRoot="assets/images/",this.iconRoot=this.imageRoot+"itemIcons/",this.gemIconRoot=this.iconRoot+"gems/",this.enableDragDrop=!1,this.dragDelay=300,this.floatFadeDelay=300,this.selectionArrowBack=this.imageRoot+"selectionArrowBack.png",this.selectionArrowBackFast=this.imageRoot+"selectionArrowBackFast.png",this.selectionArrowForward=this.imageRoot+"selectionArrowForward.png",this.selectionArrowForwardFast=this.imageRoot+"selectionArrowForwardFast.png",this.iconPlaceholder="icon_placeholder.png",this.iconPlaceholderRawMaterial="icon_placeholderRawMaterial.png",this.iconPlaceholderGem="icon_placeholderGem.png",this.iconPlaceholderChest="icon_placeholderGearChest.png",this.iconPlaceholderHead="icon_placeholderGearHelmet.png"}function addTable(id,internalName,data){var table={id:id,mode:LootMode.multi,entries:[]};if(void 0==data||data.length<=0)throw new Error("Empty data in addTable");for(var i=0;i<data.length;i++)table.entries.push(data[i]);return LootTables[internalName]=table,table}function addSingleTable(id,internalName,data){var table={id:id,mode:LootMode.single,entries:[]};if(void 0==data||data.length<=0)throw new Error("Empty data in addSingleTable");for(var i=0;i<data.length;i++)table.entries.push(data[i]);return LootTables[internalName]=table,table}function addPlanet(id,internalName,name,metadata){var planet={id:id,name:name,gatherLootTableId:void 0,miningLootTableId:void 0,scavengeLootTableId:void 0};if(metadata)for(var keys=Object.keys(metadata),i=0;i<keys.length;i++)planet[keys[i]]=metadata[keys[i]];return Planets[internalName]=planet,planet}function Miner(id){this.id=id,this.baseMineSpeed=1,this.initialize=function(){},this.update=function(){},this.gather=function(location){var tableId=location.getGatherLootTableId();return this._dropResources(tableId)},this.mine=function(location,power,luck){power=power||1,luck=luck||0;var tableId=location.getMiningLootTableId();return items=this._dropResources(tableId,power,luck),items},this.scavenge=function(){var tableId=1e3;return this._dropResources(tableId)},this._dropResources=function(tableId,power,luck){power=power||1,luck=luck||0;var table=game.getLootTable(tableId);return!table||table.length<=0?void 0:(items=game.loot(table,this.baseMineSpeed*power,luck),items)},this._getStorageKey=function(){return"miner_"+this.id+"_"},this.save=function(){var storageKey=this._getStorageKey();localStorage[storageKey+"baseMineSpeed"]=this.baseMineSpeed},this.load=function(){var storageKey=this._getStorageKey();this.baseMineSpeed=utils.loadFloat(storageKey+"baseMineSpeed",1)},this.reset=function(){this.baseMineSpeed=1}}function Storage(id){this.id=id,this.storageChanged=!1,this.initialize=function(){this.reset()},this.canAdd=function(id){if(!this.items[id])return!0;var itemInfo=game.getItem(id);if(!itemInfo)return!1;var limit=game.getItem(id).storagelimit;return limit?limit<this.items[id]:!0},this.addItem=function(id,value,silent){value||(value=1);var itemInfo=game.getItem(id);return itemInfo?(this.items[id]||(this.items[id]=0),this.items[id]+=value,this._registerItemDictionary(itemInfo,"category",this.itemCategoryDictionary),itemInfo.gearType&&this._registerItemDictionary(itemInfo,"gearType",this.gearTypeDictionary),void 0!=silent&&silent||(this.storageChanged=!0),!0):(utils.logError("attempt to add unknown item: "+id),!1)},this.addItems=function(items){for(var i=0;i<items.length;i++)if(!this.addItem(items[i],1,!0))return!1;return items.length>0&&(this.storageChanged=!0),!0},this.hasItem=function(id){return void 0!==this.items[id]},this.getItem=function(id){return this.items[id]||void 0},this.getItems=function(){return Object.keys(this.items)},this.getItemsOfType=function(type){return this.itemTypeDictionary[type]?this.itemTypeDictionary[type]:void 0},this.getItemsOfCategory=function(category){return this.itemCategoryDictionary[category]?this.itemCategoryDictionary[category]:void 0},this.getItemCount=function(id){return this.items[id]?this.items[id]:0},this.removeItem=function(id,value){value||(value=1);var itemInfo=game.getItem(id);return itemInfo?!this.items[id]||this.items[id]<value?(utils.logError("RemoveItem of "+id+" called with insufficient items: "+id+" was "+this.items[id]),!1):(this.items[id]-=value,this.items[id]<=0&&(delete this.items[id],utils.deleteSetting(this._getStorageKey()+id),this._unregisterItemDictionary(itemInfo,"category",this.itemCategoryDictionary),itemInfo.gearType&&this._unregisterItemDictionary(itemInfo,"gearType",this.gearTypeDictionary)),this.storageChanged=!0,!0):(utils.logError("attempt to remove unknown item: "+id),!1)},this.setItemMetadata=function(id,metadata){this.itemMetadata[id]=metadata,this.storageChanged=!0},this.getItemMetadata=function(id){return this.itemMetadata[id]},this.removeItemMetadata=function(id){this.itemMetadata[id]&&(delete this.itemMetadata[id],this.storageChanged=!0)},this.setStorageChanged=function(storageChanged){this.storageChanged=storageChanged},this.getStorageChanged=function(){return this.storageChanged},this.getMaxCrafts=function(itemId){var count=null,item=game.itemDictionary[itemId];if(item.craftCost&&game.player.storage.canAdd(item.id))for(var cost=game.getCraftingCost(item.id,1),keys=Object.keys(cost),x=0;x<keys.length;x++){var key=keys[x],n=game.player.storage.getItemCount(key)/cost[key];(null==count||count>n)&&(count=n)}return Math.floor(count)},this.getMaxCraftableItems=function(itemId){return this.getMaxCrafts(itemId)*(game.itemDictionary[itemId].craftResult||1)},this._registerItemDictionary=function(itemInfo,property,dictionary){var propertyValue=itemInfo[property];propertyValue&&(dictionary[propertyValue]||(dictionary[propertyValue]=[]),-1==jQuery.inArray(itemInfo.id,dictionary[propertyValue])&&dictionary[propertyValue].push(itemInfo.id))},this._unregisterItemDictionary=function(itemInfo,property,dictionary){var propertyValue=itemInfo[property];if(propertyValue){if(!dictionary[propertyValue])return;var index=dictionary[propertyValue].indexOf(itemInfo.id);index>=0&&dictionary[propertyValue].splice(index,1),dictionary[propertyValue].length<=0&&delete dictionary[propertyValue]}},this._getStorageKey=function(){return"storage_"+this.id+"_"},this._quickSort=function(items,left,right){var index;return items.length>1&&(index=this._partition(items,left,right),index-1>left&&this._quickSort(items,left,index-1),right>index&&this._quickSort(items,index,right)),items},this._partition=function(items,left,right){for(var pivot=items[Math.floor((right+left)/2)],i=left,j=right;j>=i;){for(;items[i]<pivot;)i++;for(;items[j]>pivot;)j--;j>=i&&(this._swap(items,i,j),i++,j--)}return i},this._swap=function(list,firstIndex,secondIndex){list[firstIndex];list[firstIndex]=list[secondIndex],list[secondIndex]=list},this.save=function(){for(var storageKey=this._getStorageKey(),keys=Object.keys(this.items),i=0;i<keys.length;i++){var key=keys[i],value=this.items[key];localStorage[storageKey+key]=value}},this.load=function(){this.items={};for(var storageKey=this._getStorageKey(),keys=game.getItems(),i=0;i<keys.length;i++){var key=keys[i];localStorage[storageKey+key]&&this.addItem(key,utils.loadInt(storageKey+key,0))}this.storageChanged=!0},this.reset=function(){this.items={},this.itemCategoryDictionary={},this.gearTypeDictionary={},this.itemMetadata={},this.storageChanged=!0}}function UIComponent(id){this.id=id,this.parent=void 0,this.classes=void 0,this.mainDiv=void 0,this.updateTime=0,this.updateInterval=0,this.updateCallback=void 0,this.isVisible=!0,this.enabled=!0,this.invalidated=!0,this.updateWhenNeededOnly=!0,this.init=function(){this.mainDiv=$("#"+this.id),0==this.mainDiv.length&&(this.mainDiv=$('<div id="'+this.id+'"></div>'),this.classes&&this.mainDiv.addClass(this.classes),this.parent?this.parent.append(this.mainDiv):$(document.body).append(this.mainDiv))},this.hide=function(){this.isVisible=!1,this.mainDiv.hide()},this.show=function(){this.isVisible=!0,this.mainDiv.show(),this.invalidate()},this.update=function(currentTime){return this.enabled&&this.isVisible?!this.invalidated&&this.updateWhenNeededOnly?!1:!this.invalidated&&this.updateInterval>0&&currentTime-this.updateTime<this.updateInterval?!1:(this.updateCallback&&this.updateCallback(),this.updateTime=currentTime,this.invalidated=!1,!0):!1},this.invalidate=function(){this.invalidated=!0},this.getMainElement=function(){return this.mainDiv}}function UISlot(id,parent){this.id=id,this.parent=parent,this.controlType="UISlot",this.classes="hasMenu itemSlot itemSlotNonHover",this.mainDiv=void 0,this.iconDisplay=void 0,this.countDisplay=void 0,this.isClear=!0,this.displayZero=!1,this.canDrag=!0,this.canDrop=!0,this.item=void 0,this.onClick=void 0,this.count=0,this.baseInit=this.init,this.init=function(){this.baseInit(),this.mainDiv.hover(function(){$(this).addClass("itemSlotHover"),$(this).removeClass("itemSlotNonHover")},function(){$(this).addClass("itemSlotNonHover"),$(this).removeClass("itemSlotHover")}),this.mainDiv.mousedown({self:this},this.onMouseDown),this.mainDiv.mouseup({self:this},this.onMouseUp),this.mainDiv.mouseover({self:this},this.onMouseOver),this.mainDiv.dblclick({self:this},this.onDoubleClick)},this.onMouseDown=function(parameters){var self=parameters.data.self;self.item&&(self.onClick&&self.onClick(self),self.canDrag&&ui.beginDrag(self))},this.onMouseUp=function(parameters){var self=parameters.data.self;self.item&&parameters.which==MouseButtons.right&&game.activateItemContext(self.item.id,self.itemContext)},this.onMouseOver=function(parameters){var self=parameters.data.self;if(ui.isDragging){var tryDropResult=self.tryDrop(ui.getDragSource());ui.setDragTarget(tryDropResult?self:void 0)}},this.onDoubleClick=function(parameters){var self=parameters.data.self;self.item&&game.useItemContext(self.item.id)},this.getMainElement=function(){return this.mainDiv},this.generateItemTooltip=function(item){switch(content="<strong>"+item.name+"</strong><br>",content+="<div style='font-size:11px;text-transform:capitalize;'>",item.description&&(content+="<strong>Description: </strong><div style='text-transform:none;'>"+item.description+"</div>"),item.category){case"rawMaterial":if(item.craftCost){content+="<br><strong>Requires:</strong><br>";for(cost in item.craftCost)content+="<br>&nbsp;&nbsp;&nbsp;"+item.craftCost[cost]+"&nbsp;"+game.getItemName(cost)}item.el&&(content+="<br><strong>Symbol: </strong>"+item.el);break;case"component":if(item.craftCost){content+="<br><strong>Crafted From:</strong>";for(cost in item.craftCost)content+="<br>&nbsp;&nbsp;&nbsp;"+item.craftCost[cost]+"&nbsp;"+game.getItemName(cost)}item.el&&(content+="<br><strong>Symbol: </strong>"+item.el);break;case"gem":case"machines":case"usable":break;case"miningGear":case"gearMainHand":case"gearHead":case"gearChest":case"gearLegs":case"gearFeet":item.minimumMiningLevel||(item.minimumMiningLevel=0),content+="<br><strong>Mininum Mining Level: </strong>"+item.minimumMiningLevel+"<br>",content+="<strong>Stats:</strong>",content+="<br>&nbsp;&nbsp;&nbsp;Strength: "+item.strength,content+="<br>&nbsp;&nbsp;&nbsp;Accuracy: "+item.accuracy,content+="<br>&nbsp;&nbsp;&nbsp;Health: "+item.health,content+="<br>&nbsp;&nbsp;&nbsp;Defense: "+item.defense,content+="<br>&nbsp;&nbsp;&nbsp;Evasion: "+item.evasion,content+="<br>&nbsp;&nbsp;&nbsp;Counter: "+item.counter,content+="<br>&nbsp;&nbsp;&nbsp;Regeneration: "+item.regeneration,content+="<br>&nbsp;&nbsp;&nbsp;resilience: "+item.resilience,content+="<br>&nbsp;&nbsp;&nbsp;Perception: "+item.perception,content+="<br>&nbsp;&nbsp;&nbsp;Experience: "+item.experience,content+="<br>&nbsp;&nbsp;&nbsp;Attack Speed: "+item.attackSpeed,content+="<br>&nbsp;&nbsp;&nbsp;Ship Speed: "+item.shipSpeed,content+="<br>&nbsp;&nbsp;&nbsp;Mining Luck: "+item.miningLuck,content+="<br>&nbsp;&nbsp;&nbsp;Loot Luck: "+item.lootLuck,content+="<br>&nbsp;&nbsp;&nbsp;Scavenge Luck: "+item.scavengeLuck;break;case"spaceShip":item.storageLimit&&(content+="<strong>Storage Limit: </strong>"+item.storageLimit+"<br>");break;case"scavenge":if(item.craftCost){content+="<br>",content+="<strong>Decomposes To:</strong>";for(cost in item.craftCost)content+="<br>&nbsp;&nbsp;&nbsp;"+item.craftCost[cost]+"&nbsp;"+game.getItemName(cost)}break;case"building":if(item.craftCost){content+="<br><strong>Requires:</strong>";for(cost in item.craftCost)content+="<br>&nbsp;&nbsp;&nbsp;"+item.craftCost[cost]+"&nbsp;"+game.getItemName(cost)}(item.autoMine||item.autoGather||item.autoRefine||item.autoScavenge)&&(content+="<br><br><strong>Effects:</strong><br>",content+="Auto Digs Per Second: "+item.autoMine+"<br>",content+="Auto Gathers Per Second: "+item.autoGather+"<br>",content+="Auto Decomposes Per Second: "+item.autoRefine+"<br>",content+="Auto Scavenges Per Second: "+item.autoScavenge),item.autoProduce&&(content+="<br><br>Auto Produce: <b>5 "+item.autoProduce+" per minute.</b>"),item.statChange&&(x=[],$.each(JSON.parse(game.getItem(item.id).statChange),function(key,value){x.push(key+": <b>+"+value+"</b>")}),content+="<br><strong>Droprate Increase: </strong>"+x),content+="<br><strong>Planet Limit:</strong> "+item.planetLimit+"<br>"}return content+="<br><strong>Category:</strong> "+ItemCategory[item.category],content+="</div>",content},this.set=function(item,count){this.item=item,this.count=count;var icon=item.icon||game.getDefaultItemIcon(item);this.iconDisplay=$('<img class="itemSlotIcon" src="'+sys.iconRoot+icon+'"/>'),this.countDisplay=$('<div class="itemSlotText"></div>'),this.menuHelper=$('<div style="display:none;" id="'+this.item.id+'"/>'),this.mainDiv.attr("title",item.name),$("#"+this.id).tooltipster({content:this.generateItemTooltip(item),theme:"tooltipster-multi",contentAsHTML:!0,position:"left",onlyOne:!0,speed:1,maxWidth:300,positionTracker:!0}),this.mainDiv.append(this.iconDisplay),this.mainDiv.append(this.countDisplay),this.mainDiv.append(this.menuHelper),this.update(count)},this.update=function(count){count||(count=0),this.count=count;var countDisplayValue=count.formatNumber();0>=count&&(countDisplayValue=this.displayZero?"0":""),this.countDisplay.text(countDisplayValue)},this.clear=function(){this.item=void 0,this.count=0,$("#"+this.id).hasClass("tooltipstered")&&$("#"+this.id).tooltipster("destroy"),this.mainDiv.empty(),this.mainDiv.attr("title","")},this.tryDrop=function(other){return this.canDrop&&other&&other.controlType&&other.controlType==this.controlType?this.item?!1:!0:!1},this.drop=function(other){this.set(other.item,other.count),this.update(other.count),other.clear(),other.update()}}function UIInventory(id,parent){this.id=id,this.parent=parent,this.classes="itemGrid",this.slotCount=15,this.itemContext=void 0,this.slotElements=[],this.slotIdItemIdMap=[],this.currentPage=0,this.maxPage=0,this.storage=void 0,this.category=void 0,this.baseInit=this.init,this.baseUpdate=this.update,this.init=function(){this.baseInit();for(var slotId=0,x=0;x<this.slotCount;x++){var slot=new UISlot(this.id+"_"+x,this.mainDiv);slot.itemContext=this.itemContext,slot.init(),this.slotElements.push(slot),this.slotIdItemIdMap.push(void 0),this._clearSlot(slotId),slotId++}},this.update=function(currentTime){if(!this.baseUpdate(currentTime))return!1;var items=void 0;this.storage&&(items=this.category?this.storage.getItemsOfCategory(this.category):this.storage.getItems()),this.maxPage=items?items.length/this.slotElements.length:0,this.currentPage>this.maxPage&&(this.currentPage=0);var pageStart=this.currentPage*this.slotElements.length,pageEnd=pageStart+this.slotElements.length;items?pageEnd>items.length&&(pageEnd=items.length):pageEnd=pageStart;for(var itemsToUpdate=[],i=pageStart;pageEnd>i;i++)itemsToUpdate.push(items[i]);for(var i=0;i<this.slotIdItemIdMap.length;i++){var itemId=this.slotIdItemIdMap[i];itemId&&-1==$.inArray(itemId,itemsToUpdate)&&(this._clearSlot(i),this.slotIdItemIdMap[i]=void 0)}for(var i=0;i<itemsToUpdate.length;i++){var itemId=itemsToUpdate[i],item=game.getItem(itemId),itemCount=this.storage.getItemCount(itemId),slotId=this._getSlot(itemId);void 0==slotId?(slotId=this._occupySlot(itemId),slot=this.slotElements[slotId],slot.set(item,itemCount)):this.slotElements[slotId].update(itemCount)}},this.setCategory=function(categoryId){this.category=game.getCategoryKeyById(categoryId),this.invalidate()},this.setStorage=function(storage){this.storage=storage,this.invalidate()},this._clearSlot=function(slotId){this.slotElements[slotId].clear()},this._getSlot=function(itemId){for(var i=0;i<this.slotIdItemIdMap.length;i++)if(this.slotIdItemIdMap[i]==itemId)return i},this._occupySlot=function(itemId){for(var i=0;i<this.slotElements.length;i++)if(!this.slotIdItemIdMap[i])return this.slotIdItemIdMap[i]=itemId,i}}function UISelection(id,parent){this.id=id,this.parent=parent,this.values=void 0,this.callback=void 0,this.keys=void 0,this.min=0,this.selection=0,this.selectionTextElement=void 0,this.baseInit=this.init,this.baseUpdate=this.update,this.init=function(){if(this.baseInit(),!this.values||!this.callback)throw new Error("Values and callback must be set!");this.keys=Object.keys(this.values),this.min=0,this.selection=game.settings.selectedPlanetInventoryFilter=game.settings.selectedPlayerInventoryFilter=1,this.selectionFirstElement=$('<img class="selectPrevious clickable" src="'+sys.selectionArrowBackFast+'"/>'),this.selectionFirstElement.click({self:this},this.onSelectFirst),this.selectionPrevElement=$('<img class="selectPrevious clickable" src="'+sys.selectionArrowBack+'"/>'),this.selectionPrevElement.click({self:this},this.onSelectPrevious),this.selectionTextElement=$('<div class="selectionText"></div>'),this.selectionNextElement=$('<img class="selectNext clickable" src="'+sys.selectionArrowForward+'"/>'),this.selectionNextElement.click({self:this},this.onSelectNext),this.selectionLastElement=$('<img class="selectNext clickable" src="'+sys.selectionArrowForwardFast+'"/>'),this.selectionLastElement.click({self:this},this.onSelectLast),this.mainDiv.append(this.selectionLastElement),this.mainDiv.append(this.selectionNextElement),this.mainDiv.append(this.selectionFirstElement),this.mainDiv.append(this.selectionPrevElement),this.mainDiv.append(this.selectionTextElement)},this.update=function(currentTime){if(this.baseUpdate(currentTime)){try{var key=this.keys[this.selection];this.selectionTextElement.text(key.split(/(?=[A-Z])/g).join(" ").toLowerCase())}catch(e){var key="rawMaterial";this.selectionTextElement.text(key.split(/(?=[A-Z])/g).join(" ").toLowerCase())}this.invalidate()}},this.setSelection=function(id){return this.keys[id]?(this.selection=id,void this.invalidate()):void utils.logError("setSelection called with invalid id: "+id)},this.selectPrevious=function(){!this.selection||this.selection>this.max?this.selection=this.max:this.selection--,this.invalidate(),this.callback(this.selection)},this.selectNext=function(){this.selection==this.max?this.selection=this.min:this.selection++,this.invalidate(),this.callback(this.selection)},this.onSelectFirst=function(parameter){var self=parameter.data.self;self.selection=self.min,self.selection++,self.selectPrevious()},this.onSelectPrevious=function(parameter){var self=parameter.data.self;self.selectPrevious()},this.onSelectNext=function(parameter){var self=parameter.data.self;self.selectNext()},this.onSelectLast=function(parameter){var self=parameter.data.self;self.selection=self.max,self.selection--,self.selectNext()}}function UIPlanetScreen(){this.id="planetScreen",this.parent=void 0,this.playerInventoryFilter=void 0,this.playerInventory=void 0,this.planetInventoryFilter=void 0,this.planetInventory=void 0,this.componentLeftPanel=void 0,this.componentRightPanel=void 0,this.componentPlayerInventory=void 0,this.componentCrafting=void 0,this.componentEmpire=void 0,this.componentStats=void 0,this.componentPlayerGear=void 0,this.componentPlayerShip=void 0,this.componentPlanet=void 0,this.componentPlanetDisplay=void 0,this.componentQuestsPanel=void 0,this.baseInit=this.init,this.baseUpdate=this.update,this.baseShow=this.show,this.baseHide=this.hide,this.init=function(){this.baseInit(),this.updateWhenNeededOnly=!1,this.lastLevel=game.player.miningLevel,this.playerInventoryFilter=new UISelection("playerInventoryFilter"),this.playerInventoryFilter.values=ItemCategory,this.playerInventoryFilter.callback=this.onPlayerInventoryFilterChanged,this.playerInventoryFilter.min=0,this.playerInventoryFilter.max=11,this.playerInventoryFilter.init(),this.playerInventoryFilter.setSelection(0),this.playerInventory=new UIInventory("playerInventorySlots",56),this.playerInventory.setStorage(game.player.storage),this.playerInventory.slotCount=56,this.playerInventory.init(),this.playerInventory.setCategory(0),this.planetInventoryFilter=new UISelection("planetInventoryFilter"),this.planetInventoryFilter.values=ItemCategoryPlanet,this.planetInventoryFilter.callback=this.onPlanetInventoryFilterChanged,this.planetInventoryFilter.min=0,delete this.planetInventoryFilter.values.component,delete this.planetInventoryFilter.values.miningGear,delete this.planetInventoryFilter.values.gearMainHand,delete this.planetInventoryFilter.values.gearHead,delete this.planetInventoryFilter.values.gearChest,delete this.planetInventoryFilter.values.gearLegs,delete this.planetInventoryFilter.values.gearFeet,delete this.planetInventoryFilter.values.spaceship,this.planetInventoryFilter.max=3,this.planetInventoryFilter.init(),this.planetInventoryFilter.setSelection(0),this.planetInventory=new UIInventory("planetInventorySlots",56),this.planetInventory.slotCount=56,this.planetInventory.init(),this.planetInventory.setCategory(0),this.componentLeftPanel=new UIComponent("panelPlanetLeft"),this.componentLeftPanel.init(),this.componentRightPanel=new UIComponent("panelPlanetRight"),this.componentRightPanel.init(),this.componentPlayerInventory=new UIComponent("playerInventoryPanel"),this.componentPlayerInventory.init(),this.componentPlayerInventory.updateCallback=this.updatePlayerInventoryPanel,this.componentCrafting=new UIComponent("playerCraftingPanel"),this.componentCrafting.init(),this.updateCraftingPanel(),this.componentCrafting.updateCallback=this.updateCraftingPanel,this.componentEmpire=new UIComponent("empirePanel"),this.componentEmpire.init(),this.componentEmpire.updateCallback=this.updateEmpirePanel,this.componentStats=new UIComponent("statsPanel"),this.componentStats.init(),this.componentStats.updateCallback=this.updateStatsPanel,this.componentPlayerGear=new UIComponent("playerGearPanel"),this.componentPlayerGear.itemContext=game.itemContexts.playerGear,this.componentPlayerGear.init(),this.componentPlayerGear.updateCallback=this.updatePlayerGearPanel,this.componentPlayerShip=new UIComponent("playerShipPanel"),this.componentPlayerShip.itemContext=game.itemContexts.playerShip,this.componentPlayerShip.init(),this.componentPlayerShip.updateCallback=this.updateShipPanel,this.componentPlanet=new UIComponent("planetPanel"),this.componentPlanet.itemContext=game.itemContexts.planetGear,this.componentPlanet.init(),this.componentPlanet.updateCallback=this.updatePlanetPanel,this.componentPlanetDisplay=new UIComponent("planetDisplay"),this.componentPlanetDisplay.init(),this.componentPlanetDisplay.enabled=!0,this.componentPlanetDisplay.updateCallback=this.updatePlanetDisplay,this.componentQuestsPanel=new UIComponent("questsPanel"),this.componentQuestsPanel.init(),this.componentQuestsPanel.updateCallback=this.updateQuestsDisplay,this.activatePlayerInventory(),this.activatePlayerGear();var divs={Minerals:{dictionaryIndex:[101],divId:"planetMinerals"},Gases:{dictionaryIndex:[100],divId:"planetGases"},Scavenge:{dictionaryIndex:[1e3],divId:"planetScavenge"},Gems:{dictionaryIndex:[102,103],divId:"planetGems"}};for(var name in divs){for(var html=name+": ",i=0;i<divs[name].dictionaryIndex.length;i++)for(var index=divs[name].dictionaryIndex[i],j=0;j<game.lootTableDictionary[index].entries.length;j++)(0!=j||i>0)&&(html+=", "),html+=game.getItemName("Gems"==name?game.lootTableDictionary[index].entries[j]:game.lootTableDictionary[index].entries[j][0]);$("#"+divs[name].divId).html(html)}},this.update=function(currentTime){return this.baseUpdate(currentTime)?(game.player.gear.gearChanged&&(this.componentPlayerGear.invalidate(),game.player.gear.gearChanged=!1),game.player.storage.getStorageChanged()&&(this.playerInventory.invalidate(currentTime),this.planetInventory.invalidate(currentTime),this.componentCrafting.invalidate(currentTime),game.player.storage.setStorageChanged(!1)),game.currentPlanet&&game.currentPlanet.storage.getStorageChanged()&&(this.planetInventory.invalidate(),game.currentPlanet.storage.setStorageChanged(!1)),game.getPlanetChanged()&&(this.planetInventory.setStorage(game.currentPlanet.storage),this.componentPlanetDisplay.invalidate(),game.setPlanetChanged(!1),game.currentPlanet.data.miningLootTableId?$("#mineButton").show():$("#mineButton").hide(),game.currentPlanet.data.gatherLootTableId?$("#gatherButton").show():$("#gatherButton").hide(),game.currentPlanet.data.scavengeLootTableId?$("#scavengeButton").show():$("#scavengeButton").hide()),this.playerInventoryFilter.update(currentTime),this.playerInventory.update(currentTime),this.planetInventoryFilter.update(currentTime),this.planetInventory.update(currentTime),this.componentPlayerInventory.update(currentTime),this.componentCrafting.update(currentTime),this.componentEmpire.update(currentTime),this.componentPlayerGear.update(currentTime),this.componentPlayerShip.update(currentTime),this.componentPlanet.update(currentTime),this.componentPlanetDisplay.update(currentTime),void this.componentQuestsPanel.update(currentTime)):!1},this.show=function(){this.isVisible=!0,this.mainDiv.show().animate({opacity:1},500),this.componentLeftPanel.show("left"),this.componentRightPanel.show("right"),this.invalidate()},this.hide=function(){this.isVisible=!1,this.mainDiv.animate({opacity:0},500,function(){$(this).hide()}),this.componentLeftPanel.hide("left"),this.componentRightPanel.hide("right")},this.updatePlayerInventoryPanel=function(){var self=ui.screenPlanet;self.playerInventory.update(game.player.storage)},this.updatePlanetInventoryPanel=function(){var self=ui.screenPlanet;game.currentPlanet&&self.planetInventory.update(game.currentPlanet.storage)},this.listStats=function(){return stats=game.player.gear.getStats(),stats.totalPower=game.player.calculatePower(),stats},this.updatePlayerGearPanel=function(){var self=ui.screenPlanet,parent=$("#playerGearSlots");parent.empty();for(var gearSlots=game.player.gear.getSlots(),i=0;i<gearSlots.length;i++){var itemId=game.player.gear.getItemInSlot(gearSlots[i]),slot=ui.buildGearSlot("playerGear",gearSlots[i],itemId,parent);slot.itemContext=self.componentPlayerGear.itemContext,parent.append(slot.getMainElement())}stats=game.player.gear.getStats(),stats.totalPower=game.player.calculatePower(),y=[],Object.keys(stats).forEach(function(key){var val=stats[key],value=val.toFixed(2);isNaN(value)&&(value=0),"0.00"==value&&(value=0),y.push('<tr><td class="'+key+'">'+key.split(/(?=[A-Z])/g).join(" ").toLowerCase()+"</td><td>"+value+"</td></tr>")}),$("#minerGearStats").html("<div class='statTable'><table id=\"panel\"><tbody><tr><td>Stats</td><td>#</td></tr>"+y.join(""));var stats=uiplanetscreen.listStats();for(var key in stats)tipContent=void 0,"accuracy"==key&&(tipContent="Accuracy increases your chance to hit your opponent."),"attackSpeed"==key&&(tipContent="Attack speed determines how times per round you attack."),"counter"==key&&(tipContent="Counter allows you a free strike after being attacked."),"defense"==key&&(tipContent="Defense negates some damage you take from enemies."),"evasion"==key&&(tipContent="Evasion will sometimes allow you to dodge an attack."),"experience"==key&&(tipContent="Experience will multiply any xp you gain from mining."),"health"==key&&(tipContent="This is how many health points you currently have. When it hits 0 you die."),"lootLuck"==key&&(tipContent="Increases the quality, or quantity of loot found."),"miningLuck"==key&&(tipContent="Increases your chance to find loot."),"perception"==key&&(tipContent="Decreases your chance to be attacked while performing actions, like scavenge, or flying."),"regeneration"==key&&(tipContent="Regeneration determines how much health you restore per second."),"resilience"==key&&(tipContent="Resilience will lower the effect time of negative statuses, like Shrink, or Slow."),"scavengeLuck"==key&&(tipContent="Scavenge Luck increases your chat to find multiple items at once, and increases quality"),"strength"==key&&(tipContent="Strength is factored in to damage, and actions like mining."),"travelSpeed"==key&&(tipContent="Travel Speed modifies the amount of time it takes you to travel between planets."),"totalPower"==key&&(tipContent="Total Power is a combination of Mining Luck, and Power, and allows you to find more elements."),"undefined"!=typeof tipContent&&$("."+key).tooltipster({contentAsHTML:!0,content:tipContent,theme:"tooltipster-multi",position:"left",onlyOne:!0,delay:0,interactiveTolerance:10,speed:1,maxWidth:300})},this.buildCraftingTooltip=function(item){switch(content="<strong>"+item.name+"</strong><br>",content+="<div style='font-size:11px;text-transform:capitalize;'>",item.description&&(content+="<strong>Description: </strong>"+item.description+"<br>"),item.category){case"rawMaterial":if(item.craftCost){content+="<p><strong>Requires:</strong></br>";for(cost in item.craftCost)content+="&nbsp;"+game.getItemName(cost)+" x "+item.craftCost[cost]+"&nbsp;("+game.player.storage.getItemCount(cost)+")</br>"}item.el&&item.el&&(content+="<br><strong>Symbol: </strong>"+item.el);break;case"component":if(item.craftCost){content+="<p><strong>Crafted From:</strong></br>";for(cost in item.craftCost)content+="&nbsp;"+game.getItemName(cost)+" x "+item.craftCost[cost]+"&nbsp;("+game.player.storage.getItemCount(cost)+")</br>"}break;case"miningGear":case"gearHead":case"gearChest":case"gearMainHand":case"gearLegs":case"gearFeet":if(item.minimumMiningLevel||(item.minimumMiningLevel=0),content+="<br><strong>Mininum Mining Level: </strong>"+item.minimumMiningLevel+"<br><br>",item.craftCost){content+="<strong>Requires:</strong></br>";for(cost in item.craftCost)content+="&nbsp;"+game.getItemName(cost)+" x "+item.craftCost[cost]+"&nbsp;("+game.player.storage.getItemCount(cost)+")</br>"}content+="<p><strong>Stats:</strong></br>",content+="&nbsp;Strength: "+item.strength+"</br>",content+="&nbsp;Accuracy: "+item.accuracy+"</br>",content+="&nbsp;Health: "+item.health+"</br>",content+="&nbsp;Defense: "+item.defense+"</br>",content+="&nbsp;Evasion: "+item.evasion+"</br>",content+="&nbsp;Counter: "+item.counter+"</br>",content+="&nbsp;Regeneration: "+item.regeneration+"</br>",content+="&nbsp;resilience: "+item.resilience+"</br>",content+="&nbsp;Perception: "+item.perception+"</br>",content+="&nbsp;Experience: "+item.experience+"</br>",content+="&nbsp;Attack Speed: "+item.attackSpeed+"</br>",content+="&nbsp;Ship Speed: "+item.shipSpeed+"</br>",content+="&nbsp;Mining Luck: "+item.miningLuck+"</br>",content+="&nbsp;Loot Luck: "+item.lootLuck+"</br>",content+="&nbsp;Scavenge Luck: "+item.scavengeLuck+"</br>";break;case"building":if(item.craftCost){content+="<strong>Requires:</strong></br>";for(cost in item.craftCost)content+="&nbsp;"+game.getItemName(cost)+" x "+item.craftCost[cost]+"&nbsp;("+game.player.storage.getItemCount(cost)+")</br>"}(item.autoMine||item.autoGather||item.autoRefine||item.autoScavenge)&&(content+="<br><strong>Effects:</strong><br>",content+="Auto Digs Per Second: "+item.autoMine+"<br>",content+="Auto Gathers Per Second: "+item.autoGather+"<br>",content+="Auto Decomposes Per Second: "+item.autoRefine+"<br>",content+="Auto Scavenges Per Second: "+item.autoScavenge),item.autoProduce&&(content+="<br><br>Auto Produce: <b>5 "+item.autoProduce+" per minute.</b>"),item.statChange&&(x=[],$.each(JSON.parse(game.getItem(item.id).statChange),function(key,value){x.push(key+": <b>+"+value+"</b>")}),content+="<br><strong>Droprate Increase: </strong>"+x),content+="<br><strong>Planet Limit:</strong> "+item.planetLimit+"<br>";
break;case"spaceship":if(item.craftCost){content+="<strong>Requires:</strong></br>";for(cost in item.craftCost)content+="&nbsp;"+game.getItemName(cost)+" x "+item.craftCost[cost]+"&nbsp;("+game.player.storage.getItemCount(cost)+")</br>"}}return item.storageLimit&&(content+="<strong>Storage Limit: </strong>"+item.storageLimit+"<br>"),content+="<br><strong>Category:</strong>"+ItemCategory[item.category],content+="</div>",content},this.filterItems=function(filters,items,fn){var flagged;return"function"==typeof items&&(fn=items,items=null),filters.map(function(filter){return(null==items||flagged)&&(items=game.getItemsByCategory(filter),flagged=!0),items.filter(function(item){var res=!1;return res=fn?fn(item):null==item.minimumMiningLevel?!0:item.minimumMiningLevel<=game.player.miningLevel,item.category===filter&&res})}).reduce(function(l,r){return l.concat(r)})},this.clearCraftingPanel=function(){$("#playerCraftingContent").empty()},this.updateCraftingPanel=function(){function addTooltip(element,item){element.tooltipster({content:self.buildCraftingTooltip(item),theme:"tooltipster-multi",contentAsHTML:!0,position:"left",onlyOne:!0,interactiveTolerance:10,offsetX:0,offsetY:0,speed:10})}function countProperties(craftableItems){var count=0;for(var prop in craftableItems)craftableItems.hasOwnProperty(prop)&&++count;return count}var self=ui.screenPlanet,parent=$("#playerCraftingContent");if(""===parent.html()){parent.append("<p>Available</p>").append($("<div/>"));for(var key in ItemCategory)if("scavenge"!==key&&(items=this.filterItems([key]),items&&!(items.length<=0))){for(var craftableItems=[],i=0;i<items.length;i++)items[i].craftCost&&game.player.storage.canAdd(items[i].id)&&craftableItems.push(items[i]);if(!(craftableItems.length<=0)){var headerContent=$("<div>");parent.append("<p>"+ItemCategory[key]+"&nbsp;("+countProperties(craftableItems)+")</p>").append(headerContent);for(var i=0;i<craftableItems.length;i++){var entry=self.buildCraftingEntry(craftableItems[i]);headerContent.append(entry),addTooltip(entry,craftableItems[i])}}}$("#playerCraftingContent").accordion({heightStyle:"content",collapsible:!0,active:!1}),input=$(".filterinput").prepend('<form id="formdiv"><input class="filterinput" type="text" data-type="search" /></form><br>').parent(),$(".filterinput").on("input",function(){var a=$(this).val();if(a.length>0){var containing=$(".craftingItemPanel").filter(function(){return $(this).text().toLowerCase().indexOf(a.toLowerCase())+1}).slideDown();$(".craftingItemPanel").not(containing).slideUp()}else $(".craftingItemPanel").slideDown();return!1})}else{var craftableContent=parent.children(":nth-child(2)");for(var key in ItemCategory)if("scavenge"!=key){var items=game.getItemsByCategory(key);if(items&&!(items.length<=0)){for(var i=0;i<items.length;i++){var item=items[i];if(item.id){var maxCraftable=game.player.storage.getMaxCraftableItems(item.id);if(maxCraftable>0&&0==craftableContent.find(".craft_"+item.id).length){var entry=self.buildCraftingEntry(item);craftableContent.append(entry),addTooltip(entry,item)}var element=$(".craft_"+item.id),jxMax=element.find(".craftMax");element.find(".craft1").css("visibility",maxCraftable>=1?"visible":"hidden"),element.find(".craft10").css("visibility",maxCraftable>=10?"visible":"hidden"),element.find(".craft100").css("visibility",maxCraftable>=100?"visible":"hidden"),maxCraftable>0?(element.removeClass("craftDisabled").addClass("craftEnabled"),jxMax.html(" x "+maxCraftable.toFixed()+" ")):(element.addClass("craftDisabled"),jxMax.html(""));var qty=game.player.storage.getItemCount(item.id);element.find(".craftingCount").html(qty>0?" ("+qty+")":"")}}craftableContent.find(".craftDisabled").remove()}}}},this.updateEmpirePanel=function(){},this.updateStatsPanel=function(){var x=[],myObj=game.settings.totalStats;Object.keys(myObj).forEach(function(prop){if(myObj.hasOwnProperty(prop)&&"key"!==prop&&"function"!=typeof myObj[prop]&&"id"!=prop){null==myObj[prop]&&(myObj[prop]=0);var val=myObj[prop],value=val.toFixed(0);x.push('<tr><td class="'+prop+'">'+prop.split(/(?=[A-Z])/g).join(" ").toLowerCase()+"</td><td>"+value+"</td></tr>")}}),$("#statsContent").html("<div class='statTable'><table><tbody><tr><td>Stats</td><td>#</td></tr>"+x.join(""))},this.updateShipPanel=function(){},this.updatePlanetPanel=function(){},this.updateQuestsDisplay=function(){return},this._buildTaskList=function(dom,quest){var taskList=$("#taskList");taskList&&taskList.remove();for(var last=0,div=$("<div id='taskList'></div>"),ul=$("<ul class='taskList'></ul>"),i=0;i<quest.tasks.length;i++){var task=quest.tasks[i],li=$("<li class='taskItem'>"+task.desc+"</li>");quest.ordered?task.completed?(last=i,li.addClass("taskCompleted")):li.addClass(i==last+1?"taskCurrent":"taskUnavailable"):li.addClass(task.completed?"taskCompleted":"taskCurrent"),ul.append(li)}div.append("<div class='questDescription'>-&nbsp;"+quest.desc+"</div>"),div.append(ul),div.dialog({modal:!0})},this.activateQuests=function(){this.hideLeftSideComponents(),this.componentQuestsPanel.show()},this.updatePlanetDisplay=function(){if($("#planetDisplayBackground").empty(),$("#planetDisplayNameText").empty(),game.currentPlanet){var background=game.currentPlanet.getBackground();background&&$("#planetDisplayBackground").append("Earth"===game.currentPlanet.getName()?'<img class="planetBigEarth" src="assets/images/bigEarth.png"/>':'<img class="planetImage" src="'+background+'"/>'),$("#planetDisplayNameText").text(game.currentPlanet.getName().toUpperCase())}},this.onPlayerInventoryFilterChanged=function(){var self=ui.screenPlanet,category=self.playerInventoryFilter.selection;game.settings.selectedPlayerInventoryFilter=category,self.playerInventory.setCategory(category),self.componentPlayerInventory.invalidate()},this.onPlanetInventoryFilterChanged=function(){var self=ui.screenPlanet,category=self.planetInventoryFilter.selection;game.settings.selectedPlanetInventoryFilter=category,self.planetInventory.setCategory(category),self.componentPlanet.invalidate()},this.hideLeftSideComponents=function(){this.componentPlayerInventory.hide(),this.componentEmpire.hide(),this.componentStats.hide(),this.componentQuestsPanel.hide()},this.hideRightSideComponents=function(){this.componentPlayerGear.hide(),this.componentPlayerShip.hide(),this.componentPlanet.hide(),this.componentCrafting.hide()},this.activatePlayerInventory=function(){this.hideLeftSideComponents(),this.componentPlayerInventory.show()},this.activateCrafting=function(){this.hideRightSideComponents(),this.componentCrafting.show()},this.activateEmpire=function(){this.hideLeftSideComponents(),this.componentEmpire.show()},this.activateStats=function(){this.updateStatsPanel(),this.hideLeftSideComponents(),this.componentStats.show()},this.activatePlayerGear=function(){this.hideRightSideComponents(),this.componentPlayerGear.show()},this.activatePlayerShip=function(){this.hideRightSideComponents(),this.componentPlayerShip.show()},this.activatePlanet=function(){this.hideRightSideComponents(),this.componentPlanet.show()},this.buildCraftingEntry=function(item){var content=(ui.buildCraftingCostTooltip(item),$('<div id="craftitem" class="craft_'+item.id+' craftingItemPanel"/>')),icon=game.getDefaultItemIcon(item);return item.icon&&(icon=item.icon),"1"==item.planetLimit||-1!=item.category.indexOf("building")||-1!=item.category.indexOf("gear")?(actionText=-1!=item.category.indexOf("building")?"Build":"Craft",content.append('<image class="craftingIcon" src="'+sys.iconRoot+icon+'" />'),content.append('<span id="craftingText" class="craftingText">'+item.name+"</span>"),content.append('<span class="craftingCount"></span><br>'),content.append('<span class="craft1"   onclick="newCraft(\''+item.id+"',1);(arguments[0] || event || window.event).stopPropagation();\">&nbsp;&nbsp;"+actionText+"&nbsp;&nbsp;</span>"),content.disableSelection()):(content.append('<image class="craftingIcon" src="'+sys.iconRoot+icon+'" />'),content.append('<span id="craftingText" class="craftingText">'+item.name+"</span>"),content.append('<span class="craftingCount"></span><br>'),content.append('<span class="craft1"   onclick="newCraft(\''+item.id+"',1);(arguments[0] || event || window.event).stopPropagation();\">&nbsp;&nbsp;Craft&nbsp;&nbsp;</span>"),content.append('<span class="craft10"  onclick="newCraft(\''+item.id+"',10);(arguments[0] || event || window.event).stopPropagation();\">&nbsp;&nbsp;Craft (10)&nbsp;&nbsp;</span>"),content.append('<span class="craft100" onclick="newCraft(\''+item.id+"',100);(arguments[0] || event || window.event).stopPropagation();\">&nbsp;&nbsp;Craft (100)&nbsp;&nbsp;</span>"),content.disableSelection()),content}}function UIStarfield(){this.id="starfield",this.starColor=utils.rgba(255,255,255),this.backColor=utils.rgba(),this.isAccelerating=!0,this.isReverse=!1,this.mode=StarTravelDisplayMode.fake3d,this.acceleration=.2,this.speedMax=30,this.speedMin=0,this.speed=this.speedMin,this.deceleration=.2,this.quantity=512,this.ratio=256,this.fps=60,this.origin=void 0,this.size=void 0,this.stars=[],this.starColorRatio=0,this.canvas=void 0,this.context=void 0,this.reachedMaxSpeed=void 0,this.reachedMinSpeed=void 0,this.lastUpdateTime=Date.now(),this.baseInit=this.init,this.baseUpdate=this.update,this.baseShow=this.show,this.baseHide=this.hide,this.init=function(){this.baseInit(),this.mainDiv.prependTo(this.mainDiv.parent()),this.canvas=$('<canvas id="'+this.id+'Canvas"></canvas>'),this.mainDiv.append(this.canvas),this._measure(),this._generateStars(),$(window).resize({self:this},this._onResize)},this.update=function(currentTime){if(!this.baseUpdate(currentTime))return!1;if(this._calculateSpeed(currentTime),currentTime-this.lastUpdateTime<1e3/this.fps)return!1;switch(this.mode){case StarTravelDisplayMode.fake3d:this._animateStarsFake3d();break;default:this._animateStars2d()}this.lastUpdateTime=currentTime},this.show=function(){this.baseShow(),this.canvas.show(),this._measure(),this.invalidate()},this.hide=function(){this.baseHide(),this.canvas.hide()},this.setStarColor=function(){this.starColor=utils.rgba(255,255,255),this.context.strokeStyle=this.starColor,this.invalidate()},this.setBackColor=function(r,g,b,a){this.backColor=utils.rgba(r,g,b,a),this.context.fillStyle=this.backColor,this.invalidate()},this.decelerate=function(){this.speed=this.speedMax,this.isAccelerating=!1},this.accelerate=function(){this.speed=this.speedMin,this.isAccelerating=!0},this._calculateSpeed=function(){this.isAccelerating?this.speed<this.speedMax&&(this.speed+=this.acceleration,this.speed>this.speedMax&&(this.speed=this.speedMax,this.reachedMaxSpeed&&this.reachedMaxSpeed(this))):this.speed>this.speedMin&&(this.speed-=this.deceleration,this.speed<this.speedMin&&(this.speed=this.speedMin,this.reachedMinSpeed&&this.reachedMinSpeed(this)))},this._measure=function(){this.canvas.width(this.mainDiv.width()),this.canvas.height(this.mainDiv.height()),this.canvas[0].width=this.mainDiv.width(),this.canvas[0].height=this.mainDiv.height(),this.context=this.canvas[0].getContext("2d"),this.context.fillStyle=this.backColor,this.context.strokeStyle=this.starColor,this.size=new Vector2(this.canvas.width(),this.canvas.height()),this.origin=new Vector3,this.origin.x=Math.floor(this.size.x/2),this.origin.y=Math.floor(this.size.y/2),this.origin.z=(this.size.x+this.size.y)/2,this.starColorRatio=1/this.origin.z},this._onResize=function(parameters){var self=parameters.data.self;self.isVisible&&(self._measure(),self._generateStars())},this._generateStars=function(){for(var i=0;i<this.quantity;i++)switch(this.mode){case StarTravelDisplayMode.fake3d:this.stars[i]=new Array(5),this.stars[i][0]=Math.random()*this.size.x*2-2*this.origin.x,this.stars[i][1]=Math.random()*this.size.y*2-2*this.origin.y,this.stars[i][2]=Math.round(Math.random()*this.origin.z),this.stars[i][3]=0,this.stars[i][4]=0;break;case StarTravelDisplayMode.horizontal2d:case StarTravelDisplayMode.vertical2d:this.stars[i]=new Array(3),this.stars[i][0]=Math.floor(Math.random()*this.size.x),this.stars[i][1]=Math.floor(Math.random()*this.size.y),this.stars[i][2]=Math.floor(Math.random()*this.speedMax)}},this._animateStars2d=function(){this.context.fillRect(0,0,this.size.x,this.size.y);for(var save=new Vector2,i=0;i<this.stars.length;i++){var speed=Math.min(this.speed,this.stars[i][2]);switch(save.x=this.stars[i][0],save.y=this.stars[i][1],this.mode){case StarTravelDisplayMode.horizontal2d:this.stars[i][0]=this.isReverse?(this.stars[i][0]+speed+this.size.x)%this.size.x:(this.stars[i][0]-speed+this.size.x)%this.size.x;break;case StarTravelDisplayMode.vertical2d:this.stars[i][1]=this.isReverse?(this.stars[i][1]+speed+this.size.y)%this.size.y:(this.stars[i][1]-speed+this.size.y)%this.size.y}Math.abs(this.stars[i][0]-save.x)>=this.size.x/2||Math.abs(this.stars[i][1]-save.y)>=this.size.y/2||save.x>0&&save.x<this.size.x&&save.y>0&&save.y<this.size.y&&(this.context.lineWidth=.1+.1*speed,this.context.beginPath(),this.context.moveTo(save.x,save.y),this.context.lineTo(this.stars[i][0],this.stars[i][1]),this.context.stroke())}},this._animateStarsFake3d=function(){this.context.fillRect(0,0,this.size.x,this.size.y);for(var test=!0,save=new Vector2,i=0;i<this.stars.length;i++)test=!0,save.x=this.stars[i][3],save.y=this.stars[i][4],this.stars[i][0]>this.origin.x<<1&&(this.stars[i][0]-=this.size.x<<1,test=!1),this.stars[i][0]<-this.origin.x<<1&&(this.stars[i][0]+=this.size.x<<1,test=!1),this.stars[i][1]>this.origin.y<<1&&(this.stars[i][1]-=this.size.y<<1,test=!1),this.stars[i][1]<-this.origin.y<<1&&(this.stars[i][1]+=this.size.y<<1,test=!1),this.stars[i][2]-=this.speed,this.stars[i][2]>this.origin.z&&(this.stars[i][2]-=this.origin.z,test=!1),this.stars[i][2]<0&&(this.stars[i][2]+=this.origin.z,test=!1),this.stars[i][3]=this.origin.x+this.stars[i][0]/this.stars[i][2]*this.ratio,this.stars[i][4]=this.origin.y+this.stars[i][1]/this.stars[i][2]*this.ratio,save.x>0&&save.x<this.size.x&&save.y>0&&save.y<this.size.y&&test&&(this.context.lineWidth=2*(1-this.starColorRatio*this.stars[i][2]),this.context.beginPath(),this.context.moveTo(save.x,save.y),this.context.lineTo(this.stars[i][3],this.stars[i][4]),this.context.stroke(),this.context.closePath())}}function UITravelScreen(){this.id="travelScreen",this.parent=void 0,this.starfield=void 0,this.componentTravelDisplay=void 0,this.baseInit=this.init,this.baseUpdate=this.update,this.baseShow=this.show,this.baseHide=this.hide,this.init=function(){this.baseInit(),this.updateWhenNeededOnly=!1,this.componentTravelDisplay=new UIComponent("travelDisplay"),this.componentTravelDisplay.init(),this.componentTravelDisplay.enabled=!0,this.componentTravelDisplay.updateCallback=this.updateTravelDisplay,this.starfield=new UIStarfield,this.starfield.classes="panelTravelBackground",this.starfield.parent=$("#travelScreen"),this.starfield.updateWhenNeededOnly=!1,this.starfield.reachedMinSpeed=function(self){self.hide()},this.starfield.init(),this.starfield.hide()},this.update=function(currentTime){return this.baseUpdate(currentTime)?(this.componentTravelDisplay.invalidate(),this.componentTravelDisplay.update(currentTime),void this.starfield.update(currentTime)):!1},this.show=function(){this.baseShow(),this.starfield.accelerate(),this.starfield.show(),this.invalidate()},this.hide=function(){this.baseHide(),this.starfield.decelerate()},this.updateTravelDisplay=function(){var remaining=game.getRemainingTravelTime(),remainingTime=1e3*Math.floor(remaining/game.player.getTravelSpeed());$("#travelDistance").text(game.getRemainingTravelTime().formatNumber()+" km - ETA: "+utils.getShortTimeDisplay(remainingTime))}}function UI(){this.screenPlanet=void 0,this.screenTravel=void 0,this.isDragging=!1,this.pendingDragElementTime=Date.now(),this.pendingDragElement=void 0,this.activeDragElement=void 0,this.activeDragSource=void 0,this.activeDragTarget=void 0,this.activeFloats=[],this.cursorPositionX=0,this.cursorPositionY=0,this.numberFormatter=utils.formatters.raw,this.keyBindings={},this.modalDialogs=0,this.hasModalDialog=!1,this.init=function(){$(window).delegate("*","keypress",this.onKeyPress),$(document).bind("keypress",this.onKeyPress),$(document).on("mousemove",this.onMouseMove),$(document).on("mouseup",this.onMouseUp),this.screenPlanet=new UIPlanetScreen,this.screenPlanet.init(),this.screenTravel=new UITravelScreen,this.screenTravel.init(),game.settings.travelActive&&$("#depth").text(game.settings.travelDistanceElapsed+" / "+game.settings.travelDistanceRemaining),game.currentPlanet?(this.screenPlanet.show(),this.screenTravel.hide()):(this.screenPlanet.hide(),this.screenTravel.show())},this.update=function(currentTime){game.settings.travelActive&&$("#depth").text(game.settings.travelDistanceElapsed+" / "+game.settings.travelDistanceRemaining),game.currentPlanet&&!ui.screenPlanet.isVisible&&(ui.screenTravel.hide(),ui.screenPlanet.show()),this.screenPlanet.update(currentTime),this.screenTravel.update(currentTime)},this.onKeyPress=function(paremeter){var self=ui,_char=String.fromCharCode(paremeter.which).toLowerCase(),skipBindings=!1;if(self.hasModalDialog?skipBindings=!0:$(document.activeElement).is("input")&&(skipBindings=!0),!skipBindings){var callback=self.keyBindings[_char];callback&&callback()}},this.onMouseMove=function(parameter){var self=ui;this.cursorPositionX=parameter.pageX,this.cursorPositionY=parameter.pageY,self.isDragging&&self.activeDragElement.moveTo(this.cursorPositionX+1,this.cursorPositionY+1)},this.onMouseUp=function(){var self=ui;self.pendingDragElement&&(self.pendingDragElement=void 0),self.isDragging&&self.finishDrag()},this.notify=function(message){$.jGrowl(message)},this.notifyError=function(message){$.jGrowl(message,{header:"Error"})},this.beginDrag=function(source){sys.enableDragDrop&&(this.activeDragSource=source,this.pendingDragElement=source,this.pendingDragElementTime=Date.now())},this.enterDrag=function(source){this.isDragging=!0;var sourceElement=source.getMainElement();this.activeDragElement=new UIFloating(sourceElement.clone(),"dragDropFloating"),this.activeDragElement.init(),this.activeDragElement.moveTo(this.cursorPositionX+1,this.cursorPositionY+1)},this.setDragTarget=function(target){this.isDragging&&(this.activeDragTarget=target)},this.getDragSource=function(){return this.isDragging?this.activeDragSource:void 0},this.finishDrag=function(){this.activeDragSource&&this.activeDragTarget&&this.activeDragTarget.drop(this.activeDragSource),this.activeDragSource=void 0,this.activeDragTarget=void 0,this.activeDragElement.remove(),this.isDragging=!1},this.showDialog=function(buttonSuccess,buttonCancel,title,callback){var self=ui,buttons={};buttons[buttonSuccess]=function(){callback(),$(this).dialog("close")},buttons[buttonCancel]=function(){$(this).dialog("close")},self.addModalLayer(),$("<div></div>").dialog({autoOpen:!0,title:title,modal:!0,buttons:buttons,open:function(){$(this).siblings(".ui-dialog-buttonpane").find("button:eq(1)").focus()},close:function(){self.removeModalLayer()}})},this.bindKey=function(key,callback){this.keyBindings[key]=callback},this.addModalLayer=function(){this.modalDialogs++,this.hasModalDialog=!0},this.removeModalLayer=function(){this.modalDialogs--,this.hasModalDialog=this.modalDialogs.length>0},this.buildCraftingCostTooltip=function(item){var cost=game.getCraftingCost(item.id,1),costEntries=[];for(var key in cost){var costItem=game.getItem(key);void 0!==costItem?costEntries.push(cost[key]+" "+costItem.name):(utils.log("Invalid item in crafting for "+item.id+": "+key),costEntries.push("NaN !ERR!"))}return costEntries.join(", ")},this.buildGearSlot=function(id,slotType,itemId,parent){var item=void 0;itemId&&(item=game.getItem(itemId));var slot=new UISlot(id+"_"+slotType,parent);return slot.classes="building"==slotType.substring(0,8)?slotType+" buildingSlot ":slotType+" gearSlot hasMenu",slot.init(),void 0!=item&&slot.set(item,1),slot},this.buildItemTooltip=function(item){return item.name}}function Settings(){this.totalStats=new Statistics("total"),this.sessionStats=new Statistics("session"),this.autoSaveEnabled=!0,this.autoSaveInterval=6e4,this.savedVersion=0,this.currentPlanet,this.targetPlanet,this.travelActive,this.travelDistanceRemaining,this.travelDistanceElapsed,this.showTutorial,this.selectedPlayerInventoryFilter=1,this.selectedPlanetInventoryFilter=1,this.isNewGame=!0,this.showTutorial=!0,this.showPopups=!0,this.initialize=function(){this.totalStats.initialize(),this.sessionStats.initialize()},this.togglePopups=function(){this.showPopups=!this.showPopups},this.addStat=function(key,value){return value?(this.totalStats[key]+=value,void(this.sessionStats[key]+=value)):(this.totalStats[key]++,void this.sessionStats[key]++)},this.save=function(){this.totalStats.save(),this.sessionStats.save(),localStorage.currentPlanet=this.currentPlanet,localStorage.autoSaveEnabled=this.autoSaveEnabled,localStorage.autoSaveInterval=this.autoSaveInterval,localStorage.savedVersion=this.savedVersion,localStorage.targetPlanet=this.targetPlanet,localStorage.travelActive=this.travelActive,localStorage.travelDistanceRemaining=this.travelDistanceRemaining,localStorage.travelDistanceElapsed=this.travelDistanceElapsed,localStorage.selectedPlayerInventoryFilter=this.selectedPlayerInventoryFilter,localStorage.selectedPlanetInventoryFilter=this.selectedPlanetInventoryFilter,localStorage.isNewGame=this.newGame,localStorage.showTutorial=this.showTutorial,localStorage.showPopups=this.showPopups},this.load=function(){this.totalStats.load(),this.sessionStats.load(),this.currentPlanet=utils.loadInt("currentPlanet",0),this.autoSaveEnabled=utils.loadBool("autoSaveEnabled",!0),this.autoSaveInterval=utils.loadInt("autoSaveInterval",6e4),this.savedVersion=utils.loadFloat("savedVersion",0),this.targetPlanet=utils.load("targetPlanet",void 0),this.travelActive=utils.loadBool("travelActive",0),this.travelDistanceRemaining=utils.loadFloat("travelDistanceRemaining",0),this.travelDistanceElapsed=utils.loadFloat("travelDistanceElapsed",0),this.selectedPlayerInventoryFilter=utils.loadInt("selectedPlayerInventoryFilter",1),this.selectedPlanetInventoryFilter=utils.loadInt("selectedPlanetInventoryFilter",1),this.isNewGame=utils.loadBool("isNewGame",!0),this.showTutorial=utils.loadBool("showTutorial",!0),this.showPopups=utils.loadBool("showPopups",!0)},this.reset=function(){this.sessionStats=new Statistics("session"),this.sessionStats.initialize(),this.currentPlanet=0,this.targetPlanet=void 0,this.travelActive=!1,this.travelDistanceRemaining=0,this.travelDistanceElapsed=0,this.isNewGame=!0,this.showTutorial=!0,this.showPopups=!0,this.totalStats=new Statistics("total"),this.totalStats.initialize()}}function Player(){this.id="player",this.miningLuck=0,this.miner=new Miner("player"),this.storage=new Storage("player"),this.gear=new Gear("player"),this.stats=null,this.oxygenConsumption=1,this.canBreathe=!0,this.lastOxygenConsumption=Date.now(),this.strength=void 0,this.miningXPRequired=500,this.gatheringXPRequired=500,this.scavengingXPRequired=500,this.miningXP=0,this.miningLevel=0,this.gatheringXP=0,this.gatheringLevel=0,this.scavengingXP=0,this.scavengingLevel=0,this.totalPower=0,this.xpChanged=!1,this.initialize=function(){this.miner.initialize(),this.storage.initialize(),this.gear.initialize(),this.update(),this.gear.addSlot("head"),this.gear.addSlot("chest"),this.gear.addSlot("mainHand"),this.gear.addSlot("secondHand"),this.gear.addSlot("legs"),this.gear.addSlot("feet"),this.gear.addSlot("miningGear"),this.totalPower=this.calculatePower(),this.updateUI(),this.xpChanged=!0},this.calculatePower=function(){return this.strength=this.gear.getStats().strength||0,this.miningLuck=this.gear.getStats().miningLuck||0,this.totalPower=this.strength+this.miningLuck,this.stats.totalPower=this.totalPower,this.totalPower},this.gainMiningXP=function(value){this.miningXP+=game.player.stats.experience>0?value*game.player.stats.experience:value,this.checkMiningLevel(),this.xpChanged=!0},this.gainScavengingXP=function(value){this.scavengingXP+=value,this.checkScavengingLevel(),this.xpChanged=!0},this.gainGatheringXP=function(value){this.gatheringXP+=value,this.checkGatheringLevel(),this.xpChanged=!0},this.checkMiningLevel=function(){return this.miningXPRequired=Math.floor(500*Math.pow(2.125,this.miningLevel)),this.miningXPRequired<500&&(this.miningXPRequired=500),this.miningXP>=this.miningXPRequired?(this.miningLevel++,this.miningXPRequired=Math.floor(500*Math.pow(2.125,this.miningLevel)),this.miningXP=0,this.setStats(),uiplanetscreen.clearCraftingPanel(),uiplanetscreen.updateCraftingPanel(),!0):!1},this.checkScavengingLevel=function(){return this.scavengingXPRequired=Math.floor(500*Math.pow(2.125,this.scavengingLevel)),this.scavengingXPRequired<500&&(this.scavengingXPRequired=500),this.scavengingXP>=this.scavengingXPRequired?(this.scavengingLevel++,this.scavengingXPRequired=Math.floor(500*Math.pow(2.125,this.scavengingLevel)),this.scavengingXP=0,this.setStats(),this.xpChanged=!1,!0):!1},this.checkGatheringLevel=function(){return this.gatheringXPRequired=Math.floor(500*Math.pow(2.125,this.gatheringLevel)),this.gatheringXPRequired<500&&(this.gatheringXPRequired=500),this.gatheringXP>=this.gatheringXPRequired?(this.gatheringLevel++,this.gatheringXPRequired=Math.floor(500*Math.pow(2.125,this.gatheringLevel)),this.gatheringXP=0,this.setStats(),!0):!1},this.setStats=function(){$("#miningXP")[0].innerHTML="Mining XP: "+Math.floor(this.miningXP)+" / "+Math.ceil(this.miningXPRequired),$("#miningLevel")[0].innerHTML="Mining Level: "+this.miningLevel,$("#gatheringXP")[0].innerHTML="Gathering XP: "+Math.floor(this.gatheringXP)+" / "+Math.ceil(this.gatheringXPRequired),$("#gatheringLevel")[0].innerHTML="Gathering Level: "+this.gatheringLevel,$("#scavengingXP")[0].innerHTML="Scavenging XP: "+Math.floor(this.scavengingXP)+" / "+Math.ceil(this.scavengingXPRequired),$("#scavengingLevel")[0].innerHTML="Scavenging Level: "+this.scavengingLevel},this.updateUI=function(){this.xpChanged&&this.setStats(),this.xpChanged=!1},this.update=function(currentTime){this.miner.update(currentTime),this.stats=this.gear.getStats(),this.totalPower=this.calculatePower(),this.updateUI(),this.checkGatheringLevel(),this.checkMiningLevel(),this.checkScavengingLevel(),this.checkPlanet(),this.canBreathe||currentTime-this.lastOxygenConsumption>1e3&&(this.storage.getItemCount(Items.oxygen.id)>0&&this.storage.removeItem(Items.oxygen.id),this.lastOxygenConsumption=currentTime)},this._getStorageKey=function(){return"player_"+this.id+"_"},this.mine=function(){if(!game.currentPlanet)return!1;var items=this.miner.mine(game.currentPlanet,this.pickPower,this.miningLuck);return items.length>0?(this.storage.addItems(items),this.gainMiningXP(items.length),game.settings.addStat("foundItems",items.length),this.xpChanged=!0,$("#log").html("You've mined "+items.join(", ")+"."),!0):($("#log").html("You've mined nothing."),!1)},this.gather=function(){if(!game.currentPlanet)return!1;var items=this.miner.gather(game.currentPlanet);return items.length>0?($("#log").html("You've gathered "+items.join(", ")+"."),this.storage.addItems(items),this.gainGatheringXP(items.length),game.settings.addStat("foundItems",items.length),this.xpChanged=!0,!0):($("#log").html("You've gathered nothing."),!1)},this.scavenge=function(){if(!game.currentPlanet)return!1;var items=this.miner.scavenge(game.currentPlanet);return items.length>0?($("#log").html("You've scavenged "+items.join(", ")+"."),this.storage.addItems(items),this.gainScavengingXP(items.length),game.settings.addStat("foundItems",items.length),this.xpChanged=!0,!0):($("#log").html("You've scavenged nothing."),!1)},this.decompose=function(item){itemId=item.id,item=game.getItem(itemId).craftCost;for(var key in item)item.hasOwnProperty(key)&&this.storage.addItem(key,item[key]);this.storage.removeItem(itemId)},this.canDecomposeItem=function(item){return"scavenge"===item.category?!0:!1},this.decomposeScavenged=function(){if(!this.storage.getItemsOfCategory("scavenge"))return ui.noty({text:"You don't have anything to decompose.",type:"information",timeout:1e3});for(var tmpItems=this.storage.getItemsOfCategory("scavenge"),scavengedItems=[],gained={},removed={},i=0;i<tmpItems.length;i++)scavengedItems.push([game.getItem(tmpItems[i]),this.storage.items[tmpItems[i]]]);if(scavengedItems){for(var i=0;i<scavengedItems.length;i++){var item=scavengedItems[i][0],count=scavengedItems[i][1];for(var key in item.craftCost)this.storage.addItem(key,item.craftCost[key]*count),gained[key]=gained[key]?gained[key]+item.craftCost[key]*count:item.craftCost[key]*count;removed[item.id]=removed[item.id]?removed[item.id]+count:count,this.storage.removeItem(item.id,count)}var gainedString="<strong>Gained:</strong><br> ";for(var key in gained)gainedString+=game.getItem(key).name+" x "+gained[key]+", ";gainedString.substring(0,gainedString.length-2);var removedString="<br><br><strong>Lost:</strong><br>";for(var key in removed)removedString+=game.getItem(key).name+" x "+removed[key]+", ";removedString=removedString.substring(0,removedString.length-2),gainedString=gainedString.substring(0,gainedString.length-2);try{$(this).dialog("close")}catch(e){}$("#decompModal").modal({onShow:function(dialog){$(dialog.container).draggable({handle:"div"})},opacity:40,escClose:!0,overlayClose:!0,overlayCss:{backgroundColor:"#000"},containerId:"decompBox"}),$("#decompModal").append(gainedString+""+removedString),delete scavengedItems}},this.craft=function(itemId,count){try{return game.craft(this.storage,this.storage,itemId,count),!0}catch(err){return console.log(e),!1}return!0},this.checkPlanet=function(){null!=game.currentPlanet&&(this.canBreathe=1==game.currentPlanet.data.oxygen?!0:!1)},this.equip=function(itemId){this.gear.equip(itemId,this.storage.getItemMetadata(itemId)),this.storage.removeItem(itemId),game.player.updateUI()},this.canEquip=function(itemId){return this.gear.canEquip(itemId)},this.unEquip=function(type){if(this.hasEquipped(type)){var itemId=this.gear.getItemInSlot(type);this.gear.unEquip(type),game.player.storage.addItem(itemId),game.player.gear.gearChanged=!0,game.player.updateUI()}},this.hasEquipped=function(type){return void 0!==this.gear.getItemInSlot(type)},this.getTravelSpeed=function(){return 5e3},this.save=function(){var storageKey=this._getStorageKey();this.miner.save(),this.storage.save(),this.gear.save(),localStorage[storageKey+"miningXP"]=this.miningXP,localStorage[storageKey+"miningLevel"]=this.miningLevel,localStorage[storageKey+"miningXPRequired"]=this.miningXPRequired,localStorage[storageKey+"gatheringXP"]=this.gatheringXP,localStorage[storageKey+"gatheringLevel"]=this.gatheringLevel,localStorage[storageKey+"gatheringXPRequired"]=this.gatheringXPRequired,localStorage[storageKey+"scavengingXP"]=this.scavengingXP,localStorage[storageKey+"scavengingLevel"]=this.scavengingLevel,localStorage[storageKey+"scavengingXPRequired"]=this.scavengingXPRequired,localStorage.playerOxygenConsumption=this.oxygenConsumption,localStorage.planetID=game.currentPlanet.data.id},this.load=function(){var storageKey=this._getStorageKey();this.miner.load(),this.storage.load(),this.gear.load(),this.stats=this.gear.getStats(),this.oxygenConsumption=utils.loadFloat("playerOxygenConsumption",1),this.totalPower=this.calculatePower(),this.miningXPRequired=utils.loadFloat(storageKey+"miningXPRequired",500),this.gatheringXPRequired=utils.loadFloat(storageKey+"gatheringXPRequired",500),this.scavengingXPRequired=utils.loadFloat(storageKey+"scavengingXPRequired",500),this.miningLevel=utils.loadFloat(storageKey+"miningLevel",0),this.miningXP=utils.loadFloat(storageKey+"miningXP",0),this.gatheringLevel=utils.loadFloat(storageKey+"gatheringLevel",0),this.gatheringXP=utils.loadFloat(storageKey+"gatheringXP",0),this.scavengingLevel=utils.loadFloat(storageKey+"scavengingLevel",0),this.scavengingXP=utils.loadFloat(storageKey+"scavengingXP",0),game.currentPlanet=game.planets[utils.loadInt("planetID",1)],game.planetChanged=!0},this.reset=function(fullReset){game.wasReset=!0,$(window).off("onbeforeunload"),this.storage.reset(fullReset),this.gear.reset(fullReset),this.miner.reset(fullReset),this.oxygenConsumption=1,this.strength=0,this.miningLuck=0,this.baseMineSpeed=1,this.miningXP=0,this.miningLevel=0,this.miningXPRequired=500,this.gatheringXP=0,this.gatheringLevel=0,this.gatheringXPRequired=500,this.scavengingXP=0,this.scavengingLevel=0,this.scavengingXPRequired=500,game.wasReset=!1,$(window).on("onbeforeunload"),this.xpChanged=!0
}}function Gear(id){this.id=id,this.slots={},this.slotMetadata={},this.gearChanged=!1,this.initialize=function(){},this.update=function(){},this.addSlot=function(type){return this.slots[type]?void utils.logError("Slot was already added: "+type):(this.slots[type]=-1,void(this.slotMetadata[type]=void 0))},this.canEquip=function(itemId){var itemInfo=game.getItem(itemId);return itemInfo&&itemInfo.gearType&&this.slots[itemInfo.gearType]?game.player.miningLevel<itemId.minimumMiningLevel?(noty({layout:"bottomCenter",type:"error",timeout:1e3,text:"You are too low level to equip this."}),!1):!0:!1},this.equip=function(itemId,metadata){var itemInfo=game.getItem(itemId);return itemInfo&&itemInfo.gearType?this.slots[itemInfo.gearType]?game.player.miningLevel<itemId.minimumMiningLevel?void utils.logError("Player level is too low"):(replacedBy=null,-1!=this.slots[itemInfo.gearType]&&(replacedBy=this.slots[itemInfo.gearType],game.player.storage.addItem(this.slots[itemInfo.gearType]),game.player.unEquip(this.slots[itemInfo.gearType])),this.slots[itemInfo.gearType]=itemId,this.slotMetadata[itemInfo.gearType]=metadata,this.gearChanged=!0,replacedBy):void utils.logError("attempt to equip item but slot was not set: "+itemId+" in "+itemInfo.gearType):void utils.logError("attempt to equip unknown or invalid item: "+itemId+itemInfo.category)},this.hasGearEquipped=function(type){return this.slots[type]&&this.slots[type]>-1},this.getSlots=function(){return Object.keys(this.slots)},this.getItemInSlot=function(type){return this.slots[type]<0?void 0:this.slots[type]},this.getMetadataInSlot=function(type){return this.slotMetadata[type]},this.unEquip=function(type){return this.slots[type]?(this.slots[type]=-1,this.slotMetadata[type]=void 0,void(this.gearChanged=!0)):void Utils.logError("attempt to un-equip item but slot was not set: "+type)},this.getStats=function(){var statNames=["accuracy","attackSpeed","counter","defense","evasion","experience","health","lootLuck","miningLuck","perception","regeneration","resilience","scavengeLuck","strength","travelSpeed"],stats={accuracy:0,attackSpeed:0,counter:0,defense:0,evasion:0,experience:1,health:0,lootLuck:0,miningLuck:0,perception:0,regeneration:0,resilience:0,scavengeLuck:0,strength:0,travelSpeed:0};for(var type in this.slots)if(-1!=this.slots[type])for(var item=game.getItem(this.slots[type]),i=0;i<statNames.length;i++)item[statNames[i]]&&(stats[statNames[i]]||(stats[statNames[i]]=0),stats[statNames[i]]+=item[statNames[i]]),this.slotMetadata[type]&&this.slotMetadata[type][statNames[i]]&&(stats[statNames[i]]||(stats[statNames[i]]=0),stats[statNames[i]]+=this.slotMetadata[statNames[i]]);return stats},this._getStorageKey=function(){return"gear_"+this.id+"_"},this.save=function(){var storageKey=this._getStorageKey();for(var key in this.slots)localStorage[storageKey+key]=this.slots[key]},this.load=function(){var storageKey=this._getStorageKey();for(var key in this.slots){var itemId=utils.load(storageKey+key,void 0);itemId&&-1!=itemId&&console.log(this.equip(itemId))}},this.reset=function(){for(var key in this.slots)this.unEquip(key)}}function Planet(data){this.data=data,this.miner=new Miner("planet"+data.id),this.storage=new Storage("planet"+data.id),this.lastAutoTime=Date.now(),this.autoMinePerSecond=0,this.autoMineValue=0,this.autoMine=!1,this.autoGatherPerSecond=0,this.autoGatherValue=0,this.autoGather=!1,this.autoScavengePerSecond=0,this.autoScavengeValue=0,this.autoScavenge=!1,this.autoRefinePerSecond=0,this.autoRefineValue=0,this.autoRefine=!1,this.autoProduce=!1,this.autoProduceItems=[],this.lastProduceTime=Date.now(),this.initialize=function(){this.miner.initialize(),this.storage.initialize(),this._updateStats()},this.update=function(currentTime){this.miner.update(currentTime);var elapsedTime=currentTime-this.lastAutoTime;this.autoProduce&&currentTime-this.lastProduceTime>=12e3&&this._autoProduce();for(var autoCycles=Math.floor(elapsedTime/1e3),i=0;autoCycles>i;i++){if(this.lastAutoTime=currentTime,this.autoMine&&(this.autoMineValue+=this.autoMinePerSecond,this.autoMineValue>=1)){var attempts=Math.floor(this.autoMineValue);this.autoMineValue-=attempts,this._autoMine(attempts)}if(this.autoGather&&(this.autoGatherValue+=this.autoGatherPerSecond,this.autoGatherValue>=1)){var attempts=Math.floor(this.autoGatherValue);this.autoGatherValue-=attempts,this._autoGather(attempts)}if(this.autoScavenge&&(this.autoScavengeValue+=this.autoScavengePerSecond,this.autoScavengeValue>=1)){var attempts=Math.floor(this.autoScavengeValue);this.autoScavengeValue-=attempts,this._autoScavenge(attempts)}if(this.autoRefine&&(this.autoRefineValue+=this.autoRefinePerSecond,this.autoRefineValue>=1)){var attempts=Math.floor(this.autoRefineValue);this.autoRefineValue-=attempts,this._autoRefine(attempts)}}},this.canEquip=function(itemId){if(!itemId)return!1;var item=game.getItem(itemId);return void 0!==item&&game.getItem(itemId).planetLimit<game.currentPlanet.storage.getItemCount(itemId)&&game.player.storage.hasItem(itemId)?!0:!1},this.equip=function(itemId){return this.canEquip(itemId)===!1?void utils.logError("Unable to equip item, invalid or don't have it"):(game.moveItems(itemId,this.storage,game.player.storage,this.storage.getItemCount(itemId)-(game.getItem(itemId).planetLimit||1)),this._updateStats(),void this.update())},this.unEquip=function(itemId){game.moveItems(itemId,this.storage,game.player.storage,1),this._updateStats(),this.update()},this.getGatherLootTableId=function(){return this.data.gatherLootTableId},this.getMiningLootTableId=function(){return this.data.miningLootTableId},this.getName=function(){return this.data.name},this.getBackground=function(){return this.data.background},this._updateStats=function(){this.autoMinePerSecond=0,this.autoMineValue=0,this.autoMine=!1,this.autoGatherPerSecond=0,this.autoGatherValue=0,this.autoGather=!1,this.autoScavengePerSecond=0,this.autoScavengeValue=0,this.autoScavenge=!1,this.autoRefinePerSecond=0,this.autoRefineValue=0,this.autoRefine=!1,this.autoProduce=!1,this.autoProduceItems=[];var buildings=this.storage.getItemsOfCategory("building");if(buildings)for(var i=0;i<buildings.length;i++){var item=game.getItem(buildings[i]);item.autoProduce&&(this.autoProduce=!0,this.autoProduceItems.push(item.autoProduce)),item.autoMine&&(this.autoMine=!0,this.autoMinePerSecond+=item.autoMine*this.storage.getItemCount(item.id),this.autoMinePerSecond>10&&(this.autoMinePerSecond=10)),item.autoGather&&(this.autoGather=!0,this.autoGatherPerSecond=item.autoGather*this.storage.getItemCount(item.id),this.autoGatherPerSecond>10&&(this.autoGatherPerSecond=10)),item.autoScavenge&&(this.autoScavenge=!0,this.autoScavengePerSecond+=item.autoScavenge*this.storage.getItemCount(item.id),this.autoScavengePerSecond>10&&(this.autoScavengePerSecond=10)),item.autoRefine&&(this.autoRefine=!0,this.autoRefinePerSecond+=item.autoRefine*this.storage.getItemCount(item.id),this.autoRefine>5&&(this.autoRefinePerSecond=5))}},this._autoMine=function(attempts){if(attempts>100)throw new Error("Way too many auto attempts pending, check the timer code!");for(var totalItems=[],i=0;attempts>i;i++){game.settings.addStat("autoDigCount");var items=this.miner.mine(this);items&&(game.settings.addStat("foundItems",items.length),totalItems=$.merge(totalItems,items))}totalItems.length<=0||this._finalizeAuto(totalItems)},this._autoGather=function(attempts){if(attempts>100)throw new Error("Way too many auto attempts pending, check the timer code!");game.settings.addStat("autoGatherCount");for(var totalItems=[],i=0;attempts>i;i++){var items=this.miner.gather(this);items&&(game.settings.addStat("foundItems",items.length),totalItems=$.merge(totalItems,items))}totalItems.length<=0||this._finalizeAuto(totalItems)},this._autoScavenge=function(attempts){if(attempts>100)throw new Error("Way too many auto attempts pending, check the timer code!");game.settings.addStat("autoScavengeCount");for(var totalItems=[],i=0;attempts>i;i++){var items=this.miner.scavenge(this);items&&(game.settings.addStat("foundItems",items.length),totalItems=$.merge(totalItems,items))}totalItems.length<=0||this._finalizeAuto(totalItems)},this._autoRefine=function(attempts){if(attempts>100)throw new Error("Way too many auto attempts pending, check the timer code!");if(game.settings.addStat("autoRefineCount"),this.storage.getItemsOfCategory("scavenge")){items=this.storage.getItemsOfCategory("scavenge");var rand=items[Math.floor(Math.random()*items.length)];for(key in game.getItem(rand).craftCost)game.player.storage.addItem(key);this.storage.removeItem(rand)}},this._autoProduce=function(){game.settings.addStat("autoProduceCount"),this._finalizeAuto(this.autoProduceItems),this.lastProduceTime=Date.now()},this._finalizeAuto=function(totalItems){if(this.storage.addItems(totalItems),uiplanetscreen.updateStatsPanel(),game.currentPlanet==this)for(var items={},i=0;i<totalItems.length;i++)items[totalItems[i]]||(items[totalItems[i]]=0),items[totalItems[i]]++},this.getStorageKey=function(){return"planet"+this.data.id+"_"},this.save=function(){this.miner.save(),this.storage.save()},this.load=function(){this.miner.load(),this.storage.load(),this._updateStats()},this.reset=function(){this.miner.reset(),this.storage.reset(),this._updateStats()}}function Statistics(key){this.id=key,this.manualDigCount=0,this.manualGatherCount=0,this.manualScavengeCount=0,this.autoDigCount=0,this.autoScavengeCount=0,this.autoGatherCount=0,this.autoRefineCount=0,this.foundItems=0,this.autoProduceCount=0,this.craftedItems=0,this.initialize=function(){},this._getStorageKey=function(){return"stat_"+this.id+"_"},this.save=function(){var storageKey=this._getStorageKey();localStorage[storageKey+"manualDigCount"]=this.manualDigCount,localStorage[storageKey+"manualGatherCount"]=this.manualGatherCount,localStorage[storageKey+"manualScavengeCount"]=this.manualScavengeCount,localStorage[storageKey+"autoDigCount"]=this.autoDigCount,localStorage[storageKey+"autoGatherCount"]=this.autoGatherCount,localStorage[storageKey+"autoScavengeCount"]=this.autoScavengeCount,localStorage[storageKey+"autoRefineCount"]=this.autoRefineCount,localStorage[storageKey+"foundItems"]=this.foundItems,localStorage[storageKey+"autoProduceCount"]=this.autoProduceCount,localStorage[storageKey+"craftedItems"]=this.craftedItems},this.load=function(){var storageKey=this._getStorageKey();this.manualDigCount=utils.loadInt(storageKey+"manualDigCount",0),this.manualGatherCount=utils.loadInt(storageKey+"manualGatherCount",0),this.manualScavengeCount=utils.loadInt(storageKey+"manualScavengeCount",0),this.autoDigCount=utils.loadInt(storageKey+"autoDigCount",0),this.autoGatherCount=utils.loadInt(storageKey+"autoGatherCount",0),this.autoScavengeCount=utils.loadInt(storageKey+"autoScavengeCount",0),this.autoRefineCount=utils.loadInt(storageKey+"autoRefineCount",0),this.foundItems=utils.loadInt(storageKey+"foundItems",0),this.autoProduceCount=utils.loadInt(storageKey+"autoProduceCount","0"),this.craftedItems=utils.loadInt(storageKey+"craftedItems","0")},this.reset=function(){localStorage.setValue(this.manualDigCount,0),localStorage.setValue(this.manualGatherCount,0),localStorage.setValue(this.manualScavengeCount,0),localStorage.setValue(this.autoDigCount,0),localStorage.setValue(this.autoGatherCount,0),localStorage.setValue(this.autoScavengeCount,0),localStorage.setValue(this.autoRefineCount,0),localStorage.setValue(this.foundItems,0),localStorage.setValue(this.autoProduceCount,0),localStorage.setValue(this.craftedItems,0)}}function Quest(name,desc,ordered,tasks,reward){this.name=name,this.desc=desc,this.ordered=ordered,this.tasks=tasks.splice(0),this._reward=reward,this.completed=!1,this.addTask=function(desc,type,what){new Task(desc,type,what);return this},this.removeTask=function(index){return this.tasks.splice(index,1)},this.fail=function(){},this.complete=function(){return this.completed?!0:(this.completed=!0,this._reward(),!0)},this.check=function(){for(var i=0;i<this.tasks.length;i++)if(!this.tasks[i].completed)return!1;return this.complete(),!0},this.taskProgress=function(type,what){if(this.ordered){for(var i=0;i<this.tasks.length;i++)if(!this.tasks[i].completed){this.tasks[i].progress(type,what);break}}else for(var i=0;i<this.tasks.length;i++)this.tasks[i].progress(type,what);this.check()}}function Task(desc,type,what){if(this.desc=desc,this.type=type,"event"==type)this.event=what;else{var quantity,id;quantity=what.split(" ")[0],id=what.split(" ")[1],quantity=parseInt(quantity,10),quantity=isNaN(quantity)?1:quantity,this.current=0,this.goal=quantity,this.event=id}this.completed=!1,this.check=function(){return"event"!=this.type&&this.current>=this.goal&&(this.completed=!0),this.completed},this.progress=function(type,what){if(this.type==type)if("event"==type)what==this.event&&(this.completed=!0);else{var quantity,id;quantity=what.split(" ")[0],id=what.split(" ")[1],quantity=parseInt(quantity,10),quantity=isNaN(quantity)?0:quantity,id==this.event&&(this.current+=quantity)}return this.check()}}function initQuests(){game.addQuest("Mine Copper","Mine 10 copper",!1,[new Task("Mine copper","mine","10 copper")],function(){noty({text:"Quest Complete: Mine Copper",type:"information",timeout:3500})}),game.addQuest("Kill Thugs","Kill 2 thugs",!1,[new Task("Kill thugs","kill","2 npc_thug")],function(){noty({text:"Quest Complete: Kill Thugs",type:"information",timeout:3500})}),game.addQuest("Craft Copper Bar","Craft 1 copper bar with the copper from before",!1,[new Task("Craft copper bar","craft","1 copperBar")],function(){noty({text:"Quest Complete: Craft Copper Bar",type:"information",timeout:3500})})}function Game(){this.player=new Player,this.playerDied=-1,this.settings=new Settings,this.planets={},this.currentPlanet=void 0,this.planetDictionary=void 0,this.itemDictionary=void 0,this.lootTableDictionary=void 0,this.lastUpdateTime=Date.now(),this.lastAutoSaveTime=Date.now(),this.lastTravelTime=Date.now(),this.planetChanged=!0,this.version=.3,this.itemContexts={playerInventory:1,planetInventory:2,playerGear:3,planetGear:4,playerShip:5},this.activeItemContexts=[],this.QuestTable=[],this.init=function(){this.planetDictionary=this.buildDictionary(Planets),this.itemDictionary=this.buildDictionary(Items),this.lootTableDictionary=this.buildDictionary(LootTables),this.player.initialize(),this.settings.initialize(),initQuests(),this.questProgress("event","example"),this.load(),this.settings.isNewGame&&this.setNewGame(),this.setStartupState()},this.setNewGame=function(){for(;-1==this.player.gear.slots.miningGear;)this.player.storage.addItem(Items.woodenPick.id),this.player.equip(Items.woodenPick.id);this.settings.currentPlanet=Planets.earth.id,this.settings.isNewGame=!1,this.settings.savedVersion=this.version},this.reset=function(fullReset){this.wasReset=!0,localStorage.clear(),this.planets={},this.player.reset(fullReset),this.settings.reset(fullReset),this.settings.currentPlanet=Planets.earth.id,this.currentPlanet&&this.currentPlanet.reset(fullReset),this.setNewGame(),this.setStartupState(),location.reload(),this.wasReset=!1},this.update=function(currentTime){var elapsed=currentTime-this.lastUpdateTime,elapsedSinceAutoSave=currentTime-this.lastAutoSaveTime,elapsedSinceTravel=currentTime-this.lastTravelTime;if(this.settings.autoSaveEnabled&&elapsedSinceAutoSave>this.settings.autoSaveInterval&&!this.settings.travelActive){{noty({layout:"bottomCenter",type:"success",timeout:1500,text:"Game saved."})}this.save(),this.lastAutoSaveTime=currentTime}this.player.update(currentTime);for(planet in this.planets)this.planets[planet].update(currentTime);return this.settings.travelActive&&elapsedSinceTravel>1e3&&(this.lastTravelTime=currentTime,this.settings.travelDistanceElapsed+=this.player.getTravelSpeed(),this.settings.travelDistanceElapsed>=this.settings.travelDistanceRemaining&&this._enterOrbit(this.settings.targetPlanet)),currentTime-6e4>this.playerDied&&this.playerDied>0&&(this.playerDied=-1,$("#mineButton")[0].classList.remove("hidden"),$("#gatherButton")[0].classList.remove("hidden"),$("#scavengeButton")[0].classList.remove("hidden"),$("#fightButton")[0].classList.remove("hidden")),this.lastUpdateTime=currentTime,elapsed},this.setStartupState=function(){this.loadAllPlanets(),this.settings.travelActive||this._enterOrbit(this.settings.currentPlanet)},this.loadAllPlanets=function(){var self=this;$.each(this.planetDictionary,function(target){self.planets[target]=new Planet(self.planetDictionary[target]),self.planets[target].initialize()})},this.craft=function(storageSource,storageTarget,what,count){var targetItem=game.itemDictionary[what];if(!storageTarget.canAdd(what,count))return noty({text:"Can not craft, storage limit exceeded!"}),!1;var cost=this.getCraftingCost(what,count);if(!cost)return!1;for(var quantity=targetItem.craftResult||1,keys=Object.keys(cost),i=0;i<keys.length;i++){var key=keys[i];if(storageSource.getItemCount(key)<cost[key])return noty({text:"Insufficient resources, you need: "+keys.join(", "),timeout:1500}),!1}for(var i=0;i<keys.length;i++){var key=keys[i];storageSource.removeItem(key,cost[key])}var totalQuantity=count*quantity;return storageTarget.addItem(what,totalQuantity),game.settings.addStat("craftedItems",totalQuantity),$("#leftCategory2").hasClass("genericButtonSelected")&&uiplanetscreen.updateStatsPanel(),noty({text:"Crafted "+totalQuantity+" "+targetItem.name,type:"information",timeout:2e3}),!0},this.loot=function(table,count,luck){luck=luck||0;for(var results=[],n=0;count>n;n++)this._pickLootTableEntries(table,results,luck),!(results.length<=0);return results},this.getLootTable=function(id){return this.lootTableDictionary[id]?this.lootTableDictionary[id]:void 0},this.getItemName=function(id){return this.itemDictionary[id]?this.itemDictionary[id].name:"N/A"},this.getCraftingCost=function(itemId,count){var targetItem=this.itemDictionary[itemId];if(!targetItem.craftCost)return void ui.notifyError("Don't know how to craft this, check the data!");for(var cost={},keys=Object.keys(targetItem.craftCost),i=0;i<keys.length;i++)cost[keys[i]]=targetItem.craftCost[keys[i]]*count;return cost},this.getItem=function(itemId){return this.itemDictionary[itemId]?this.itemDictionary[itemId]:void 0},this.getItems=function(){return Object.keys(this.itemDictionary)},this.getItemsByCategory=function(category){var results=[];for(id in this.itemDictionary){var item=this.itemDictionary[id];item.category&&item.category==category&&results.push(item)}return results},this.getPlanetChanged=function(){return this.planetChanged},this.setPlanetChanged=function(value){this.planetChanged=value},this.getCategoryById=function(categoryId){return ItemCategory[Object.keys(ItemCategory)[categoryId]]},this.getCategoryKeyById=function(categoryId){return Object.keys(ItemCategory)[categoryId]},this.canTravelTo=function(target){if(void 0==target||!this.planetDictionary[target])return!1;var targetData=this.planetDictionary[target];return this.player.storage.hasItem("spaceship")?this.currentPlanet.data.id==targetData.id?!1:this.player.storage.hasItem("spaceship")?"Moon"==targetData.name?!0:"Earth"==targetData.name?!0:(ui.notifyError("You can't get past the moon for now. We are currently working on the other planets."),!1):!0:!1},this.travelTo=function(target){return void 0!=target&&this.planetDictionary[target]?(this.settings.travelActive=!0,this.settings.travelDistanceRemaining=this.planetDictionary[target].distance,this.settings.travelDistanceElapsed=0,this.currentPlanet&&(this.settings.travelDistanceRemaining=Math.abs(this.settings.travelDistanceRemaining-this.currentPlanet.data.distance),this._leaveOrbit(target)),this.currentPlanet=this.planetDictionary[target.id],void(this.planetChanged=!0)):void ui.notifyError("Unknown destination: "+target)},this.getDefaultItemIcon=function(item){if(item.category){if("rawMaterial"==item.category)return sys.iconPlaceholderRawMaterial;if("gem"==item.category)return sys.iconPlaceholderGem;if("gearChest"==item.category)return sys.iconPlaceholderChest;if("gearHead"==item.category)return sys.iconPlaceholderHead}return sys.iconPlaceholder},this.getRemainingTravelTime=function(){return this.settings.travelDistanceRemaining-this.settings.travelDistanceElapsed},this.moveItems=function(itemId,sourceStorage,targetStorage,count){sourceStorage.removeItem(itemId,count)&&(targetStorage.addItem(itemId,count)||sourceStorage.addItem(itemId,count))},this.removeItems=function(itemId,storage,count){storage.removeItem(itemId,count)},this.movePlanetItemsToPlayer=function(){if(!this.currentPlanet)return!1;for(var items=this.currentPlanet.storage.getItems(),i=0;i<items.length;i++){var count=this.currentPlanet.storage.getItemCount(items[i]);if(!(0>=count)){var item=this.getItem(items[i]);switch(item.category){case"rawMaterial":case"gem":case"scavenge":break;default:continue}this.moveItems(items[i],this.currentPlanet.storage,this.player.storage,count)}}},this.setItemContext=function(context){},this.clearItemContexts=function(){this.activeItemContexts=[]},this.clearItemContext=function(context){this.activeItemContexts=jQuery.grep(this.activeItemContexts,function(value){return value!=context})},this.getItemContext=function(sourceContext){for(var i=0;i<this.activeItemContexts.length;i++)if(this.activeItemContexts[i]!=sourceContext)return this.activeItemContexts[i]},this.canProcessItemContext=function(itemId,sourceContext){var target=this.getItemContext(sourceContext);if(!target)return!1;var item=this.getItem(itemId);return void 0!=item},this.activateItemContext=function(itemId,sourceContext){if(!this.canProcessItemContext(itemId))return!1;var target=this.getItemContext(sourceContext);switch(sourceContext){case this.itemContexts.playerInventory:return this._processItemContextPlayerInventory(itemId,target);case this.itemContexts.planetInventory:return this._processItemContextPlanetInventory(itemId,target);case this.itemContexts.playerGear:return this._processItemContextPlayerGear(itemId,target);case this.itemContexts.planetGear:return this._processItemContextPlanetGear(itemId,target);case this.itemContexts.playerShip:return this._processItemContextPlayerShip(itemId,target);default:throw new Error("Not implemented context type: "+this.activeItemContextSource)}},this.canUseItemContext=function(itemId,sourceContext){if(!sourceContext)return!1;var item=this.getItem(itemId);if(!item||1!=item.use)return!1;switch(sourceContext){case this.itemContexts.playerInventory:return!0;case this.itemContexts.planetInventory:return!0;default:return!1}},this.useItemContext=function(itemId,sourceContext){if(!this.canUseItemContext(itemId,sourceContext))return!1;var item=this.getItem(itemId);if(!item||1!=item.use)return!1;var target=this.getItemContext(sourceContext);switch(utils.log("useItemContext: "+itemId+" "+sourceContext+" -> "+target),sourceContext){case this.itemContexts.playerInventory:return this.removeItems(itemId,this.player.storage,1),this._applyItemUseEffect(item,target);case this.itemContexts.planetInventory:return this.removeItems(itemId,this.currentPlanet.storage,1),this._applyItemUseEffect(item,target);default:return!1}},this.addQuest=function(name,desc,ordered,tasks,reward){this.QuestTable.push(new Quest(name,desc,ordered,tasks,reward))},this.questProgress=function(type,what){for(var i=0;i<this.QuestTable.length;i++)this.QuestTable[i].completed||this.QuestTable[i].taskProgress(type,what)},this._applyItemUseEffect=function(item){throw new Error("Used item: "+item.id)},this._processItemContextPlayerInventory=function(itemId,targetContext){switch(targetContext){case this.itemContexts.playerInventory:return this.moveItems(itemId,this.currentPlanet.storage,this.player.storage,this.currentPlanet.storage.getItemCount(itemId)),!1;case this.itemContexts.planetInventory:return this.moveItems(itemId,this.player.storage,this.currentPlanet.storage,this.player.storage.getItemCount(itemId)),this.currentPlanet.equip(itemId),!0;case this.itemContexts.playerGear:return!0;case this.itemContexts.planetGear:return!0;case this.itemContexts.playerShip:return!0;default:return!1}},this._processItemContextPlanetInventory=function(itemId,targetContext){switch(targetContext){case this.itemContexts.playerInventory:return this.moveItems(itemId,this.currentPlanet.storage,this.player.storage,this.currentPlanet.storage.getItemCount(itemId)),!0;case this.itemContexts.planetInventory:return this.currentPlanet.canEquip(itemId)&&this.currentPlanet.equip(itemId),!0;default:return!1}},this._processItemContextPlayerGear=function(itemId,targetContext){var item=this.getItem(itemId);switch(targetContext){case this.itemContexts.playerInventory:return this.player.hasEquipped(item.gearType)&&this.player.unEquip(item.gearType),!0;default:return!1}},this._processItemContextPlanetGear=function(){},this._processItemContextPlayerShip=function(){},this._pickLootTableEntries=function(table,results,luck){switch(luck=luck||0,table.mode){case LootMode.single:this._pickSingleLootTableEntry(table,results,luck);break;case LootMode.multi:this._pickMultiLootTableEntries(table,results,luck)}},this._pickMultiLootTableEntries=function(table,results,luck){luck=luck||1;for(var i=0;i<table.entries.length;i++){var entry=table.entries[i][0],chance=this._calculateChance(table.entries[i],luck);Math.random()<=chance&&(entry.entries?this._pickLootTableEntries(entry,results,luck):results.push(entry))}},this._pickSingleLootTableEntry=function(table,results,luck){luck=luck||0;var pick=utils.getRandomInt(0,table.entries.length-1),entry=table.entries[pick];entry.entries?this._pickLootTableEntries(entry,results,luck):results.push(entry)},this._calculateChance=function(entry,luck){var chance=entry[1]*Math.sqrt(Math.pow(1.1,luck-1)),buildings=game.currentPlanet.storage.getItemsOfCategory("building");if(buildings)for(var i=0;i<buildings.length;i++){var building=buildings[i],count=game.currentPlanet.storage.getItemCount(building),stats=game.getItem(building).statChange;if(stats){var aMatch=stats.match('(\\w+)":([0-9.]+)'),material=aMatch[1],extraChance=aMatch[2];material==entry[0]&&(chance+=parseFloat(extraChance)*count)}}return chance},this._leaveOrbit=function(target){this.currentPlanet||ui.notifyError("Can not leave, not on a planet"),this.currentPlanet.save(),this.settings.targetPlanet=target},this._enterOrbit=function(target){this.currentPlanet=this.planets[target],this.settings.currentPlanet=this.currentPlanet.data.id,this.currentPlanet.load(),this.settings.targetPlanet=void 0,this.settings.travelActive=!1},this.buildDictionary=function(list){for(var result={},keys=Object.keys(list),i=0;i<keys.length;i++){var entry=list[keys[i]];result[entry.id]?utils.logError("Duplicate id: "+entry.id):result[entry.id]=entry}return result},this.save=function(){"undefined"!=typeof Storage&&(this.wasReset||(this.player.save(),this.settings.save(),this.currentPlanet.save()),this.currentPlanet&&this.currentPlanet.save())},this.load=function(){"undefined"!=typeof Storage&&(this.player.load(),this.settings.load())}}function Socket(io){this.url="ws://mvws.brechtmedia.com:1337",this.socket=void 0,this.retryTimeout=6e4,this.initialize=function(){this.connect()},this.isConnected=function(){return void 0===this.socket?!1:this.socket.connected},this.connect=function(){this.socket=io(this.url,{forceNew:!0,rememberTransport:!1,reconnectionDelay:5e3,reconnectionAttempts:3}),this.registerConnectionEvents(),this.registerNotificationEvents()},this.registerNotificationEvents=function(){this.socket.on("notification",function(msg){noty({text:msg,type:"information",timeout:5e3})})},this.registerConnectionEvents=function(){this.socket.on("connect",function(){}),this.socket.on("disconnect",function(){}),this.socket.on("reconnect_failed",function(){var myThis=this;setTimeout(function(){myThis.connect()},myThis.retryTimeout)})}}function onDocumentReady(){$("#audioDig").trigger("load"),$("#audioDigSuccess").trigger("load"),game.init(),ui.init(),ui.bindKey("d",onMine),ui.bindKey("m",onMine),ui.bindKey("g",onGather),ui.bindKey("s",onScavenge),onActivatePlayerInventory(),onActivatePlayerGear();var interval=1e3/60;setInterval(function(){onUpdate()},interval),$(document).on("mousedown",".hasMenu",function(e){try{$(".tooltipstered.hasMenu.itemSlotHover").tooltipster("hide")}catch(e){}e.preventDefault();var item=game.getItem($("div:last-child",this).attr("id"));3===e.which&&void 0!==item&&$(this).contextmenu({menu:function(){var menu=[{title:"Info",action:function(){var itemName=item.name,itemDescription=item.description,dialogDiv=$("#itemInfo");dialogDiv.dialog({title:"Item Info: "+itemName,autoOpen:!0}),dialogDiv.html("<p>Name: "+itemName+"</p>"),void 0===itemDescription&&(itemDescription="A mysterious item."),dialogDiv.append("<p>Description: "+itemDescription+"</p>")}}];if(game.player.canEquip(item.id)){var currentEquip=game.player.gear.getItemInSlot(item.gearType);void 0!==currentEquip&&(currentEquip=game.getItem(currentEquip));var equipText="Unequip";(void 0===currentEquip||currentEquip.id!==item.id)&&(equipText="Equip"),item.minimumMiningLevel<=game.player.miningLevel&&menu.push({title:equipText,action:function(){game.player.hasEquipped(item.gearType)&&item.id===currentEquip.id?game.player.unEquip(item.gearType):game.player.equip(item.id),game.player.update()}})}return item.category.indexOf("building")>-1&&(e.target.id.indexOf("planet")>-1&&menu.push({title:"Deconstruct",action:function(){try{game.moveItems(item.id,game.currentPlanet.storage,game.player.storage,1),game.currentPlanet.storage.setStorageChanged(!0),game.currentPlanet._updateStats(),game.currentPlanet.update()}catch(e){return void noty({layout:"bottomCenter",type:"error",timeout:1e3,text:"An error was encountered when trying to move the building."})}}}),e.target.id.indexOf("player")>-1&&parseInt(item.planetLimit,10)>parseInt(game.currentPlanet.storage.getItemCount(item.id),10)&&menu.push({title:"Construct",action:function(){try{game.moveItems(item.id,game.player.storage,game.currentPlanet.storage,1),game.currentPlanet.storage.setStorageChanged(!0),game.currentPlanet._updateStats(),game.currentPlanet.update()}catch(e){return void noty({layout:"bottomCenter",type:"error",timeout:1e3,text:"An error was encountered when trying to move the building."})}}})),game.player.canDecomposeItem(item)&&menu.push({title:"Decompose All",action:function(){game.player.decomposeScavenged()}}),game.player.storage.hasItem(item.id)&&menu.push({title:"Trash",action:function(){e.target.id.indexOf("player")>-1?game.player.storage.removeItem(item.id,game.player.storage.getItemCount(item.id)):game.currentPlanet.storage.removeItems(item.id,game.currentPlanet.storage.getItemCount(item.id))}}),menu}})}),$("#playerCraftingContent").sieve({itemSelector:"div"}),$(document).on("keyup",".craftingFilter",function(){""==$(".craftingFilter").val()&&$("#playerCraftingContent").accordion("refresh")}),$("#settings").toolbar({content:"#user-toolbar-options",position:"top",hideOnClick:!0}),$(".tooltip").tooltipster({theme:"tooltipster-multi",contentAsHTML:!0,position:"bottom",onlyOne:!0,interactiveTolerance:10,speed:1,offsetX:0,offsetY:0}),$(".tooltip2").tooltipster({theme:"tooltipster-multi",position:"bottom",onlyOne:!0,delay:0,timer:2e3,interactiveTolerance:10,speed:1,positionTracker:!0,offsetX:0,offsetY:0}),obj={gatheringLevel:0,gatheringXP:0,scavengingLevel:0,scavengingXP:0,miningLevel:0,miningXP:0};for(var key in obj)"gatheringLevel"==key&&(tipContent="This is your current <b>gathering level</b>.<p>Each time you increase your level you unlock bonuses."),"gatheringXP"==key&&(tipContent="This is your current <b>gathering XP<b>.<p>You gain xp each time you find an item while gathering. <br>When you have enough xp, you will level."),"scavengingLevel"==key&&(tipContent="This is your current <b>scavenging level</b>.<p>Each time you increase your level you unlock bonuses."),"scavengingXP"==key&&(tipContent="This is your current <b>scavenging XP</b>. <p>You gain xp each time you find an item while scavenging. <br>When you have enough xp, you will level."),"miningLevel"==key&&(tipContent="This is your current <b>mining level</b>. <p>Each time you increase your level you unlock bonuses."),"miningXP"==key&&(tipContent="This is your current <b>mining XP</b>.<p>You gain xp each time you find an item while mining.<br>When you have enough xp, you will level."),$("#"+key).tooltipster({contentAsHTML:!0,content:tipContent,theme:"tooltipster-multi",position:"left",onlyOne:!0,delay:0,interactiveTolerance:10,speed:1,maxWidth:300});
game.player.updateUI(),game.settings.showTutorial&&($("#joyRideTipContent").joyride({autoStart:!0,postStepCallback:function(index){2==index&&$(this).joyride("set_li",!1,1)},modal:!1,expose:!0,cookieMonster:!0,cookieName:"JoyRide",cookieDomain:!1}),game.settings.showTutorial=!1)}function selectClass(playerClass){game.player.playerClass=playerClass,$("#class-pick").dialog("close"),game.save()}function tutorial(){$("#joyRideTipContent").joyride({autoStart:!0,postStepCallback:function(index){2==index&&$(this).joyride("set_li",!1,1)},modal:!1,expose:!0})}function onUpdate(){var currentTime=Date.now();game.update(currentTime),ui.update(currentTime)}function newCraft(itemId,quantity){if(void 0==itemId)return utils.logError("onCraft with no item specified."),!1;void 0==quantity&&(quantity=1),"max"==quantity&&(quantity=game.player.storage.getMaxCrafts(itemId));try{return game.player.craft(itemId,quantity)?!0:!1}catch(e){console.log(e)}}function onCraft(what){return void 0==what?void utils.logError("onCraft with invalid target"):void(game.player.craft(what)&&ui.screenPlanet.componentCrafting.invalidate())}function exportStorage(){try{$.modal.close()}catch(e){}base64=window.btoa(JSON.stringify(localStorage));var x=base64;content="<strong>Export your Game</strong><br>Remove ALL gear before saving.<br>Ctrl+A to select your saved game",content+='<textarea class="selectExportGame" cols="43" rows="20">'+x+"</textarea>",$.modal.close(),$.modal(content,{opacity:80,escClose:!0,containerId:"exportBox",focus:!0,overlayCss:{backgroundColor:"#000"}})}function importStorage(){try{$.modal.close()}catch(e){}content="<strong>Import a Saved Game</strong><br>Paste your save below.",content+='<textarea cols="43" rows="19" class="selectImportGame"></textarea>',content+='<p><button onclick="doImport()">Import</button>',$.modal(content,{opacity:80,escClose:!0,containerId:"importBox",focus:!0,overlayCss:{backgroundColor:"#000"}})}function doImport(){encoded=$(".selectImportGame").val();var decoded=JSON.parse(window.atob(encoded));game.reset(),$.each(decoded,function(k,v){window.localStorage.setItem(k,v)})}function toggleAudio(){document.getElementById("audioDig").muted?(document.getElementById("audioDig").muted=!1,document.getElementById("audioDigSuccess").muted=!1,document.getElementById("audioGas").muted=!1,document.getElementById("audioScavenge").muted=!1,noty({text:"Audio unmuted.",type:"notification",layout:"bottomCenter",timeout:500})):(document.getElementById("audioDig").muted=!0,document.getElementById("audioGas").muted=!0,document.getElementById("audioDigSuccess").muted=!0,document.getElementById("audioScavenge").muted=!0,$("#audioDig").trigger("stop"),$("#audioDigSuccess").trigger("stop"),$("#audioGas").trigger("stop"),$("#audioScavenge").trigger("stop"),noty({text:"Audio muted.",type:"notification",layout:"bottomCenter",timeout:500}))}function goMining(){$("#miningModal").modal({modal:!1,escClose:!0,overlayClose:!0,opacity:1,overlayCss:{backgroundColor:"#000"},onShow:function(dialog){$(dialog.container).draggable({handle:"div"})},position:["15%","36%"],containerId:"miningBox"})}function planetLootModal(){$("#planetLootModal").modal({modal:!1,escClose:!0,overlayClose:!0,opacity:1,overlayCss:{backgroundColor:"#000"},onShow:function(dialog){$(dialog.container).draggable({handle:"div"})},position:["15%","36%"],containerId:"planetLootModal"})}function goGathering(){$("#gatheringModal").modal({modal:!1,escClose:!0,overlayClose:!0,opacity:1,overlayCss:{backgroundColor:"#000"},onShow:function(dialog){$(dialog.container).draggable({handle:"div"})},position:["15%","36%"],containerId:"gatheringBox"})}function goScavenging(){$("#scavengingModal").modal({modal:!1,escClose:!0,overlayClose:!0,opacity:1,overlayCss:{backgroundColor:"#000"},onShow:function(dialog){$(dialog.container).draggable({handle:"div"})},position:["15%","36%"],containerId:"scavengingBox"})}function onMine(){return game.playerDied>0?!1:"undefined"!==this.lastRun&&this.lastRun>=~~Date.now()/200|0?!1:(result=game.player.mine(),result?$("#audioDigSuccess").trigger("play"):$("#audioDig").trigger("play"),game.settings.addStat("manualDigCount"),$("#leftCategory2").hasClass("genericButtonSelected")&&uiplanetscreen.updateStatsPanel(),void(this.lastRun=~~Date.now()/200|0))}function onGather(){return game.playerDied>0?!1:"undefined"!==this.lastRun&&this.lastRun>=~~Date.now()/200|0?!1:($("#audioGas").trigger("play"),game.player.gather(),game.settings.addStat("manualGatherCount"),$("#leftCategory2").hasClass("genericButtonSelected")&&uiplanetscreen.updateStatsPanel(),void(this.lastRun=~~Date.now()/200|0))}function onScavenge(){return game.playerDied>0||"1"!=game.currentPlanet.data.id?!1:"undefined"!==this.lastRun&&this.lastRun>=~~Date.now()/200|0?!1:(game.player.scavenge(),$("#audioScavenge").trigger("play"),game.settings.addStat("manualScavengeCount"),$("#leftCategory2").hasClass("genericButtonSelected")&&uiplanetscreen.updateStatsPanel(),void(this.lastRun=~~Date.now()/200|0))}function onActivatePlayerInventory(){changeLeftCategoryButton(0),ui.screenPlanet.activatePlayerInventory()}function onActivateCrafting(){changeRightCategoryButton(3),ui.screenPlanet.activateCrafting()}function onActivateEmpire(){changeLeftCategoryButton(1),ui.screenPlanet.activateEmpire()}function onActivateStats(){changeLeftCategoryButton(2),ui.screenPlanet.activateStats()}function onActivateQuests(){changeLeftCategoryButton(3),ui.screenPlanet.activateQuests()}function onActivatePlayerGear(){changeRightCategoryButton(0),ui.screenPlanet.activatePlayerGear()}function onActivateShip(){changeRightCategoryButton(1),ui.screenPlanet.activatePlayerShip()}function onActivatePlanet(){changeRightCategoryButton(2),ui.screenPlanet.activatePlanet()}function onMovePlanetItemsToPlayer(){game.movePlanetItemsToPlayer()}function onSave(){game.save(),noty({text:"Auto-saved.",type:"notification",layout:"bottomCenter",timeout:500})}function onPlayerDied(){game.playerDied=new Date,$("#mineButton")[0].classList.add("hidden"),$("#gatherButton")[0].classList.add("hidden"),$("#scavengeButton")[0].classList.add("hidden"),$("#fightButton")[0].classList.add("hidden")}function doReset(){game.wasReset=!0,game.reset(),onActivatePlayerInventory(),onActivatePlayerGear()}function onTravelToPlanet(target){return game.canTravelTo(target)?($.modal.close(),$(window).one("scroll",function(){document.body.scrollTop=document.documentElement.scrollTop=0}),$(".panelBottom").hide(),$("#planetDisplay").hide(),ui.screenPlanet.hide(),ui.screenTravel.show(),game.travelTo(target),void $(document).ready(function(){setTimeout(function(){$(".panelBottom").fadeIn(500),$("#planetDisplay").fadeIn(500)},2e3)})):void noty({text:"You can't travel here.",type:"error",layout:"bottomCenter",timeout:500})}function onSetInventoryFilter(filter){ui.inventoryPlayerCategoryFilter=filter,ui.updateComponent(ui.componentPlayerInventory),ui.inventoryPlanetCategoryFilter=filter,ui.updateComponent(ui.componentPlayerInventory)}function showFight(){return game.playerDied>0?!1:($("#fight-dialog").dialog({title:"Fight",minWidth:350,minHeight:"auto"}).bind("dialogclose",function(){$("#fightText").val(""),game.currentFight.disableFight()}),game.currentFight=new Fight,void game.currentFight.init())}function onReset(){$("#resetModal").modal({onShow:function(dialog){$(dialog.container).draggable({handle:"div"})},opacity:80,escClose:!0,overlayClose:!0,overlayCss:{backgroundcolor:"#000"},containerId:"resetDialog"})}function spaceTravel(){$("#solarsystem").load("solar.html").modal({opacity:100,height:20,escClose:!0,overlayClose:!0,overlayCss:{backgroundColor:"#000",backgroundImage:"url('assets/images/stardust.jpg')"},containerId:"spaceTravelMap"})}function showChangeLog(){$("#changeLog").load("changelog.html").modal({opacity:60,height:50,escClose:!0,overlayClose:!0,overlayCss:{backgroundColor:"#000"},containerId:"changesLog"})}function changeLeftCategoryButton(selected){for(var i=0;4>i;i++){var name=document.getElementById("leftCategory"+i);name.className="genericButton categoryButton clickable"}var name=document.getElementById("leftCategory"+selected);name.className="genericButtonSelected categoryButton clickable"}function changeRightCategoryButton(selected){for(var i=0;4>i;i++){var name=document.getElementById("rightCategory"+i);name.className="genericButton categoryButton clickable"}var name=document.getElementById("rightCategory"+selected);name.className="genericButtonSelected categoryButton clickable"}function characterSelect(){var src="character.html";$.modal('<iframe src="'+src+'"height="400" width="650" frameBorder="0">',{closeHTML:"",opacity:90,escClose:!0,overlayClose:!0,overlayCss:{backgroundColor:"#000"},containerId:"characterSelect"})}var sys=new System;if(!exports)var exports={};exports.sys=sys,define("data/system",function(){}),Items={miningRig:{category:"building",id:"miningRig",icon:"miningRig.png",name:"Mining Rig",description:"Pulls raw materials from the ground",value:5e4,autoMine:.25,autoGather:0,autoScavenge:0,autoRefine:0,planetLimit:1,craftCost:{ironBar:100,gasCan:10}},refinery:{category:"building",id:"refinery",icon:"refinery.png",name:"Refinery",description:"Decomposes scavenged items",value:5e4,autoMine:0,autoGather:0,autoScavenge:0,autoRefine:.25,planetLimit:1,craftCost:{ironBar:50,gasCan:10,cpu:1}},gatherStation:{category:"building",id:"gatherStation",icon:"gatherStation.png",name:"Gathering Station",description:"Gather oxygen from the atmosphere",value:5e4,autoMine:0,autoGather:.25,autoScavenge:0,autoRefine:0,planetLimit:1,craftCost:{copper:100,gasCan:10,cpu:1}},scavengeStation:{category:"building",id:"scavengeStation",icon:"scavengingStation.png",name:"Scavenging Station",description:"Gather random objects from the planet",value:5e4,autoMine:0,autoGather:0,autoScavenge:.25,autoRefine:0,planetLimit:1,craftCost:{gold:50,cpu:1}},crudeOilDrone:{category:"building",id:"crudeOilDrone",icon:"drone.png",name:"Crude Oil Drone",description:"It'll help you find oil.",value:5e4,autoMine:0,autoGather:0,autoScavenge:0,autoRefine:0,planetLimit:1,statChange:'{"crudeOil":0.05}',craftCost:{steelBar:50,cpu:1,gasCan:10,wiring:2}},ironDetector:{category:"building",id:"ironDetector",icon:"ironDetector.png",name:"Iron Detector",description:"A small device that helps to find iron.",value:5e4,autoMine:0,autoGather:0,autoScavenge:0,autoRefine:0,planetLimit:1,statChange:'{"iron":0.09}',craftCost:{ironBar:10,cpu:1}},oilPump:{category:"building",id:"oilPump",icon:"oilPump.png",name:"Oil Pump",description:"Produces oil.",value:5e4,autoMine:0,autoGather:0,autoScavenge:0,autoRefine:0,planetLimit:5,statChange:'{"crudeOil":0.07}',craftCost:{ironBar:100,steelBar:50,gasCan:50}},carbonDetector:{category:"building",id:"carbonDetector",icon:"carbonDetector.png",name:"Carbon Detector",description:"Finds more carbon.",value:5e4,autoMine:0,autoGather:0,autoScavenge:0,autoRefine:0,planetLimit:1,statChange:'{"carbon":0.05}',craftCost:{ironBar:25,steelBar:1,cpu:1,coaxialCable:1}},coalFactory:{category:"building",id:"coalFactory",icon:"coalFactory.png",name:"Coal Factory",description:"Produces 5 coal a minute.",value:5e4,autoMine:0,autoGather:0,autoScavenge:0,autoRefine:0,planetLimit:1,autoProduce:"coal",craftCost:{ironBar:100,steelBar:25,gasCan:10}},ironFactory:{category:"building",id:"ironFactory",icon:"ironFactory.png",name:"Iron Factory",description:"Produces 5 iron a minute.",value:5e4,autoMine:0,autoGather:0,autoScavenge:0,autoRefine:0,planetLimit:1,autoProduce:"iron",craftCost:{steelBar:125,gasCan:10,cpu:1}},steelFactory:{category:"building",id:"steelFactory",icon:"factory.png",name:"Steel Factory",description:"Produces 5 steel a minute.",value:5e4,autoMine:0,autoGather:0,autoScavenge:0,autoRefine:0,planetLimit:1,autoProduce:"steel",craftCost:{steelBar:50,gasCan:25,cpu:1,wiring:10,copper:25}},silverFactory:{category:"building",id:"silverFactory",icon:"factory2.png",name:"Silver Factory",description:"Produces 5 silver a minute.",value:5e4,autoMine:0,autoGather:0,autoScavenge:0,autoRefine:0,planetLimit:1,autoProduce:"silver",craftCost:{silverBar:25,gasCan:50,cpu:2,wiring:20,copperBar:25,ironBar:10}},recyclingCenter:{category:"building",id:"recyclingCenter",icon:"recyclingCenter.png",name:"Recycling Center",description:"Produces raw materials from recycled goods.",value:5e4,autoMine:0,autoGather:0,autoScavenge:0,autoRefine:0,planetLimit:1,autoProduce:"aluminum",craftCost:{ironBar:200,steelBar:100,copperBar:50,wiring:50,gasCan:50}},aluminumBar:{category:"component",id:"aluminumBar",icon:"aluminumBar.png",name:"Aluminum Bar",description:"An aluminum bar.",value:2500,craftCost:{aluminum:10}},anvil:{category:"component",id:"anvil",icon:"anvil.png",name:"Anvil",description:"An anvil used for crafting.",value:100,craftCost:{ironBar:25}},atmosphereConcentrator:{category:"component",id:"atmosphereConcentrator",icon:"atmosphericCompressor.png",name:"Atmosphere Concentrator",description:"Concentrates the atmosphere.",value:1e4,craftCost:{ironBar:5,smallMotor:1}},battery:{category:"component",id:"battery",icon:"battery.png",name:"Battery",description:"Holds power for use in electronics.",value:50,craftCost:{hydrogen:2,oxygen:5,nickel:5,copper:10}},bronzeBar:{category:"component",id:"bronzeBar",icon:"bronzeBar.png",name:"Bronze Bar",description:"A bronze bar.",value:250,craftCost:{copper:10,tin:1}},ceramic:{category:"component",id:"ceramic",icon:"ceramics.png",name:"Ceramic",description:"Composite Heat shielding material",value:200,craftCost:{silicaGlass:1,aluminaOxide:2,nitrogen:5}},ceramicTile:{category:"component",id:"ceramicTile",icon:"ceramicTiles.png",name:"Ceramic Tile",description:"Shaped tiles used for ship construction.",value:500,craftCost:{ceramic:2,oxygenCan:1}},coaxialCable:{category:"component",id:"coaxialCable",icon:"coaxialCable.png",name:"Coaxial Cable",description:"Wiring used in many recipes.",value:150,craftCost:{plasticTubing:5,copper:10,silicon:5,magnesium:5}},controlBoard:{category:"component",id:"controlBoard",icon:"circuitBoard.png",name:"Control Board",description:"Controls electronic stuff",value:25e4,craftCost:{pureSilicon:5,aluminaOxide:10,copperBar:10}},copperBar:{category:"component",id:"copperBar",icon:"copperBar.png",name:"Copper bar",description:"A bar made of copper.",value:5,craftCost:{copper:10}},energyCell:{category:"component",id:"energyCell",icon:"energyCell.png",name:"Energy Cell",description:"Keep your energy inside.",value:15e3,craftCost:{barium:1,krypton:1,steelBar:2}},fiberglass:{category:"component",id:"fiberglass",icon:"fiberglass.png",name:"Fiber Glass",description:"Used for insulation",value:5e3,craftCost:{polystyrene:5,glass:10}},gasCan:{category:"component",id:"gasCan",icon:"gasCan.png",name:"Gas canister",description:"A canister used to hold gas.",value:50,craftCost:{ironBar:5,fuel:2}},glass:{category:"component",id:"glass",icon:"glass.png",name:"Glass",description:"A crystalline material.",value:5e3,craftCost:{silica:2,sodium:1,magnesium:1,lime:1}},goldBar:{category:"component",id:"goldBar",icon:"goldBar.png",name:"Gold bar",description:"A bar made of gold.",value:1e3,craftCost:{gold:10}},gps:{category:"component",id:"gps",icon:"gps.png",name:"GPS",description:"A system for coordinate based location.",value:1e4,craftCost:{microchip:5,steelBar:10,controlBoard:1}},heatSink:{category:"component",id:"heatSink",icon:"heatSink.png",name:"Heat Sink",description:"Disperses heat from the CPU.",value:500,craftCost:{silver:10,copper:10,aluminum:10}},hydrazineFuel:{category:"component",id:"hydrazineFuel",icon:"hydrazineFuel.png",name:"Hydrazine Fuel",description:"A strong fuel.",value:1500,craftCost:{aluminaOxide:2,hydrogen:1,nitrogen:1,sulfur:1,water:5}},insulatingFoam:{category:"component",id:"insulatingFoam",icon:"insulatingFoam.png",name:"Insulating Foam",description:"Fuel insulator",value:25e4,craftCost:{polystyrene:20,nitrogen:10}},ironBar:{category:"component",id:"ironBar",icon:"ironBar.png",name:"Iron bar",description:"A bar made of iron.",value:10,craftCost:{iron:10}},leather:{category:"component",id:"leather",icon:"leather.png",name:"Leather",description:"Comes from animals",value:100},maneuveringSystem:{category:"component",id:"maneuveringSystem",icon:"maneuveringSystem.png",name:"Maneuvering System",description:"Used to steer ships.",value:1e4,craftCost:{ironBar:15,microchip:5,gps:1}},microchip:{category:"component",id:"microchip",icon:"microchip.png",name:"Microchip",description:"A small microchip.",value:1e4,craftCost:{silica:1,steelBar:1}},optics:{category:"component",id:"optics",icon:"optics.png",name:"Optics",description:"Read stuff in these",value:500,craftCost:{glass:2,ironBar:1}},oxygenCan:{category:"component",id:"oxygenCan",icon:"oxygenCan.png",name:"Oxygen can",description:"A can of compressed oxygen.",value:100,craftCost:{oxygen:10,ironBar:1}},plasticizer:{category:"component",id:"plasticizer",icon:"plasticizer.png",name:"Plasticizer",description:"Convert stuff into plastic",value:5e3,craftCost:{coal:5,crudeOil:2}},plasticTubing:{category:"component",id:"plasticTubing",icon:"plasticTubing.png",name:"Plastic Tubing",description:"Used in wiring.",value:250,craftCost:{polystyrene:2,plasticizer:1}},polystyrene:{category:"component",id:"polystyrene",icon:"polystyrene.png",name:"Polystyrene",description:"Very foamy.",value:5e3,craftCost:{oxygen:5,crudeOil:10,methanol:2}},powerCell:{category:"component",id:"powerCell",icon:"energyCell4.png",name:"Power Cell",description:"Stores power.",value:250,craftCost:{battery:1,gasCan:10}},propellantTank:{category:"component",id:"propellantTank",icon:"gasTank3.png",name:"Propellant Tank",description:"A tank for propellants.",value:5e5,craftCost:{polystyrene:20,hydrazineFuel:10}},pureSilicon:{category:"component",id:"pureSilicon",icon:"pureSilicon.png",name:"Pure Silicon",description:"Pure silicon.",value:1500,craftCost:{silicon:1,silane:2}},rubber:{category:"component",id:"rubber",icon:"rubber.png",name:"Rubber",description:"Bouncy.",value:250,craftCost:{polystyrene:5,methanol:1}},silane:{category:"component",id:"silane",icon:"gas.png",name:"Silane",description:"A gas used for crafting.",value:1500,craftCost:{silicon:2,hydrogen:5,chloride:5,aluminum:5}},silica:{category:"component",id:"silica",icon:"silica.png",name:"Silica",description:"Used for creating glass.",value:2500,craftCost:{oxygen:2,silicon:1}},silicaGlass:{category:"component",id:"silicaGlass",icon:"silicaGlass.png",name:"Silica Glass",description:"Glass made from silica.",value:15200,craftCost:{silica:5,water:2,energyCell:1}},silicon:{category:"component",id:"silicon",icon:"silicon.png",name:"Silicon",description:"Used in many recipes.",value:5e3,craftCost:{silica:5,carbon:5}},silverBar:{category:"component",id:"silverBar",icon:"silverBar.png",name:"Silver bar",description:"A bar made of silver.",value:1e3,craftCost:{silver:10}},smallMotor:{category:"component",id:"smallMotor",icon:"smallMotor.png",name:"Small Motor",description:"A small motor used in machines.",value:1e3,craftCost:{steelBar:10,wiring:3,ironBar:5,aluminumBar:5}},steelBar:{category:"component",id:"steelBar",icon:"steelBar.png",name:"Steel bar",description:"A bar made of steel.",value:5e3,craftCost:{steel:10}},stone:{category:"component",id:"stone",icon:"stone.png",name:"Stone",description:"Made of rock.",value:100},titaniumBar:{category:"component",id:"titaniumBar",icon:"titaniumBar.png",name:"Titanium Bar",description:"A bar made of titanium.",value:2500,craftCost:{titanium:10}},transistor:{category:"component",id:"transistor",icon:"transistor.png",name:"Transistor",description:"A small transistor used in electronics.",value:5e3,craftCost:{germanium:100,silicon:10}},tungstenBar:{category:"component",id:"tungstenBar",icon:"tungstenBar.png",name:"Tungsten Bar",description:"A bar made of tungsten.",value:5e3,craftCost:{tungsten:10}},wiring:{category:"component",id:"wiring",icon:"wiring.png",name:"Wiring",description:"Used in many types of electronics.",value:100,craftCost:{copper:1,plasticTubing:1}},wood:{category:"component",id:"wood",icon:"wood.png",name:"Wood",description:"Comes from trees.",value:100},copperArmor:{category:"gearChest",gearType:"chest",id:"copperArmor",name:"Copper Armor",strength:1.05,accuracy:1,defense:5,evasion:1,attackSpeed:.1,shipSpeed:.1,health:2,miningLuck:1.05,scavengeLuck:1.05,lootLuck:1.05,counter:1,regeneration:1,resilience:1,perception:1,experience:0,description:"Terrible armor.",value:25,icon:"armor/copperArmor.png",minimumMiningLevel:1,craftCost:{copperBar:25}},ironArmor:{category:"gearChest",gearType:"chest",id:"ironArmor",name:"Iron Armor",strength:1.1,accuracy:1,defense:8,evasion:1,attackSpeed:.2,shipSpeed:.2,health:5,miningLuck:1.1,scavengeLuck:1.1,lootLuck:1.1,counter:1,regeneration:1,resilience:1,perception:1,experience:.01,description:"Decent armor.",value:55,icon:"armor/ironArmor.png",minimumMiningLevel:8,craftCost:{ironBar:55,anvil:1,copperArmor:1}},silverArmor:{category:"gearChest",gearType:"chest",id:"silverArmor",name:"Silver Armor",strength:1.15,accuracy:2,defense:11,evasion:3,attackSpeed:.3,shipSpeed:.3,health:8,miningLuck:1.15,scavengeLuck:1.15,lootLuck:1.15,counter:2,regeneration:2,resilience:2,perception:2,experience:.02,description:"Good armor.",value:250,icon:"armor/silverArmor.png",minimumMiningLevel:12,craftCost:{silverBar:75,anvil:1,ironArmor:1}},goldArmor:{category:"gearChest",gearType:"chest",id:"goldArmor",name:"Gold Armor",strength:1.25,accuracy:3,defense:17,evasion:5,attackSpeed:.4,shipSpeed:.4,health:10,miningLuck:1.25,scavengeLuck:1.25,lootLuck:1.25,counter:3,regeneration:3,resilience:3,perception:3,experience:.03,description:"The best armor.",value:500,icon:"armor/goldArmor.png",minimumMiningLevel:25,craftCost:{goldBar:100,anvil:1,silverArmor:1}},copperArmorFeet:{category:"gearFeet",gearType:"feet",id:"copperArmorFeet",name:"Copper Boots",strength:1.05,accuracy:1,defense:5,evasion:1,attackSpeed:.1,shipSpeed:.1,health:2,miningLuck:1.05,scavengeLuck:1.05,lootLuck:1.05,counter:1,regeneration:1,resilience:1,perception:1,experience:0,value:5,icon:"armor/copperBoots.png",minimumMiningLevel:1,craftCost:{copperBar:15}},ironArmorFeet:{category:"gearFeet",gearType:"feet",id:"ironArmorFeet",name:"Iron Boots",strength:1.1,accuracy:1,defense:8,evasion:1,attackSpeed:.2,shipSpeed:.2,health:5,miningLuck:1.1,scavengeLuck:1.1,lootLuck:1.1,counter:1,regeneration:1,resilience:1,perception:1,experience:.01,value:50,icon:"armor/ironBoots.png",minimumMiningLevel:10,craftCost:{ironBar:35,anvil:1,copperArmorFeet:1}},silverArmorFeet:{category:"gearFeet",gearType:"feet",id:"silverArmorFeet",name:"Silver Boots",strength:1.15,accuracy:2,defense:11,evasion:3,attackSpeed:.3,shipSpeed:.3,health:8,miningLuck:1.15,scavengeLuck:1.15,lootLuck:1.15,counter:2,regeneration:2,resilience:2,perception:2,experience:.02,value:250,icon:"armor/silverBoots.png",minimumMiningLevel:25,craftCost:{silverBar:55,anvil:1,ironArmorFeet:1}},goldArmorFeet:{category:"gearFeet",gearType:"feet",id:"goldArmorFeet",name:"Gold Boots",strength:1.25,accuracy:3,defense:17,evasion:5,attackSpeed:.4,shipSpeed:.4,health:10,miningLuck:1.25,scavengeLuck:1.25,lootLuck:1.25,counter:3,regeneration:3,resilience:3,perception:3,experience:.03,value:500,icon:"armor/goldBoots.png",minimumMiningLevel:50,craftCost:{goldBar:75,anvil:1,silverArmorFeet:1}},copperHelmet:{category:"gearHead",gearType:"head",id:"copperHelmet",name:"Copper Helmet",strength:1.05,accuracy:1,defense:5,evasion:1,attackSpeed:.1,shipSpeed:.1,health:2,miningLuck:1.05,scavengeLuck:1.05,lootLuck:1.05,counter:1,regeneration:1,resilience:1,perception:1,experience:0,value:5,icon:"armor/copperHelmet.png",minimumMiningLevel:2,craftCost:{copperBar:25}},ironHelmet:{category:"gearHead",gearType:"head",id:"ironHelmet",name:"Iron Helmet",strength:1.1,accuracy:1,defense:8,evasion:1,attackSpeed:.2,shipSpeed:.2,health:5,miningLuck:1.1,scavengeLuck:1.1,lootLuck:1.1,counter:1,regeneration:1,resilience:1,perception:1,experience:.01,value:50,icon:"armor/ironHelmet.png",minimumMiningLevel:5,craftCost:{ironBar:55,anvil:1,copperHelmet:1}},silverHelmet:{category:"gearHead",gearType:"head",id:"silverHelmet",name:"Silver Helmet",strength:1.15,accuracy:2,defense:11,evasion:3,attackSpeed:.3,shipSpeed:.3,health:8,miningLuck:1.15,scavengeLuck:1.15,lootLuck:1.15,counter:2,regeneration:2,resilience:2,perception:2,experience:.02,value:115,icon:"armor/silverHelmet.png",minimumMiningLevel:8,craftCost:{silverBar:95,anvil:1,ironHelmet:1}},goldHelmet:{category:"gearHead",gearType:"head",id:"goldHelmet",name:"Gold Helmet",strength:1.25,accuracy:3,defense:17,evasion:5,attackSpeed:.4,shipSpeed:.4,health:10,miningLuck:1.25,scavengeLuck:1.25,lootLuck:1.25,counter:3,regeneration:3,resilience:3,perception:3,experience:.03,value:195,icon:"armor/goldHelmet.png",minimumMiningLevel:15,craftCost:{goldBar:180,anvil:1,silverHelmet:1}},copperArmorLegs:{category:"gearLegs",gearType:"legs",id:"copperArmorLegs",name:"Copper Legs",strength:1.05,accuracy:1,defense:5,evasion:1,attackSpeed:.1,shipSpeed:.1,health:2,miningLuck:1.05,scavengeLuck:1.05,lootLuck:1.05,counter:1,regeneration:1,resilience:1,perception:1,experience:0,value:5,icon:"armor/copperPants.png",minimumMiningLevel:1,craftCost:{copperBar:6}},ironArmorLegs:{category:"gearLegs",gearType:"legs",id:"ironArmorLegs",name:"Iron Legs",strength:1.1,accuracy:1,defense:8,evasion:1,attackSpeed:.2,shipSpeed:.2,health:5,miningLuck:1.1,scavengeLuck:1.1,lootLuck:1.1,counter:1,regeneration:1,resilience:1,perception:1,experience:.01,value:50,icon:"armor/ironPants.png",minimumMiningLevel:5,craftCost:{ironBar:10}},silverArmorLegs:{category:"gearLegs",gearType:"legs",id:"silverArmorLegs",name:"Silver Legs",strength:1.15,accuracy:2,defense:11,evasion:3,attackSpeed:.3,shipSpeed:.3,health:8,miningLuck:1.15,scavengeLuck:1.15,lootLuck:1.15,counter:2,regeneration:2,resilience:2,perception:2,experience:.02,value:250,icon:"armor/silverPants.png",minimumMiningLevel:8,craftCost:{silverBar:10}},goldArmorLegs:{category:"gearLegs",gearType:"legs",id:"goldArmorLegs",name:"Gold Legs",strength:1.25,accuracy:3,defense:17,evasion:5,attackSpeed:.4,shipSpeed:.4,health:10,miningLuck:1.25,scavengeLuck:1.25,lootLuck:1.25,counter:3,regeneration:3,resilience:3,perception:3,experience:.03,value:500,icon:"armor/goldPants.png",minimumMiningLevel:18,craftCost:{goldBar:10}},woodenPick:{category:"miningGear",gearType:"miningGear",id:"woodenPick",name:"Wooden Pickaxe",icon:"/picks/woodPick1.png",strength:1,accuracy:1,defense:1,evasion:1,attackSpeed:.1,shipSpeed:.1,health:1,miningLuck:1.01,scavengeLuck:1.01,lootLuck:1.01,counter:1,regeneration:1,resilience:1,perception:1,experience:0,description:"A terrible pickaxe.",minimumMiningLevel:0,craftCost:{wood:25,leather:1,ironBar:5}},woodenPick2:{category:"miningGear",gearType:"miningGear",id:"woodenPick2",name:"Wooden Pickaxe - Level 2",icon:"/picks/woodPick2.png",strength:1.04,accuracy:1.02,defense:1.1,evasion:1.1,attackSpeed:.1,shipSpeed:.1,health:1,miningLuck:1.02,scavengeLuck:1.02,lootLuck:1.02,counter:1,regeneration:1,resilience:1,perception:1,experience:.1,description:"A basic wooden pickaxe.",minimumMiningLevel:1,craftCost:{wood:50,leather:2,woodenPick:1}},woodenPick3:{category:"miningGear",gearType:"miningGear",id:"woodenPick3",name:"Wooden Pickaxe - Level 3",icon:"/picks/woodPick3.png",strength:1.08,accuracy:1.04,defense:1.25,evasion:1.25,attackSpeed:.1,shipSpeed:.1,health:1,miningLuck:1.03,scavengeLuck:1.03,lootLuck:1.03,counter:1,regeneration:1,resilience:1,perception:1,experience:.15,description:"An improved wooden pickaxe.",minimumMiningLevel:2,craftCost:{wood:75,leather:4,woodenPick2:1}},woodenPick4:{category:"miningGear",gearType:"miningGear",id:"woodenPick4",name:"Wooden Pickaxe - Level 4",icon:"/picks/woodPick4.png",strength:1.12,accuracy:1.06,defense:1.35,evasion:1.35,attackSpeed:.1,shipSpeed:.1,health:1,miningLuck:1.04,scavengeLuck:1.04,lootLuck:1.04,counter:1,regeneration:1,resilience:1,perception:1,experience:.2,description:"A good wooden pickaxe.",minimumMiningLevel:3,craftCost:{wood:100,leather:6,woodenPick3:1}},woodenPick5:{category:"miningGear",gearType:"miningGear",id:"woodenPick5",name:"Wooden Pickaxe - Level 5",icon:"/picks/woodPick5.png",strength:1.16,accuracy:1.08,defense:1.475,evasion:1.475,attackSpeed:.1,shipSpeed:.1,health:1,miningLuck:1.05,scavengeLuck:1.05,lootLuck:1.05,counter:1,regeneration:1,resilience:1,perception:1,experience:.25,description:"A great wooden pickaxe.",minimumMiningLevel:4,craftCost:{wood:150,leather:8,woodenPick4:1}},copperPick:{category:"miningGear",gearType:"miningGear",id:"copperPick",name:"Copper Pickaxe",icon:"/picks/copperPick1.png",strength:1.2,accuracy:1.1,defense:1.595,evasion:1.595,attackSpeed:.2,shipSpeed:.2,health:2,miningLuck:1.06,scavengeLuck:1.06,lootLuck:1.06,counter:2,regeneration:2,resilience:2,perception:2,experience:.3,description:"A basic copper pickaxe.",minimumMiningLevel:5,craftCost:{copperBar:10,leather:2,anvil:1,woodenPick5:1}},copperPick2:{category:"miningGear",gearType:"miningGear",id:"copperPick2",name:"Copper Pickaxe - Level 2",icon:"/picks/copperPick2.png",strength:1.24,accuracy:1.12,defense:1.715,evasion:1.715,attackSpeed:.2,shipSpeed:.2,health:2,miningLuck:1.07,scavengeLuck:1.07,lootLuck:1.07,counter:2,regeneration:2,resilience:2,perception:2,experience:.35,description:"An improved copper pickaxe.",minimumMiningLevel:6,craftCost:{copperBar:15,leather:4,copperPick:1}},copperPick3:{category:"miningGear",gearType:"miningGear",id:"copperPick3",name:"Copper Pickaxe - Level 3",icon:"/picks/copperPick3.png",strength:1.28,accuracy:1.14,defense:1.835,evasion:1.835,attackSpeed:.2,shipSpeed:.2,health:2,miningLuck:1.08,scavengeLuck:1.08,lootLuck:1.08,counter:2,regeneration:2,resilience:2,perception:2,experience:.4,description:"A good copper pickaxe.",minimumMiningLevel:7,craftCost:{copperBar:20,leather:6,copperPick2:1}},copperPick4:{category:"miningGear",gearType:"miningGear",id:"copperPick4",name:"Copper Pickaxe - Level 4",icon:"/picks/copperPick4.png",strength:1.32,accuracy:1.16,defense:1.955,evasion:1.955,attackSpeed:.2,shipSpeed:.2,health:2,miningLuck:1.09,scavengeLuck:1.09,lootLuck:1.09,counter:2,regeneration:2,resilience:2,perception:2,experience:.45,description:"A great copper pickaxe.",minimumMiningLevel:8,craftCost:{copperBar:25,leather:8,copperPick3:1}},copperPick5:{category:"miningGear",gearType:"miningGear",id:"copperPick5",name:"Copper Pickaxe - Level 5",icon:"/picks/copperPick5.png",strength:1.36,accuracy:1.18,defense:2.075,evasion:2.075,attackSpeed:.2,shipSpeed:.2,health:2,miningLuck:1.1,scavengeLuck:1.1,lootLuck:1.1,counter:2,regeneration:2,resilience:2,perception:2,experience:.5,description:"The best copper pickaxe.",minimumMiningLevel:9,craftCost:{copperBar:30,leather:10,copperPick4:1}},ironPick:{category:"miningGear",gearType:"miningGear",id:"ironPick",name:"Iron Pickaxe",icon:"/picks/ironPick1.png",strength:1.4,accuracy:1.2,defense:2.195,evasion:2.195,attackSpeed:.3,shipSpeed:.3,health:3,miningLuck:1.11,scavengeLuck:1.11,lootLuck:1.11,counter:3,regeneration:3,resilience:3,perception:3,experience:.55,description:"A basic iron pickaxe.",minimumMiningLevel:10,craftCost:{ironBar:10,leather:2,anvil:1,copperPick5:1}},ironPick2:{category:"miningGear",gearType:"miningGear",id:"ironPick2",name:"Iron Pickaxe - Level 2",icon:"/picks/ironPick2.png",strength:1.44,accuracy:1.22,defense:2.315,evasion:2.315,attackSpeed:.3,shipSpeed:.3,health:3,miningLuck:1.12,scavengeLuck:1.12,lootLuck:1.12,counter:3,regeneration:3,resilience:3,perception:3,experience:.6,description:"An improved iron pickaxe.",minimumMiningLevel:11,craftCost:{ironBar:15,leather:4,ironPick:1}},ironPick3:{category:"miningGear",gearType:"miningGear",id:"ironPick3",name:"Iron Pickaxe - Level 3",icon:"/picks/ironPick3.png",strength:1.48,accuracy:1.24,defense:2.435,evasion:2.435,attackSpeed:.3,shipSpeed:.3,health:3,miningLuck:1.13,scavengeLuck:1.13,lootLuck:1.13,counter:3,regeneration:3,resilience:3,perception:3,experience:.65,description:"A good iron pickaxe.",minimumMiningLevel:12,craftCost:{ironBar:20,leather:6,ironPick2:1}},ironPick4:{category:"miningGear",gearType:"miningGear",id:"ironPick4",name:"Iron Pickaxe - Level 4",icon:"/picks/ironPick4.png",strength:1.52,accuracy:1.26,defense:2.555,evasion:2.555,attackSpeed:.3,shipSpeed:.3,health:3,miningLuck:1.14,scavengeLuck:1.14,lootLuck:1.14,counter:3,regeneration:3,resilience:3,perception:3,experience:.7,description:"A great iron pickaxe.",minimumMiningLevel:13,craftCost:{ironBar:25,leather:8,ironPick3:1}},ironPick5:{category:"miningGear",gearType:"miningGear",id:"ironPick5",name:"Iron Pickaxe - Level 5",icon:"/picks/ironPick5.png",strength:1.56,accuracy:1.28,defense:2.675,evasion:2.675,attackSpeed:.3,shipSpeed:.3,health:3,miningLuck:1.15,scavengeLuck:1.15,lootLuck:1.15,counter:3,regeneration:3,resilience:3,perception:3,experience:.75,description:"The best iron pickaxe.",minimumMiningLevel:14,craftCost:{ironBar:30,leather:10,ironPick4:1}},steelPick:{category:"miningGear",gearType:"miningGear",id:"steelPick",name:"Steel Pickaxe",icon:"/picks/steelPick1.png",strength:1.6,accuracy:1.3,defense:2.795,evasion:2.795,attackSpeed:.4,shipSpeed:.4,health:4,miningLuck:1.16,scavengeLuck:1.16,lootLuck:1.16,counter:4,regeneration:4,resilience:4,perception:4,experience:.8,description:"A basic steel pickaxe.",minimumMiningLevel:15,craftCost:{steelBar:10,leather:2,anvil:1,ironPick5:1}},steelPick2:{category:"miningGear",gearType:"miningGear",id:"steelPick2",name:"Steel Pickaxe - Level 2",icon:"/picks/steelPick2.png",strength:1.64,accuracy:1.32,defense:2.915,evasion:2.915,attackSpeed:.4,shipSpeed:.4,health:4,miningLuck:1.17,scavengeLuck:1.17,lootLuck:1.17,counter:4,regeneration:4,resilience:4,perception:4,experience:.85,description:"An improved steel pickaxe.",minimumMiningLevel:16,craftCost:{steelBar:15,leather:4,steelPick:1}},steelPick3:{category:"miningGear",gearType:"miningGear",id:"steelPick3",name:"Steel Pickaxe - Level 3",icon:"/picks/steelPick3.png",strength:1.68,accuracy:1.34,defense:3.035,evasion:3.035,attackSpeed:.4,shipSpeed:.4,health:4,miningLuck:1.18,scavengeLuck:1.18,lootLuck:1.18,counter:4,regeneration:4,resilience:4,perception:4,experience:.9,description:"A good steel pickaxe.",minimumMiningLevel:17,craftCost:{steelBar:20,leather:6,steelPick2:1}},steelPick4:{category:"miningGear",gearType:"miningGear",id:"steelPick4",name:"Steel Pickaxe - Level 4",icon:"/picks/steelPick4.png",strength:1.72,accuracy:1.36,defense:3.155,evasion:3.155,attackSpeed:.4,shipSpeed:.4,health:4,miningLuck:1.19,scavengeLuck:1.19,lootLuck:1.19,counter:4,regeneration:4,resilience:4,perception:4,experience:.95,description:"A great steel pickaxe.",minimumMiningLevel:18,craftCost:{steelBar:25,leather:8,steelPick3:1}},steelPick5:{category:"miningGear",gearType:"miningGear",id:"steelPick5",name:"Steel Pickaxe - Level 5",icon:"/picks/steelPick5.png",strength:1.76,accuracy:1.38,defense:3.275,evasion:3.275,attackSpeed:.4,shipSpeed:.4,health:4,miningLuck:1.2,scavengeLuck:1.2,lootLuck:1.2,counter:4,regeneration:4,resilience:4,perception:4,experience:1,description:"The best steel pickaxe.",minimumMiningLevel:19,craftCost:{steelBar:30,leather:10,steelPick4:1}},silverPick:{category:"miningGear",gearType:"miningGear",id:"silverPick",name:"Silver Pickaxe",icon:"/picks/silverPick1.png",strength:1.8,accuracy:1.4,defense:3.395,evasion:3.395,attackSpeed:.5,shipSpeed:.5,health:5,miningLuck:1.21,scavengeLuck:1.21,lootLuck:1.21,counter:5,regeneration:5,resilience:5,perception:5,experience:1.05,description:"A basic silver pickaxe.",minimumMiningLevel:20,craftCost:{silverBar:10,leather:2,anvil:1,steelPick5:1}},silverPick2:{category:"miningGear",gearType:"miningGear",id:"silverPick2",name:"Silver Pickaxe - Level 2",icon:"/picks/silverPick2.png",strength:1.84,accuracy:1.42,defense:3.515,evasion:3.515,attackSpeed:.5,shipSpeed:.5,health:5,miningLuck:1.22,scavengeLuck:1.22,lootLuck:1.22,counter:5,regeneration:5,resilience:5,perception:5,experience:1.1,description:"An improved silver pickaxe.",minimumMiningLevel:21,craftCost:{silverBar:15,leather:4,silverPick:1}},silverPick3:{category:"miningGear",gearType:"miningGear",id:"silverPick3",name:"Silver Pickaxe - Level 3",icon:"/picks/silverPick3.png",strength:1.88,accuracy:1.44,defense:3.635,evasion:3.635,attackSpeed:.5,shipSpeed:.5,health:5,miningLuck:1.23,scavengeLuck:1.23,lootLuck:1.23,counter:5,regeneration:5,resilience:5,perception:5,experience:1.15,description:"A good silver pickaxe.",minimumMiningLevel:22,craftCost:{silverBar:20,leather:6,silverPick2:1}},silverPick4:{category:"miningGear",gearType:"miningGear",id:"silverPick4",name:"Silver Pickaxe - Level 4",icon:"/picks/silverPick4.png",strength:1.92,accuracy:1.46,defense:3.755,evasion:3.755,attackSpeed:.5,shipSpeed:.5,health:5,miningLuck:1.24,scavengeLuck:1.24,lootLuck:1.24,counter:5,regeneration:5,resilience:5,perception:5,experience:1.2,description:"A great silver pickaxe.",minimumMiningLevel:23,craftCost:{silverBar:25,leather:8,silverPick3:1}},silverPick5:{category:"miningGear",gearType:"miningGear",id:"silverPick5",name:"Silver Pickaxe - Level 5",icon:"/picks/silverPick5.png",strength:1.96,accuracy:1.48,defense:3.875,evasion:3.875,attackSpeed:.5,shipSpeed:.5,health:5,miningLuck:1.25,scavengeLuck:1.25,lootLuck:1.25,counter:5,regeneration:5,resilience:5,perception:5,experience:1.25,description:"The best silver pickaxe.",minimumMiningLevel:24,craftCost:{silverBar:30,leather:10,silverPick4:1}},goldPick:{category:"miningGear",gearType:"miningGear",id:"goldPick",name:"Gold Pickaxe",icon:"/picks/goldPick1.png",strength:2,accuracy:1.5,defense:3.995,evasion:3.995,attackSpeed:.6,shipSpeed:.6,health:6,miningLuck:1.26,scavengeLuck:1.26,lootLuck:1.26,counter:6,regeneration:6,resilience:6,perception:6,experience:1.3,description:"A basic gold pickaxe.",minimumMiningLevel:25,craftCost:{goldBar:10,leather:2,anvil:1,silverPick5:1}},goldPick2:{category:"miningGear",gearType:"miningGear",id:"goldPick2",name:"Gold Pickaxe - Level 2",icon:"/picks/goldPick2.png",strength:2.04,accuracy:1.52,defense:4.115,evasion:4.115,attackSpeed:.6,shipSpeed:.6,health:6,miningLuck:1.27,scavengeLuck:1.27,lootLuck:1.27,counter:6,regeneration:6,resilience:6,perception:6,experience:1.35,description:"An improved gold pickaxe.",minimumMiningLevel:26,craftCost:{goldBar:15,leather:4,goldPick:1}},goldPick3:{category:"miningGear",gearType:"miningGear",id:"goldPick3",name:"Gold Pickaxe - Level 3",icon:"/picks/goldPick3.png",strength:2.08,accuracy:1.54,defense:4.235,evasion:4.235,attackSpeed:.6,shipSpeed:.6,health:6,miningLuck:1.28,scavengeLuck:1.28,lootLuck:1.28,counter:6,regeneration:6,resilience:6,perception:6,experience:1.4,description:"A good gold pickaxe.",minimumMiningLevel:27,craftCost:{goldBar:20,leather:6,goldPick2:1}},goldPick4:{category:"miningGear",gearType:"miningGear",id:"goldPick4",name:"Gold Pickaxe - Level 4",icon:"/picks/goldPick4.png",strength:2.12,accuracy:1.56,defense:4.355,evasion:4.355,attackSpeed:.6,shipSpeed:.6,health:6,miningLuck:1.29,scavengeLuck:1.29,lootLuck:1.29,counter:6,regeneration:6,resilience:6,perception:6,experience:1.45,description:"A great gold pickaxe.",minimumMiningLevel:28,craftCost:{goldBar:25,leather:8,goldPick3:1}},goldPick5:{category:"miningGear",gearType:"miningGear",id:"goldPick5",name:"Gold Pickaxe - Level 5",icon:"/picks/goldPick5.png",strength:2.16,accuracy:1.58,defense:4.475,evasion:4.475,attackSpeed:.6,shipSpeed:.6,health:6,miningLuck:1.3,scavengeLuck:1.3,lootLuck:1.3,counter:6,regeneration:6,resilience:6,perception:6,experience:1.5,description:"The best gold pickaxe.",minimumMiningLevel:29,craftCost:{goldBar:30,leather:10,goldPick4:1}},titaniumPick:{category:"miningGear",gearType:"miningGear",id:"titaniumPick",name:"Titanium Pickaxe",icon:"/picks/titaniumPick1.png",strength:2.2,accuracy:1.6,defense:4.595,evasion:4.595,attackSpeed:.7,shipSpeed:.7,health:7,miningLuck:1.31,scavengeLuck:1.31,lootLuck:1.31,counter:7,regeneration:7,resilience:7,perception:7,experience:1.55,description:"A basic titanium pickaxe.",minimumMiningLevel:30,craftCost:{titaniumBar:10,leather:2,anvil:1,goldPick5:1}},titaniumPick2:{category:"miningGear",gearType:"miningGear",id:"titaniumPick2",name:"Titanium Pickaxe - Level 2",icon:"/picks/titaniumPick2.png",strength:2.24,accuracy:1.62,defense:4.715,evasion:4.715,attackSpeed:.7,shipSpeed:.7,health:7,miningLuck:1.32,scavengeLuck:1.32,lootLuck:1.32,counter:7,regeneration:7,resilience:7,perception:7,experience:1.6,description:"An improved titanium pickaxe.",minimumMiningLevel:31,craftCost:{titaniumBar:15,leather:4,titaniumPick:1}},titaniumPick3:{category:"miningGear",gearType:"miningGear",id:"titaniumPick3",name:"Titanium Pickaxe - Level 3",icon:"/picks/titaniumPick3.png",strength:2.28,accuracy:1.64,defense:4.835,evasion:4.835,attackSpeed:.7,shipSpeed:.7,health:7,miningLuck:1.33,scavengeLuck:1.33,lootLuck:1.33,counter:7,regeneration:7,resilience:7,perception:7,experience:1.65,description:"A good titanium pickaxe.",minimumMiningLevel:32,craftCost:{titaniumBar:20,leather:6,titaniumPick2:1}},titaniumPick4:{category:"miningGear",gearType:"miningGear",id:"titaniumPick4",name:"Titanium Pickaxe - Level 4",icon:"/picks/titaniumPick4.png",strength:2.32,accuracy:1.66,defense:4.955,evasion:4.955,attackSpeed:.7,shipSpeed:.7,health:7,miningLuck:1.34,scavengeLuck:1.34,lootLuck:1.34,counter:7,regeneration:7,resilience:7,perception:7,experience:1.7,description:"A great titanium pickaxe.",minimumMiningLevel:33,craftCost:{titaniumBar:25,leather:8,titaniumPick3:1}},titaniumPick5:{category:"miningGear",gearType:"miningGear",id:"titaniumPick5",name:"Titanium Pickaxe - Level 5",icon:"/picks/titaniumPick5.png",strength:2.36,accuracy:1.68,defense:5.075,evasion:5.075,attackSpeed:.7,shipSpeed:.7,health:7,miningLuck:1.35,scavengeLuck:1.35,lootLuck:1.35,counter:7,regeneration:7,resilience:7,perception:7,experience:1.75,description:"The best titanium pickaxe.",minimumMiningLevel:34,craftCost:{titaniumBar:30,leather:10,titaniumPick4:1}},bronzeGreatsword:{category:"gearMainHand",gearType:"mainHand",id:"bronzeGreatsword",name:"Bronze Greatsword",strength:1,accuracy:1,defense:1,evasion:1,attackSpeed:1,shipSpeed:1,health:1,miningLuck:1,scavengeLuck:1,lootLuck:1,counter:1,regeneration:1,resilience:1,perception:1,experience:0,description:"A crappy weapon.",icon:"weapons/bronzeGreatsword.png",minimumMiningLevel:1,craftCost:{bronzeBar:10,leather:2,anvil:1}},bronzeLongsword:{category:"gearMainHand",gearType:"mainHand",id:"bronzeLongsword",name:"Bronze Longsword",strength:1.01,accuracy:1.01,defense:1.01,evasion:1.01,attackSpeed:1.01,shipSpeed:1.01,health:1.01,miningLuck:1.01,scavengeLuck:1.01,lootLuck:1.01,counter:1.01,regeneration:1.01,resilience:1.01,perception:1.01,experience:.05,description:"A crappy weapon.",icon:"weapons/bronzeLongsword.png",minimumMiningLevel:3,craftCost:{bronzeBar:20,leather:5,anvil:2}},bronzeSword:{category:"gearMainHand",gearType:"mainHand",id:"bronzeSword",name:"Bronze Sword",strength:1.03,accuracy:1.03,defense:1.03,evasion:1.03,attackSpeed:1.03,shipSpeed:1.03,health:1.03,miningLuck:1.03,scavengeLuck:1.03,lootLuck:1.03,counter:1.03,regeneration:1.03,resilience:1.03,perception:1.03,experience:.1,description:"A crappy weapon.",icon:"weapons/bronzeSword.png",minimumMiningLevel:4,craftCost:{bronzeBar:50,leather:10,anvil:3}},copperAxe:{category:"gearMainHand",gearType:"mainHand",id:"copperAxe",name:"Copper Axe",strength:1.05,accuracy:1.05,defense:1.05,evasion:1.05,attackSpeed:1.05,shipSpeed:1.05,health:1.05,miningLuck:1.05,scavengeLuck:1.05,lootLuck:1.05,counter:1.05,regeneration:1.05,resilience:1.05,perception:1.05,experience:.15,description:"A crappy weapon.",icon:"weapons/copperAxe.png",minimumMiningLevel:5,craftCost:{copperBar:10,leather:15,anvil:4}},copperGreatsword:{category:"gearMainHand",gearType:"mainHand",id:"copperGreatsword",name:"Copper Greatsword",strength:1.07,accuracy:1.07,defense:1.07,evasion:1.07,attackSpeed:1.07,shipSpeed:1.07,health:1.07,miningLuck:1.07,scavengeLuck:1.07,lootLuck:1.07,counter:1.07,regeneration:1.07,resilience:1.07,perception:1.07,experience:.2,description:"A crappy weapon.",icon:"weapons/copperGreatsword.png",minimumMiningLevel:6,craftCost:{copperBar:20,leather:20,anvil:5}},copperHatchet:{category:"gearMainHand",gearType:"mainHand",id:"copperHatchet",name:"Copper Hatchet",strength:1.09,accuracy:1.09,defense:1.09,evasion:1.09,attackSpeed:1.09,shipSpeed:1.09,health:1.09,miningLuck:1.09,scavengeLuck:1.09,lootLuck:1.09,counter:1.09,regeneration:1.09,resilience:1.09,perception:1.09,experience:.25,description:"A crappy weapon.",icon:"weapons/copperHatchet.png",minimumMiningLevel:8,craftCost:{copperBar:50,leather:25,anvil:6}},copperLongsword:{category:"gearMainHand",gearType:"mainHand",id:"copperLongsword",name:"Copper Longsword",strength:1.11,accuracy:1.11,defense:1.11,evasion:1.11,attackSpeed:1.11,shipSpeed:1.11,health:1.11,miningLuck:1.11,scavengeLuck:1.11,lootLuck:1.11,counter:1.11,regeneration:1.11,resilience:1.11,perception:1.11,experience:.3,description:"A crappy weapon.",icon:"weapons/copperLongsword.png",minimumMiningLevel:9,craftCost:{copperBar:75,leather:40,anvil:7}},copperPolearm:{category:"gearMainHand",gearType:"mainHand",id:"copperPolearm",name:"Copper Polearm",strength:1.13,accuracy:1.13,defense:1.13,evasion:1.13,attackSpeed:1.13,shipSpeed:1.13,health:1.13,miningLuck:1.13,scavengeLuck:1.13,lootLuck:1.13,counter:1.13,regeneration:1.13,resilience:1.13,perception:1.13,experience:.35,description:"A crappy weapon.",icon:"weapons/copperPolearm.png",minimumMiningLevel:10,craftCost:{copperBar:100,leather:60,anvil:8}},copperSickle:{category:"gearMainHand",gearType:"mainHand",id:"copperSickle",name:"Copper Sickle",strength:1.15,accuracy:1.15,defense:1.15,evasion:1.15,attackSpeed:1.15,shipSpeed:1.15,health:1.15,miningLuck:1.15,scavengeLuck:1.15,lootLuck:1.15,counter:1.15,regeneration:1.15,resilience:1.15,perception:1.15,experience:.4,description:"A crappy weapon.",icon:"weapons/copperSickle.png",minimumMiningLevel:12,craftCost:{copperBar:150,leather:75,anvil:9}},copperSpikedClub:{category:"gearMainHand",gearType:"mainHand",id:"copperSpikedClub",name:"Copper SpikedClub",strength:1.17,accuracy:1.17,defense:1.17,evasion:1.17,attackSpeed:1.17,shipSpeed:1.17,health:1.17,miningLuck:1.17,scavengeLuck:1.17,lootLuck:1.17,counter:1.17,regeneration:1.17,resilience:1.17,perception:1.17,experience:.45,description:"A crappy weapon.",icon:"weapons/copperSpikedClub.png",minimumMiningLevel:14,craftCost:{copperBar:175,leather:85,anvil:10}},copperSword:{category:"gearMainHand",gearType:"mainHand",id:"copperSword",name:"Copper Sword",strength:1.19,accuracy:1.19,defense:1.19,evasion:1.19,attackSpeed:1.19,shipSpeed:1.19,health:1.19,miningLuck:1.19,scavengeLuck:1.19,lootLuck:1.19,counter:1.19,regeneration:1.19,resilience:1.19,perception:1.19,experience:.5,description:"A crappy weapon.",icon:"weapons/copperSword.png",minimumMiningLevel:16,craftCost:{copperBar:200,leather:95,anvil:11}},copperTippedSpear:{category:"gearMainHand",gearType:"mainHand",id:"copperTippedSpear",name:"Copper TippedSpear",strength:1.21,accuracy:1.21,defense:1.21,evasion:1.21,attackSpeed:1.21,shipSpeed:1.21,health:1.21,miningLuck:1.21,scavengeLuck:1.21,lootLuck:1.21,counter:1.21,regeneration:1.21,resilience:1.21,perception:1.21,experience:.55,description:"A crappy weapon.",icon:"weapons/copperTippedSpear.png",minimumMiningLevel:17,craftCost:{copperBar:250,leather:105,anvil:12}},copperTippedStaff:{category:"gearMainHand",gearType:"mainHand",id:"copperTippedStaff",name:"Copper TippedStaff",strength:1.23,accuracy:1.23,defense:1.23,evasion:1.23,attackSpeed:1.23,shipSpeed:1.23,health:1.23,miningLuck:1.23,scavengeLuck:1.23,lootLuck:1.23,counter:1.23,regeneration:1.23,resilience:1.23,perception:1.23,experience:.6,description:"A crappy weapon.",icon:"weapons/copperTippedStaff.png",minimumMiningLevel:18,craftCost:{copperBar:300,leather:115,anvil:13}},copperTwoHandedAxe:{category:"gearMainHand",gearType:"mainHand",id:"copperTwoHandedAxe",name:"Copper TwoHandedAxe",strength:1.25,accuracy:1.25,defense:1.25,evasion:1.25,attackSpeed:1.25,shipSpeed:1.25,health:1.25,miningLuck:1.25,scavengeLuck:1.25,lootLuck:1.25,counter:1.25,regeneration:1.25,resilience:1.25,perception:1.25,experience:.65,description:"A crappy weapon.",icon:"weapons/copperTwoHandedAxe.png",minimumMiningLevel:19,craftCost:{copperBar:350,leather:125,anvil:14}},ironGreatsword:{category:"gearMainHand",gearType:"mainHand",id:"ironGreatsword",name:"Iron Greatsword",strength:1.27,accuracy:1.27,defense:1.27,evasion:1.27,attackSpeed:1.27,shipSpeed:1.27,health:1.27,miningLuck:1.27,scavengeLuck:1.27,lootLuck:1.27,counter:1.27,regeneration:1.27,resilience:1.27,perception:1.27,experience:.7,description:"A decent weapon.",icon:"weapons/ironGreatsword.png",minimumMiningLevel:50,craftCost:{ironBar:25,leather:135,anvil:15}},goldAxe:{category:"gearMainHand",gearType:"mainHand",id:"goldAxe",name:"Gold Axe",strength:1.29,accuracy:1.29,defense:1.29,evasion:1.29,attackSpeed:1.29,shipSpeed:1.29,health:1.29,miningLuck:1.29,scavengeLuck:1.29,lootLuck:1.29,counter:1.29,regeneration:1.29,resilience:1.29,perception:1.29,experience:.75,description:"A decent weapon.",icon:"weapons/goldAxe.png",minimumMiningLevel:20,craftCost:{goldBar:20,leather:145,anvil:16}},goldGreatsword:{category:"gearMainHand",gearType:"mainHand",id:"goldGreatsword",name:"Gold Greatsword",strength:1.31,accuracy:1.31,defense:1.31,evasion:1.31,attackSpeed:1.31,shipSpeed:1.31,health:1.31,miningLuck:1.31,scavengeLuck:1.31,lootLuck:1.31,counter:1.31,regeneration:1.31,resilience:1.31,perception:1.31,experience:.8,description:"A decent weapon.",icon:"weapons/goldGreatsword.png",minimumMiningLevel:22,craftCost:{goldBar:40,leather:155,anvil:17}},goldHatchet:{category:"gearMainHand",gearType:"mainHand",id:"goldHatchet",name:"Gold Hatchet",strength:1.33,accuracy:1.33,defense:1.33,evasion:1.33,attackSpeed:1.33,shipSpeed:1.33,health:1.33,miningLuck:1.33,scavengeLuck:1.33,lootLuck:1.33,counter:1.33,regeneration:1.33,resilience:1.33,perception:1.33,experience:.85,description:"A decent weapon.",icon:"weapons/goldHatchet.png",minimumMiningLevel:24,craftCost:{goldBar:60,leather:165,anvil:18}},goldLongsword:{category:"gearMainHand",gearType:"mainHand",id:"goldLongsword",name:"Gold Longsword",strength:1.35,accuracy:1.35,defense:1.35,evasion:1.35,attackSpeed:1.35,shipSpeed:1.35,health:1.35,miningLuck:1.35,scavengeLuck:1.35,lootLuck:1.35,counter:1.35,regeneration:1.35,resilience:1.35,perception:1.35,experience:.9,description:"A decent weapon.",icon:"weapons/goldLongsword.png",minimumMiningLevel:26,craftCost:{goldBar:80,leather:175,anvil:19}},goldPolearm:{category:"gearMainHand",gearType:"mainHand",id:"goldPolearm",name:"Gold Polearm",strength:1.37,accuracy:1.37,defense:1.37,evasion:1.37,attackSpeed:1.37,shipSpeed:1.37,health:1.37,miningLuck:1.37,scavengeLuck:1.37,lootLuck:1.37,counter:1.37,regeneration:1.37,resilience:1.37,perception:1.37,experience:.95,description:"A decent weapon.",icon:"weapons/goldPolearm.png",minimumMiningLevel:28,craftCost:{goldBar:100,leather:185,anvil:20}},goldSickle:{category:"gearMainHand",gearType:"mainHand",id:"goldSickle",name:"Gold Sickle",strength:1.39,accuracy:1.39,defense:1.39,evasion:1.39,attackSpeed:1.39,shipSpeed:1.39,health:1.39,miningLuck:1.39,scavengeLuck:1.39,lootLuck:1.39,counter:1.39,regeneration:1.39,resilience:1.39,perception:1.39,experience:1,description:"A decent weapon.",icon:"weapons/goldSickle.png",minimumMiningLevel:30,craftCost:{goldBar:120,leather:195,anvil:21}},goldSpikedClub:{category:"gearMainHand",gearType:"mainHand",id:"goldSpikedClub",name:"Gold SpikedClub",strength:1.41,accuracy:1.41,defense:1.41,evasion:1.41,attackSpeed:1.41,shipSpeed:1.41,health:1.41,miningLuck:1.41,scavengeLuck:1.41,lootLuck:1.41,counter:1.41,regeneration:1.41,resilience:1.41,perception:1.41,experience:1.05,description:"A decent weapon.",icon:"weapons/goldSpikedClub.png",minimumMiningLevel:32,craftCost:{goldBar:140,leather:205,anvil:22}},goldSword:{category:"gearMainHand",gearType:"mainHand",id:"goldSword",name:"Gold Sword",strength:1.43,accuracy:1.43,defense:1.43,evasion:1.43,attackSpeed:1.43,shipSpeed:1.43,health:1.43,miningLuck:1.43,scavengeLuck:1.43,lootLuck:1.43,counter:1.43,regeneration:1.43,resilience:1.43,perception:1.43,experience:1.1,description:"A decent weapon.",icon:"weapons/goldSword.png",minimumMiningLevel:34,craftCost:{goldBar:200,leather:215,anvil:23}},goldTippedSpear:{category:"gearMainHand",gearType:"mainHand",id:"goldTippedSpear",name:"Gold TippedSpear",strength:1.45,accuracy:1.45,defense:1.45,evasion:1.45,attackSpeed:1.45,shipSpeed:1.45,health:1.45,miningLuck:1.45,scavengeLuck:1.45,lootLuck:1.45,counter:1.45,regeneration:1.45,resilience:1.45,perception:1.45,experience:1.15,description:"A decent weapon.",icon:"weapons/goldTippedSpear.png",minimumMiningLevel:36,craftCost:{goldBar:250,leather:225,anvil:24}},goldTippedStaff:{category:"gearMainHand",gearType:"mainHand",id:"goldTippedStaff",name:"Gold TippedStaff",strength:1.47,accuracy:1.47,defense:1.47,evasion:1.47,attackSpeed:1.47,shipSpeed:1.47,health:1.47,miningLuck:1.47,scavengeLuck:1.47,lootLuck:1.47,counter:1.47,regeneration:1.47,resilience:1.47,perception:1.47,experience:1.2,description:"A decent weapon.",icon:"weapons/goldTippedStaff.png",minimumMiningLevel:38,craftCost:{goldBar:500,leather:235,anvil:25}},goldTwoHandedAxe:{category:"gearMainHand",gearType:"mainHand",id:"goldTwoHandedAxe",name:"Gold TwoHandedAxe",strength:1.49,accuracy:1.49,defense:1.49,evasion:1.49,attackSpeed:1.49,shipSpeed:1.49,health:1.49,miningLuck:1.49,scavengeLuck:1.49,lootLuck:1.49,counter:1.49,regeneration:1.49,resilience:1.49,perception:1.49,experience:1.25,description:"An amazing weapon.",icon:"weapons/goldTwoHandedAxe.png",minimumMiningLevel:40,craftCost:{goldBar:1e3,leather:245,anvil:26}},_reapersToll:{category:"gearMainHand",gearType:"mainHand",id:"_reapersToll",name:"Reaper's Toll",strength:60,accuracy:-7,defense:12,evasion:-1,attackSpeed:12,shipSpeed:12,health:12,miningLuck:12,scavengeLuck:12,lootLuck:12,counter:-3,regeneration:0,resilience:0,value:6e4},_corpsemaker:{category:"gearMainHand",gearType:"mainHand",id:"_corpsemaker",name:"Corpsemaker",strength:48,accuracy:-4,defense:11,evasion:-2,attackSpeed:12,shipSpeed:12,health:12,miningLuck:12,scavengeLuck:12,lootLuck:12,counter:-3,regeneration:0,resilience:0,value:48e3},_tremor:{category:"gearMainHand",gearType:"mainHand",id:"_tremor",name:"Tremor",strength:17,accuracy:-5,defense:14,evasion:-1,attackSpeed:12,shipSpeed:12,health:12,miningLuck:12,scavengeLuck:12,lootLuck:12,counter:-2,regeneration:0,resilience:0,value:17e3},_malificentRavager:{category:"gearMainHand",gearType:"mainHand",id:"_malificentRavager",name:"Malificent Ravager",strength:25,accuracy:-11,defense:5,evasion:-1,attackSpeed:12,shipSpeed:12,health:12,miningLuck:12,scavengeLuck:12,lootLuck:12,counter:-2,regeneration:0,resilience:0,value:25e3},_bloodvenomBattleAxe:{category:"gearMainHand",gearType:"mainHand",id:"_bloodvenomBattleAxe",name:"Bloodvenom Battle Axe",strength:33,accuracy:-12,defense:6,evasion:-2,attackSpeed:12,shipSpeed:12,health:12,miningLuck:12,scavengeLuck:12,lootLuck:12,counter:-1,regeneration:1,resilience:0,value:33e3},_thiefsHand:{category:"gearMainHand",gearType:"mainHand",id:"_thiefsHand",name:"Thief's hand",strength:14,accuracy:7,defense:-8,evasion:5,attackSpeed:12,shipSpeed:12,health:12,miningLuck:12,scavengeLuck:12,lootLuck:12,counter:0,regeneration:9,resilience:0,value:55e3},_nimbleNeedle:{category:"gearMainHand",gearType:"mainHand",id:"_nimbleNeedle",name:"Nimble Needle",strength:19,accuracy:3,defense:-5,evasion:11,attackSpeed:12,shipSpeed:12,health:12,miningLuck:12,scavengeLuck:12,lootLuck:12,counter:7,regeneration:0,resilience:0,value:44800},_gankutusou:{category:"gearMainHand",gearType:"mainHand",id:"_gankutusou",name:"Gankutsuou",strength:44,accuracy:-2,defense:7,evasion:-1,attackSpeed:12,shipSpeed:12,health:12,miningLuck:12,scavengeLuck:12,lootLuck:12,counter:-1,regeneration:0,resilience:0,value:33e3},_devilsFinger:{category:"gearMainHand",gearType:"mainHand",id:"_devilsFinger",name:"Devils' Finger",strength:75,accuracy:-15,defense:-10,evasion:-5,attackSpeed:12,shipSpeed:12,health:12,miningLuck:12,scavengeLuck:12,lootLuck:12,counter:-5,regeneration:-2,resilience:0,value:84e3},_fryingPan:{category:"gearMainHand",gearType:"mainHand",id:"_fryingPan",name:"Frying Pan",strength:50,accuracy:5,defense:-5,evasion:0,attackSpeed:12,shipSpeed:12,health:12,miningLuck:12,scavengeLuck:12,lootLuck:12,counter:2,regeneration:0,resilience:0,value:57e3},agate:{category:"gem",id:"agate",name:"Agate",attack:1,icon:"gems/agate.png",value:"10,000"},alexandrite:{category:"gem",id:"alexandrite",name:"Alexandrite",attack:1,icon:"gems/alexandrite.png",value:"10,000"},almandineGarnet:{category:"gem",id:"almandineGarnet",name:"Almandine Garnet",attack:1,icon:"gems/almandineGarnet.png",value:"10,000"},amazonite:{category:"gem",id:"amazonite",name:"Amazonite",attack:1,icon:"gems/amazonite.png",value:"10,000"},amber:{category:"gem",id:"amber",name:"Amber",attack:1,icon:"gems/amber.png",value:"10,000"},amethyst:{category:"gem",id:"amethyst",name:"Amethyst",attack:1,icon:"gems/amethyst.png",value:"10,000"},ametrine:{category:"gem",id:"ametrine",name:"Ametrine",attack:1,icon:"gems/ametrine.png",value:"10,000"},ammolite:{category:"gem",id:"ammolite",name:"Ammolite",attack:1,icon:"gems/ammolite.png",value:"10,000"},andalusite:{category:"gem",id:"andalusite",name:"Andalusite",attack:1,icon:"gems/andalusite.png",value:"10,000"},andesineLabradorite:{category:"gem",id:"andesineLabradorite",name:"Andesine Labradorite",attack:1,icon:"gems/andesineLabradorite.png",value:"10,000"},andraditeGarnet:{category:"gem",id:"andraditeGarnet",name:"Andradite Garnet",attack:1,icon:"gems/andraditeGarnet.png",value:"10,000"},apatite:{category:"gem",id:"apatite",name:"Apatite",attack:1,icon:"gems/apatite.png",value:"10,000"},aquamarine:{category:"gem",id:"aquamarine",name:"Aquamarine",attack:1,icon:"gems/aquamarine.png",value:"10,000"},aventurine:{category:"gem",id:"aventurine",name:"Aventurine",attack:1,icon:"gems/aventurine.png",value:"10,000"},azurite:{category:"gem",id:"azurite",name:"Azurite",attack:1,icon:"gems/azurite.png",value:"10,000"},blackOpal:{category:"gem",id:"blackOpal",name:"Black Opal",attack:1,icon:"gems/blackOpal.png",value:"10,000"},bloodstone:{category:"gem",id:"bloodstone",name:"Bloodstone",attack:1,icon:"gems/bloodstone.png",value:"10,000"},boulderOpal:{category:"gem",id:"boulderOpal",name:"Boulder Opal",attack:1,icon:"gems/boulderOpal.png",value:"10,000"},carnelian:{category:"gem",id:"carnelian",name:"Carnelian",attack:1,icon:"gems/carnelian.png",value:"10,000"},chalcedony:{category:"gem",id:"chalcedony",name:"Chalcedony",attack:1,icon:"gems/chalcedony.png",value:"10,000"},chariote:{category:"gem",id:"chariote",name:"Charoite",attack:1,icon:"gems/chariote.png",value:"10,000"},chrysocolla:{category:"gem",id:"chrysocolla",name:"Chrysocolla",attack:1,icon:"gems/chrysocolla.png",value:"10,000"},chrysoprase:{category:"gem",id:"chrysoprase",name:"Chrysoprase",attack:1,icon:"gems/chrysoprase.png",value:"10,000"},chysoberyl:{category:"gem",id:"chysoberyl",name:"Chrysoberyl",attack:1,icon:"gems/chysoberyl.png",value:"10,000"},citrine:{category:"gem",id:"citrine",name:"Citrine",attack:1,icon:"gems/citrine.png",value:"10,000"},coral:{category:"gem",id:"coral",name:"Coral",attack:1,icon:"gems/coral.png",value:"10,000"},danburite:{category:"gem",id:"danburite",name:"Danburite",attack:1,icon:"gems/danburite.png",value:"10,000"},diamond:{category:"gem",id:"diamond",name:"Diamond",attack:1,icon:"gems/diamond.png",value:"10,000"},diaspore:{category:"gem",id:"diaspore",name:"Diaspore",attack:1,icon:"gems/diaspore.png",value:"10,000"},emerald:{category:"gem",id:"emerald",name:"Emerald",attack:1,icon:"gems/emerald.png",value:"10,000"},flourite:{category:"gem",id:"flourite",name:"Fluorite",attack:1,icon:"gems/flourite.png",value:"10,000"},goldenBeryl:{category:"gem",id:"goldenBeryl",name:"Golden Beryl",attack:1,icon:"gems/goldenBeryl.png",value:"10,000"},goshenite:{category:"gem",id:"goshenite",name:"Goshenite",attack:1,icon:"gems/goshenite.png",value:"10,000"},hawksEye:{category:"gem",id:"hawksEye",name:"Hawks Eye",attack:1,icon:"gems/hawksEye.png",value:"10,000"},heliodor:{category:"gem",id:"heliodor",name:"Heliodor",attack:1,icon:"gems/heliodor.png",value:"10,000"},hematite:{category:"gem",id:"hematite",name:"Hematite",attack:1,icon:"gems/hematite.png",value:"10,000"},howlite:{category:"gem",id:"howlite",name:"Howlite",attack:1,icon:"gems/howlite.png",value:"10,000"},iolite:{category:"gem",id:"iolite",name:"Iolite",attack:1,icon:"gems/iolite.png",value:"10,000"},jade:{category:"gem",id:"jade",name:"Jade",attack:1,icon:"gems/jade.png",value:"10,000"},jadeite:{category:"gem",id:"jadeite",name:"Jadeite",attack:1,icon:"gems/jadite.png",value:"10,000"},jasper:{category:"gem",id:"jasper",name:"Jasper",attack:1,icon:"gems/placeholder.png",value:"10,000"},kornerupine:{category:"gem",id:"kornerupine",name:"Kornerupine",attack:1,icon:"gems/kornerupine.png",value:"10,000"},kunzite:{category:"gem",id:"kunzite",name:"Kunzite",attack:1,icon:"gems/kunzite.png",value:"10,000"},kyanite:{category:"gem",id:"kyanite",name:"Kyanite",attack:1,icon:"gems/kyanite.png",value:"10,000"},lapis:{category:"gem",id:"lapis",name:"Lapis Lazuli",attack:1,icon:"gems/lapis.png",value:"10,000"},larimar:{category:"gem",id:"larimar",name:"Larimar",attack:1,icon:"gems/larimar.png",value:"10,000"},lepidolite:{category:"gem",id:"lepidolite",name:"Lepidolite",attack:1,icon:"gems/lepidolite.png",value:"10,000"},malachite:{category:"gem",id:"malachite",name:"Malachite",attack:1,icon:"gems/malachite.png",value:"10,000"},melanite:{category:"gem",id:"melanite",name:"Melanite",attack:1,icon:"gems/melanite.png",value:"10,000"},moldavite:{category:"gem",id:"moldavite",name:"Moldavite",attack:1,icon:"gems/placeholder.png",value:"10,000"},moonstone:{category:"gem",id:"moonstone",name:"Moonstone",attack:1,icon:"gems/placeholder.png",value:"10,000"},morganite:{category:"gem",id:"morganite",name:"Morganite",attack:1,icon:"gems/placeholder.png",value:"10,000"},obsidian:{category:"gem",id:"obsidian",name:"Obsidian",attack:1,icon:"gems/placeholder.png",value:"10,000"},omphaciteJade:{category:"gem",id:"omphaciteJade",name:"Omphacite Jade",attack:1,icon:"gems/placeholder.png",value:"10,000"},onyx:{category:"gem",id:"onyx",name:"Onyx",attack:1,icon:"gems/placeholder.png",value:"10,000"},opal:{category:"gem",id:"opal",name:"Opal",attack:1,icon:"gems/placeholder.png",value:"10,000"},pearl:{category:"gem",id:"pearl",name:"Pearl",attack:1,icon:"gems/placeholder.png",value:"10,000"},peridot:{category:"gem",id:"peridot",name:"Peridot",attack:1,icon:"gems/placeholder.png",value:"10,000"},quartz:{category:"gem",id:"quartz",name:"Quartz",attack:1,icon:"gems/placeholder.png",value:"10,000"},rainbowMoonstone:{category:"gem",id:"rainbowMoonstone",name:"Rainbow Moonstone",attack:1,icon:"gems/placeholder.png",value:"10,000"},roseQuartz:{category:"gem",id:"roseQuartz",name:"Rose Quartz",attack:1,icon:"gems/placeholder.png",value:"10,000"},ruby:{category:"gem",id:"ruby",name:"Ruby",attack:1,icon:"gems/ruby.png",value:"10,000"},rutilatedGems:{category:"gem",id:"rutilatedGems",name:"Rutilated Gems",attack:1,icon:"gems/placeholder.png",value:"10,000"},rutileQuartz:{category:"gem",id:"rutileQuartz",name:"Rutile Quartz",attack:1,icon:"gems/placeholder.png",value:"10,000"},rutileTopaz:{category:"gem",id:"rutileTopaz",name:"Rutile Topaz",attack:1,icon:"gems/placeholder.png",value:"10,000"},sapphire:{category:"gem",id:"sapphire",name:"Sapphire",attack:1,icon:"gems/sapphire.png",value:"10,000"},sodalite:{category:"gem",id:"sodalite",name:"Sodalite",attack:1,icon:"gems/placeholder.png",value:"10,000"},spessartiteGarnet:{category:"gem",id:"spessartiteGarnet",name:"Spessartite Garnet",attack:1,icon:"gems/placeholder.png",value:"10,000"},tanzanite:{category:"gem",id:"tanzanite",name:"Tanzanite",attack:1,icon:"gems/placeholder.png",value:"10,000"},tigersEye:{category:"gem",id:"tigersEye",name:"Tiger's Eye",attack:1,icon:"gems/placeholder.png",value:"10,000"},topaz:{category:"gem",id:"topaz",name:"Topaz",attack:1,icon:"gems/placeholder.png",value:"10,000"},tourmaline:{category:"gem",id:"tourmaline",name:"Tourmaline",attack:1,icon:"gems/placeholder.png",value:"10,000"},turquoise:{category:"gem",id:"turquoise",name:"Turquoise",attack:1,icon:"gems/placeholder.png",value:"10,000"},variscite:{category:"gem",id:"variscite",name:"Variscite",attack:1,icon:"gems/placeholder.png",value:"10,000"},zircon:{category:"gem",id:"zircon",name:"Zircon",attack:1,icon:"gems/placeholder.png",value:"10,000"},zultanite:{category:"gem",id:"zultanite",name:"Zultanite",attack:1,icon:"gems/placeholder.png",value:"10,000"},aluminaOxide:{category:"rawMaterial",id:"aluminaOxide",icon:"aluminaOxide.png",name:"Alumina Oxide",description:"Aluminium oxide is a chemical compound of aluminium and oxygen with the chemical formula Al2O3.",el:"Al2O3",craftCost:{aluminum:2,oxygen:3}},aluminum:{category:"rawMaterial",id:"aluminum",icon:"aluminum.png",name:"Aluminum",description:"Aluminium is a chemical element in the boron group with symbol Al and atomic number 13.",el:"Al"},argon:{category:"rawMaterial",id:"argon",icon:"argon.png",name:"Argon",description:"Argon is a chemical element with symbol Ar and atomic number 18.",el:"Ar"},barium:{category:"rawMaterial",id:"barium",icon:"barium.png",name:"Barium",description:"Barium is a chemical element with symbol Ba and atomic number 56.",el:"Ba"},boron:{category:"rawMaterial",id:"boron",icon:"boron.png",name:"Boron",description:"Boron is a chemical element with symbol B and atomic number 5.",el:"B"},calcium:{category:"rawMaterial",id:"calcium",icon:"calcium.png",name:"Calcium",description:"Calcium is the chemical element with symbol Ca and atomic number 20. ",el:"Ca"},carbon:{category:"rawMaterial",id:"carbon",icon:"carbon.png",name:"Carbon",description:"Carbon is the chemical element with symbol C and atomic number 6.",el:"C"},carbonDioxide:{category:"rawMaterial",id:"carbonDioxide",icon:"carbonDioxide.png",name:"Carbon dioxide",description:"Carbon dioxide is a chemical compound composed of 2 oxygen atoms bonded to a single carbon atom.",el:"CO2",craftCost:{carbon:1,oxygen:2}},carbonMonoxide:{category:"rawMaterial",id:"carbonMonoxide",icon:"carbonMonoxide.png",name:"Carbon Monoxide",description:"Carbon monoxide is a colorless, odorless, and tasteless gas that is slightly less dense than air.",el:"CO",craftCost:{carbon:1,oxygen:1}},ceasium:{category:"rawMaterial",id:"ceasium",icon:"caesium.png",name:"Caesium",description:"Caesium or cesium is a chemical element with symbol Cs and atomic number 55.",el:"Cs"},chloride:{category:"rawMaterial",id:"chloride",icon:"chlorine.png",name:"Chlorine",description:"Chlorine is a chemical element with symbol Cl and atomic number 17.",el:"Cl"},chromium:{category:"rawMaterial",id:"chromium",icon:"chromium.png",name:"Chromium",description:"Chromium is a chemical element which has the symbol Cr and atomic number 24.",el:"Cr"},coal:{category:"rawMaterial",id:"coal",icon:"coal.png",name:"Coal",description:"Coal is a combustible black or brownish-black sedimentary rock usually occurring in rock strata in layers or veins called coal beds.",craftCost:{carbon:5,hydrogen:1,sulfur:1,oxygen:1,nitrogen:1}},copper:{category:"rawMaterial",id:"copper",icon:"copper.png",name:"Copper",description:"Copper is a chemical element with the symbol Cu and atomic number 29. ",el:"Cu"},crudeOil:{category:"rawMaterial",id:"crudeOil",icon:"crudeOil.png",name:"Crude Oil"},fluorine:{category:"rawMaterial",id:"fluorine",icon:"flourine.png",name:"Fluorine",description:"Fluorine is a chemical element with the symbol F and atomic number 9.",el:"F"},fuel:{category:"rawMaterial",id:"fuel",icon:"fuel.png",name:"Fuel",craftCost:{crudeOil:10}},germanium:{category:"rawMaterial",id:"germanium",icon:"germanium.png",name:"Germanium",description:"Germanium is a chemical element with symbol Ge and atomic number 32.",el:"Gr"},gold:{category:"rawMaterial",id:"gold",icon:"gold.png",name:"Gold",description:"Gold is a chemical element with the symbol Au and atomic number 79.",el:"Au"},helium:{category:"rawMaterial",id:"helium",icon:"helium.png",name:"Helium",description:"Helium is a chemical element with symbol He and atomic number 2.",el:"He"},hydrogen:{category:"rawMaterial",id:"hydrogen",icon:"hydrogen.png",name:"Hydrogen",description:"Hydrogen is a chemical element with chemical symbol H and atomic number 1.",el:"H"},iridium:{category:"rawMaterial",id:"iridium",icon:"iridium.png",name:"Iridium",description:"Iridium is the chemical element with symbol Ir and atomic number 77.",el:"Ir"},iron:{category:"rawMaterial",id:"iron",icon:"iron.png",name:"Iron",description:"Iron is a chemical element with the symbol Fe and atomic number 26.",el:"Fe"},krypton:{category:"rawMaterial",id:"krypton",icon:"krypton.png",name:"Krypton",description:"Krypton is a chemical element with symbol Kr and atomic number 36.",el:"Kr"},lime:{category:"rawMaterial",id:"lime",icon:"lime.png",name:"Lime",description:"Lime is a calcium-containing inorganic material in which carbonates, oxides and hydroxides predominate.",el:"CaO",craftCost:{calcium:1,oxygen:1}},magnesium:{category:"rawMaterial",id:"magnesium",icon:"magnesium.png",name:"Magnesium",description:"Magnesium is a chemical element with the symbol Mg and atomic number 12.",el:"Mg"},manganese:{category:"rawMaterial",id:"manganese",icon:"manganese.png",name:"Manganese",description:"Manganese is a chemical element, designated by the symbol Mn. It has the atomic number 25.",el:"Mn"},methane:{category:"rawMaterial",id:"methane",icon:"methane.png",name:"Methane",description:"Methane is a chemical compound with the chemical formula CH4.",el:"CH4"},methanol:{category:"rawMaterial",id:"methanol",icon:"methanol.png",name:"Methanol",description:"Methanol, also known as methyl alcohol,  is a chemical with the formula CH3OH.",el:"CH3OH",craftCost:{carbon:2,hydrogen:4,oxygen:1}},neodymium:{category:"rawMaterial",id:"neodymium",icon:"neodymium.png",name:"Neodymium",description:"Neodymium is a chemical element with the symbol Nd and atomic number 60.",el:"Nd"},neon:{category:"rawMaterial",id:"neon",icon:"neon.png",name:"Neon",description:"Neon is a chemical element with symbol Ne and atomic number 10.",el:"Ne"},nickel:{category:"rawMaterial",id:"nickel",icon:"nickel.png",name:"Nickel",description:"Nickel is a chemical element with the chemical symbol Ni and atomic number 28.",el:"Ni"},nitricAcid:{category:"rawMaterial",id:"nitricAcid",icon:"nitricAcid.png",name:"Nitric Acid",description:"Nitric acid, also known as aqua fortis and spirit of niter, is a highly corrosive strong mineral acid.",el:"HNO3",craftCost:{hydrogen:1,nitrogen:3,oxygen:1}},nitrogen:{category:"rawMaterial",id:"nitrogen",icon:"nitrogen.png",name:"Nitrogen",description:"Nitrogen is a chemical element with symbol N and atomic number 7.",el:"N"},oxygen:{category:"rawMaterial",id:"oxygen",icon:"oxygen.png",name:"Oxygen",description:"Oxygen is a chemical element with symbol O and atomic number 8. It is the gas we breathe.",el:"O"},phosphorus:{category:"rawMaterial",id:"phosphorus",icon:"phosphorus.png",name:"Phosphorus",description:"Phosphorus is a nonmetallic chemical element with symbol P and atomic number 15.",el:"P"},potassium:{category:"rawMaterial",id:"potassium",icon:"potassium.png",name:"Potassium",description:"Potassium is a chemical element with symbol K and atomic number 19. ",el:"K"},rhenium:{category:"rawMaterial",id:"rhenium",icon:"rhenium.png",name:"Rhenium",description:"Rhenium is a chemical element with the symbol Re and atomic number 75.",el:"Re"},salt:{category:"rawMaterial",id:"salt",icon:"salt.png",name:"Salt",description:"Common salt is a mineral substance composed primarily of sodium chloride, also known as table salt.",el:"NaCl",craftCost:{chloride:1,sodium:1}},silicon:{category:"rawMaterial",id:"silicon",icon:"silicon.png",name:"Silicon",description:"Silicon is a chemical element with the symbol Si and atomic number 14.",el:"Si"},silver:{category:"rawMaterial",id:"silver",icon:"silver.png",name:"Silver",description:"Silver is a chemical element with the symbol Ag and atomic number 47. ",el:"Ag"},sodium:{category:"rawMaterial",id:"sodium",icon:"sodium.png",name:"Sodium",description:"Sodium is a chemical element with the symbol Na and atomic number 11. ",el:"Na"},steel:{category:"rawMaterial",id:"steel",icon:"steel.png",name:"Steel",description:"Steel is an alloy of iron and carbon that is widely used because of its hardness and tensile strength.",craftCost:{iron:5,carbon:1}},sulfate:{category:"rawMaterial",id:"sulfate",icon:"sulfate.png",name:"Sulfate",craftCost:{sulfur:1,oxygen:4}},sulfur:{category:"rawMaterial",id:"sulfur",icon:"sulfur.png",name:"Sulfur",description:"Sulfur or sulphur is a chemical element with the symbol S and atomic number 16.",el:"S"},sulfurDioxide:{category:"rawMaterial",id:"sulfurDioxide",icon:"sulfurDioxide.png",name:"Sulfur Dioxide",description:"Sulfur dioxide is the chemical compound with the formula SO2.",el:"SO2"},sulfuricAcid:{category:"rawMaterial",id:"sulfuricAcid",icon:"sulfuricAcid.png",name:"Sulfuric Acid",description:"Sulfuric acid is a highly corrosive strong mineral acid with the molecular formula H2SO4.",el:"S2HO4",craftCost:{hydrogen:2,sulfate:4}},tin:{category:"rawMaterial",id:"tin",icon:"tin.png",name:"Tin",description:"Tin is a chemical element with symbol Sn and atomic number 50.",el:"Sn"},titanium:{category:"rawMaterial",id:"titanium",icon:"titanium.png",name:"Titanium",description:"Titanium is a chemical element with the symbol Ti and atomic number 22.",el:"Ti"},tungsten:{category:"rawMaterial",id:"tungsten",icon:"tungsten.png",name:"Tungsten",description:"Tungsten, also known as wolfram, is a chemical element with the chemical symbol W and atomic number 74.",el:"W"},water:{category:"rawMaterial",id:"water",icon:"water.png",name:"Water",description:"Water is a transparent fluid which forms the lakes, oceans and rain, and most of the fluids in living things.",craftCost:{hydrogen:2,oxygen:1}},wood:{category:"rawMaterial",id:"wood",icon:"wood.png",name:"Wood",description:"Comes from trees, found when decomposing."},xenon:{category:"rawMaterial",id:"xenon",icon:"xenon.png",name:"Xenon",description:"Xenon is a chemical element with the symbol Xe and atomic number 54.",el:"Xe"},zinc:{category:"rawMaterial",id:"zinc",icon:"zinc.png",name:"Zinc",description:"Zinc, in commerce also spelter, is a metallic chemical element; it has the symbol Zn and atomic number 30.",el:"Zn"},strengthPotion:{category:"usable",id:"strengthPotion",name:"Strength Potion",description:"Dig deeper for 1 minute",value:5e3},refiningPotion:{category:"usable",id:"refiningPotion",name:"Refining Potion",description:"5% bonus when refining for 1 minute",value:25e3},oxygenPotion:{category:"usable",id:"oxygenPotion",name:"Oxygen Potion",description:"Refills your oxygen tanks",value:25e3},healthPotion:{category:"usable",id:"healthPotion",name:"Health Potion",description:"Refills your health",value:25e3},resurrectionPotion:{category:"usable",id:"resurrectionPotion",name:"Resurrection Potion",description:"Resurrect your character",value:1e5},aluminumCan:{category:"scavenge",id:"aluminumCan",dropRate:.008,name:"Pop Can",description:"Picked up by homeless people, now you.",icon:"/scavenge/aluminumCan.png",craftCost:{aluminum:1}},aluminumRing:{category:"scavenge",id:"aluminumRing",dropRate:.01,name:"Aluminum Band",description:"A random industrial part.",icon:"/scavenge/aluminumRing.png",craftCost:{aluminum:1}},armoire:{category:"scavenge",id:"armoire",dropRate:.006,name:"Armoire",description:"A nice wooden armoire.",icon:"/scavenge/armoire.png",craftCost:{wood:3}},bigRock:{category:"scavenge",id:"bigRock",dropRate:.006,name:"Large Rock",description:"Perfect for use as ballast.",icon:"/scavenge/bigRock.png",craftCost:{stone:2}},blender:{category:"scavenge",id:"blender",dropRate:.006,name:"Blender",description:"Some people meditate, others blend.",icon:"/scavenge/blender.png",craftCost:{glass:1,iron:1,steel:1}},bluntPencil:{category:"scavenge",id:"bluntPencil",dropRate:.006,name:"Broken Pencil",description:"If only you could find a sharpener...",icon:"/scavenge/bluntPencil.png",craftCost:{wood:1}},book:{category:"scavenge",id:"book",dropRate:9e-4,name:"Book",description:"Miles and Miles of Little Green Piles by Willie Mekit and Betty Vont.",icon:"/scavenge/book.png",craftCost:{leather:1}},breadKnife:{category:"scavenge",id:"breadKnife",dropRate:.001,name:"Bread Knife",description:"This knife did not run away with the spoon.",icon:"/scavenge/breadKnife.png",craftCost:{steel:1}},brokenKnife:{category:"scavenge",id:"brokenKnife",dropRate:.006,name:"Broken Knife",description:"A broken knife. Won't cut anything now.",icon:"/scavenge/brokenKnife.png",craftCost:{steel:1,wood:1}},camera:{category:"scavenge",id:"camera",dropRate:.004,name:"Camera",description:"A digital camera, missing its flash card.",icon:"/scavenge/camera.png",craftCost:{transistor:2,optics:1}},canOpener:{category:"scavenge",id:"canOpener",dropRate:9e-4,name:"Can Opener",description:"A can opener. It opens cans.",icon:"/scavenge/canOpener.png",craftCost:{steel:1}},carRadio:{category:"scavenge",id:"carRadio",dropRate:9e-4,name:"Car Radio",description:"A nice car radio missing its faceplate.",icon:"/scavenge/carRadio.png",craftCost:{steel:1,wiring:5,iron:1}},carWheel:{category:"scavenge",id:"carWheel",dropRate:.008,name:"Wheel Rim",description:"The wheel of a car.",icon:"/scavenge/carWheel.png",craftCost:{steel:2}},clutch:{category:"scavenge",id:"clutch",dropRate:.008,name:"Clutch",description:"A rusted car part.",icon:"/scavenge/clutch.png",craftCost:{iron:2}},colander:{category:"scavenge",id:"colander",dropRate:9e-4,name:"Colander",description:"Used for straining.",icon:"/scavenge/colander.png",craftCost:{steel:1}},computer:{category:"scavenge",id:"computer",dropRate:.009,name:"Computer",description:"An smashed computer.",icon:"/scavenge/computer.png",craftCost:{aluminum:2,cpu:1,copper:2}},crowbar:{category:"scavenge",id:"crowbar",dropRate:.001,name:"Crowbar",description:"If Freeman can use it, so can you.",icon:"/scavenge/crowbar.png",craftCost:{steel:2}},depletedBattery:{category:"scavenge",id:"depletedBattery",dropRate:.001,name:"Depleted Battery",description:"A depleted battery.",icon:"/scavenge/depletedBattery.png",craftCost:{hydrogen:1,potassium:1}},diningRoomTable:{category:"scavenge",id:"diningRoomTable",dropRate:9e-4,name:"Dining Room Table",description:"A gaudy dining room table.",icon:"/scavenge/diningRoomTable.png",craftCost:{wood:10,glass:10}},handheldMirror:{category:"scavenge",id:"handheldMirror",dropRate:.009,name:"Handheld Mirror",description:"A handheld mirror.",icon:"/scavenge/handheldMirror.png",craftCost:{gold:1,glass:1}},kitchenKnife:{category:"scavenge",id:"kitchenKnife",dropRate:.006,name:"Kitchen Knife",description:"Alice once wielded this knife.",icon:"/scavenge/kitchenKnife.png",craftCost:{steel:1}},kitchenSink:{category:"scavenge",id:"kitchenSink",dropRate:.001,name:"Kitchen Sink",description:"You scavenged everything but..actually that too.",icon:"/scavenge/kitchenSink.png",craftCost:{steel:2}},leatherBelt:{category:"scavenge",id:"leatherBelt",dropRate:.006,name:"Leather Belt",description:"An old leather belt.",icon:"/scavenge/leatherBelt.png",craftCost:{leather:1}},leatherJacket:{category:"scavenge",id:"leatherJacket",dropRate:9e-4,name:"Leather Jacket",description:"A chewed on leather jacket.",icon:"/scavenge/leatherJacket.png",craftCost:{leather:3}},measuringCup:{category:"scavenge",id:"measuringCup",dropRate:.006,name:"Measuring Cup",description:"A glass measuring cup.",icon:"/scavenge/measuringCup.png",craftCost:{glass:1}},motorOil:{category:"scavenge",id:"motorOil",dropRate:.009,name:"Motor Oil",description:"A quart of motor oil.",icon:"/scavenge/motorOil.png",craftCost:{fuel:1}},nails:{category:"scavenge",id:"nails",dropRate:.01,name:"Nails",description:"Box of 10d 1.5 flathead nails.",icon:"/scavenge/nails.png",craftCost:{steel:1}},oldShipPart:{category:"scavenge",id:"oldShipPart",dropRate:9e-5,name:"Old Ship Part",description:"A piece of an old ship.",icon:"/scavenge/oldShipPart.png",craftCost:{steelBar:10,titanium:20,ironBar:20,wiring:25,copper:10}},pan:{category:"scavenge",id:"pan",dropRate:.009,name:"Pan",description:"A frying pan.",icon:"/scavenge/pan.png",craftCost:{iron:2}},pizzaCutter:{category:"scavenge",id:"pizzaCutter",dropRate:.009,name:"Pizza Cutter",description:"A thermonuclear pizza cutter.",icon:"/scavenge/pizzaCutter.png",craftCost:{iron:1}},sheetmetal:{category:"scavenge",id:"sheetmetal",dropRate:.009,name:"Sheet Metal",description:"Sheets of metal, perfect for construction.",icon:"/scavenge/sheetmetal.png",craftCost:{steel:3}},silverCoin:{category:"scavenge",id:"silverCoin",dropRate:.09,name:"Silver Coin",description:"A nice silver coin.",icon:"/scavenge/silverCoin.png",craftCost:{silver:1}},spatula:{category:"scavenge",id:"spatula",dropRate:.009,name:"Spatula",description:"Not for use in flipping tables.",icon:"/scavenge/spatula.png",craftCost:{steel:1}},tableLeg:{category:"scavenge",id:"tableLeg",dropRate:.009,name:"Table Leg",description:"The remains of a flipped table.",icon:"/scavenge/tableLeg.png",craftCost:{wood:1}},teaKettle:{category:"scavenge",id:"teaKettle",dropRate:.009,name:"Tea Kettle",description:"Used for making tea.",icon:"/scavenge/teaKettle.png",craftCost:{copper:1}},telescope:{category:"scavenge",id:"telescope",dropRate:.009,name:"Telescope",description:"Sadly your neighbors are gone.",icon:"/scavenge/telescope.png",craftCost:{glass:2,steel:1,glass:2}},television:{category:"scavenge",id:"television",dropRate:.009,name:"Television",description:"An ancient television set.",icon:"/scavenge/television.png",craftCost:{wiring:5,iron:2,steel:2,glass:2,wiring:1}},tinyStone:{category:"scavenge",id:"tinyStone",dropRate:.09,name:"Tiny Stone",description:"A pebble.",icon:"/scavenge/tinyStone.png",craftCost:{stone:1}},tire:{category:"scavenge",id:"tire",dropRate:.009,name:"Tire",description:"A car tire.",icon:"/scavenge/tire.png",craftCost:{rubber:2}},urinal:{category:"scavenge",id:"urinal",dropRate:9e-4,name:"Urinal",description:"Men once peed in this.",icon:"/scavenge/urinal.png",craftCost:{silicaGlass:4,iron:1,steel:1,water:2}},waterBackpack:{category:"scavenge",id:"waterBackpack",dropRate:.009,name:"Water Backpack",description:"A backpack used for holding water on the go.",icon:"/scavenge/waterBackpack.png",craftCost:{water:4}},waterBottle:{category:"scavenge",id:"waterBottle",dropRate:.09,name:"Water Bottle",description:"A bottle filled with water.",icon:"/scavenge/waterBottle.png",craftCost:{water:1}},webcam:{category:"scavenge",id:"webcam",dropRate:9e-4,name:"Webcam",description:"An stand alone wired webcam.",icon:"/scavenge/webcam.png",craftCost:{wiring:1,optics:1}},spaceship:{category:"spaceship",id:"spaceship",icon:"spaceship.png",name:"Space Ship",description:"Your own Space Ship!",value:1e6,storagelimit:1,craftCost:{hull:1,wingAssembly:1,cabin:1}},hull:{category:"spaceship",id:"hull",icon:"hull.png",name:"Ship Hull",description:"The hull of your Space Ship",value:5e5,storagelimit:1,craftCost:{hullStructure:1,landingGear:1,fuelAssembly:1,ceramicShielding:4}},hullStructure:{category:"spaceship",id:"hullStructure",icon:"hullStructure.png",name:"Hull Structure",description:"The structure for your Space Ship Hull",value:25e4,craftCost:{ironBar:75,aluminumBar:20}},landingGear:{category:"spaceship",id:"landingGear",icon:"landingGear.png",name:"Landing Gear",description:"Required for reusable spacecraft.",value:5e5,craftCost:{steelBar:25,rubber:8}},fuelAssembly:{category:"spaceship",id:"fuelAssembly",icon:"fuelAssembly.png",name:"Fuel Assembly",description:"A complex system for generating thrust.",value:1e6,craftCost:{propellantTank:8,insulatingFoam:10}},ceramicShielding:{category:"spaceship",id:"ceramicShielding",icon:"ceramicShielding.png",name:"Ceramic Shielding",description:"Thermal plates designed to insulate the ship.",value:5e5,craftCost:{silicaGlass:10,oxygenCan:10,nitrogen:25}},wingAssembly:{category:"spaceship",id:"wingAssembly",icon:"wings.png",name:"Wing Assembly",description:"The wings of the spaceship.",value:5e4,storagelimit:1,craftCost:{wingStructure:2,rocketBooster:2,vernierThruster:2,ceramicShielding:4}},wingStructure:{category:"spaceship",id:"wingStructure",icon:"wingFrame.png",name:"Wing Structure",description:"Framework for your ship wings.",value:5e5,craftCost:{steelBar:30,aluminumBar:16}},rocketBooster:{category:"spaceship",id:"rocketBooster",icon:"boosters.png",name:"Rocket Booster",description:"A boost for your Wing Assembly",value:1e6,craftCost:{ceramicShielding:4,steelBar:20}},vernierThruster:{category:"spaceship",id:"vernierThruster",icon:"smallThruster.png",name:"Vernier Thruster",description:"A thruster for your Wing Assembly",value:1e5,craftCost:{ceramicShielding:4,aluminumBar:8,steelBar:8}},cabin:{category:"spaceship",id:"cabin",icon:"cabin.png",name:"Cabin",description:"Spaceship's Cabin.",value:1e4,storagelimit:1,craftCost:{cabinStructure:1,lifeSupport:1}},cabinStructure:{category:"spaceship",id:"cabinStructure",icon:"cabinStructure.png",name:"Cabin Structure",description:"The structure of the cabin.",value:5e4,craftCost:{aluminumBar:50,steelBar:50,fiberglass:5}},lifeSupport:{category:"spaceship",id:"lifeSupport",icon:"lifeSupport.png",name:"Life Support",description:"Required for any spaceworthy ship.",value:5e5,craftCost:{oxygenTank:10,waterTank:10,microGarden:1}},oxygenTank:{category:"spaceship",id:"oxygenTank",icon:"oxygenTank.png",name:"Oxygen tank",description:"Enough compressed air to survive for 1 year in space without recycling.",value:125e3,craftCost:{ironBar:10,oxygen:500}},waterTank:{category:"spaceship",id:"waterTank",icon:"waterPurifier.png",name:"Water Tank",description:"Capable of holding up to 500 liters of water.",value:25e4,craftCost:{steelBar:10,water:500}},microGarden:{category:"spaceship",id:"microGarden",icon:"microGarden.png",name:"Micro Garden",description:"Minimal air recylcing and fresh food provider.",value:25e4,craftCost:{water:200,energyCell:10}},cargoComputer:{category:"spaceship",id:"cargoComputer",icon:"shipComputer.png",name:"Cargo Computer",description:"Advanced processor for enhanced ship micromanagement.",value:5e5,craftCost:{powerSystem:1,controlBoard:1,cpu:16,navigationSystem:1,commsSystem:1,wiring:10}},powerSystem:{category:"spaceship",id:"powerSystem",icon:"powerSystem.png",name:"Power System",description:"Backup APC in case of engine faliure.",value:5e5,craftCost:{powerCell:50,steel:5,controlBoard:1,copperBar:20}},navigationSystem:{category:"spaceship",id:"navigationSystem",icon:"navigationSystem.png",name:"Navigation System",description:"Assembly for spatial analysis.",value:25e4,craftCost:{optics:2,controlBoard:1,maneuveringSystem:1}},commsSystem:{category:"spaceship",id:"commsSystem",icon:"commsSystem.png",name:"Comms System",description:"Communication assembly",value:25e4,craftCost:{radioTransceiver:1,powerCell:10,controlBoard:1,headset:1,wiring:10}},radioTransceiver:{category:"spaceship",id:"radioTransceiver",icon:"radioTransceiver.png",name:"Radio Transceiver",description:"Send and receive information",value:125e3,craftCost:{transistor:2,wiring:10,coaxialCable:1}},headset:{category:"spaceship",id:"headset",icon:"headset.png",name:"Headset",description:"Comfortable headset with microphone",value:25e3,craftCost:{aluminumBar:1,polystyrene:5,copperBar:10,wiring:1}},cpu:{category:"spaceship",id:"cpu",icon:"cpu.png",name:"CPU",description:"Central Processing Unit",value:25e3,craftCost:{pureSilicon:4,heatSink:2,copperBar:4}}},define("data/items",function(){}),LootTables={},LootMode={single:0,multi:1},exports.loot=LootTables,exports.lootMode=LootMode,addTable(100,"earthAtmosphere",[[Items.argon.id,.009],[Items.carbonDioxide.id,.007],[Items.carbonMonoxide.id,.007],[Items.helium.id,.007],[Items.hydrogen.id,.05],[Items.krypton.id,.009],[Items.methane.id,.009],[Items.neon.id,.009],[Items.nitrogen.id,.05],[Items.oxygen.id,.4]]),addTable(101,"earthMinerals",[[Items.aluminaOxide.id,.009],[Items.aluminum.id,.008],[Items.barium.id,5e-4],[Items.boron.id,5e-5],[Items.calcium.id,.015],[Items.carbon.id,.009],[Items.ceasium.id,9e-4],[Items.chloride.id,.0015],[Items.chromium.id,.0027],[Items.coal.id,9e-5],[Items.copper.id,.018],[Items.crudeOil.id,.009],[Items.fluorine.id,7e-4],[Items.germanium.id,.009],[Items.gold.id,.009],[Items.iridium.id,.007],[Items.iron.id,.04],[Items.lime.id,.005],[Items.magnesium.id,.009],[Items.manganese.id,.009],[Items.neodymium.id,.009],[Items.nickel.id,.009],[Items.phosphorus.id,.009],[Items.potassium.id,.009],[Items.rhenium.id,.009],[Items.silicon.id,.009],[Items.silver.id,.009],[Items.sodium.id,.009],[Items.sulfur.id,.009],[Items.sulfurDioxide.id,.009],[Items.sulfuricAcid.id,.009],[Items.tin.id,.009],[Items.titanium.id,1e-4],[Items.tungsten.id,9e-5],[Items.water.id,9e-4],[Items.xenon.id,9e-5],[Items.zinc.id,.009]]),addSingleTable(102,"earthGemsCommon",[Items.amber.id,Items.amethyst.id,Items.aquamarine.id,Items.emerald.id,Items.lapis.id,Items.quartz.id,Items.topaz.id]),addSingleTable(103,"earthGemsRare",[Items.agate.id,Items.alexandrite.id,Items.almandineGarnet.id,Items.amazonite.id,Items.ametrine.id,Items.ammolite.id,Items.andalusite.id,Items.andesineLabradorite.id,Items.andraditeGarnet.id,Items.apatite.id,Items.aquamarine.id,Items.aventurine.id,Items.azurite.id,Items.blackOpal.id,Items.bloodstone.id,Items.boulderOpal.id,Items.carnelian.id,Items.chalcedony.id,Items.chariote.id,Items.chrysocolla.id,Items.chrysoprase.id,Items.chysoberyl.id,Items.citrine.id,Items.coral.id,Items.danburite.id,Items.diamond.id,Items.diaspore.id,Items.flourite.id,Items.goldenBeryl.id,Items.goshenite.id,Items.hawksEye.id,Items.heliodor.id,Items.hematite.id,Items.howlite.id,Items.iolite.id,Items.jade.id,Items.jadeite.id,Items.jasper.id,Items.kornerupine.id,Items.kunzite.id,Items.kyanite.id,Items.larimar.id,Items.lepidolite.id,Items.malachite.id,Items.melanite.id,Items.moldavite.id,Items.moonstone.id,Items.morganite.id,Items.obsidian.id,Items.omphaciteJade.id,Items.onyx.id,Items.opal.id,Items.pearl.id,Items.peridot.id,Items.rainbowMoonstone.id,Items.roseQuartz.id,Items.ruby.id,Items.rutilatedGems.id,Items.rutileQuartz.id,Items.rutileTopaz.id,Items.sapphire.id,Items.sodalite.id,Items.spessartiteGarnet.id,Items.tanzanite.id,Items.tigersEye.id,Items.tourmaline.id,Items.turquoise.id,Items.variscite.id,Items.zircon.id,Items.zultanite.id]),addTable(104,"earthMining",[[LootTables.earthGemsRare,8e-7],[LootTables.earthGemsCommon,5e-5],[LootTables.earthMinerals,1]]),addTable(200,"moonAtmosphere",[[Items.oxygen.id,.43]]),addTable(201,"moonMinerals",[[Items.silicon.id,.2],[Items.magnesium.id,.19],[Items.iron.id,.05],[Items.calcium.id,.03],[Items.aluminum.id,.03],[Items.chromium.id,.042],[Items.titanium.id,.018],[Items.manganese.id,.012]]),addTable(300,"marsAtmosphere",[[Items.carbonDioxide.id,.01]]),addTable(301,"marsMinerals",[[Items.potassium.id,.05],[Items.magnesium.id,.1],[Items.sodium.id,.09],[Items.chloride.id,.09]]),addTable(400,"venusAtmosphere",[[Items.carbonDioxide.id,1],[Items.nitrogen.id,.003],[Items.sulfurDioxide.id,.0015],[Items.argon.id,7e-4],[Items.carbonMonoxide.id,.0017],[Items.neon.id,7e-4],[Items.helium.id,.0012]]),addTable(401,"venusMinerals",[[Items.silicon.id,1],[Items.iron.id,.5]]),addTable(500,"mercuryAtmosphere",[[Items.oxygen.id,.001],[Items.argon.id,.001],[Items.nitrogen.id,.001],[Items.carbonDioxide.id,.001],[Items.xenon.id,.001],[Items.krypton.id,.001],[Items.neon.id,.001],[Items.hydrogen.id,.022],[Items.helium.id,.006],[Items.potassium.id,.005]]),addTable(501,"mercuryMinerals",[[Items.aluminum.id,.001],[Items.iron.id,.01],[Items.magnesium.id,.002],[Items.silicon.id,.001]]),addTable(600,"jupiterAtmosphere",[[Items.hydrogen.id,.09],[Items.helium.id,.01],[Items.neon.id,7e-4],[Items.methane.id,1e-4]]),addTable(700,"saturnAtmosphere",[[Items.hydrogen.id,.96],[Items.helium.id,.03],[Items.methane.id,.01]]),addTable(800,"neptuneAtmosphere",[[Items.hydrogen.id,.08],[Items.helium.id,.019],[Items.methane.id,.001]]),addTable(900,"plutoAtmosphere",[[Items.nitrogen.id,.09],[Items.methane.id,.005],[Items.carbonMonoxide.id,.005]]),addTable(1e3,"earthScavengeRes",[[Items.aluminumCan.id,.008],[Items.aluminumRing.id,.01],[Items.armoire.id,.006],[Items.bigRock.id,.006],[Items.blender.id,.006],[Items.bluntPencil.id,.006],[Items.book.id,9e-4],[Items.breadKnife.id,.001],[Items.brokenKnife.id,.006],[Items.camera.id,.004],[Items.canOpener.id,9e-4],[Items.carRadio.id,9e-4],[Items.carWheel.id,.008],[Items.clutch.id,.008],[Items.colander.id,9e-4],[Items.computer.id,.009],[Items.crowbar.id,.001],[Items.depletedBattery.id,.001],[Items.diningRoomTable.id,9e-4],[Items.handheldMirror.id,.009],[Items.kitchenKnife.id,.006],[Items.kitchenSink.id,.001],[Items.leatherBelt.id,.006],[Items.leatherJacket.id,9e-4],[Items.measuringCup.id,.006],[Items.motorOil.id,.009],[Items.nails.id,.01],[Items.oldShipPart.id,9e-5],[Items.pan.id,.009],[Items.pizzaCutter.id,.009],[Items.sheetmetal.id,.009],[Items.silverCoin.id,.09],[Items.spatula.id,.009],[Items.tableLeg.id,.009],[Items.teaKettle.id,.009],[Items.telescope.id,.009],[Items.television.id,.009],[Items.tinyStone.id,.09],[Items.tire.id,.009],[Items.urinal.id,9e-4],[Items.waterBackpack.id,.009],[Items.waterBottle.id,.09],[Items.webcam.id,9e-4]]),addTable(1500,"npcGenericLoot",[[Items.copperBar.id,.5]]),define("data/loot",function(){}),Planets={},exports.planets=Planets,addPlanet(1,"earth","Earth",{gravity:1,oxygen:!0,baseMultiplier:1,distance:0,background:"assets/images/earth.png",gatherLootTableId:LootTables.earthAtmosphere.id,miningLootTableId:LootTables.earthMining.id,scavengeLootTableId:LootTables.earthScavengeRes.id}),addPlanet(2,"moon","Moon",{gravity:.166,oxygen:!1,baseMultiplier:1,distance:1e4,background:"assets/images/moon.png",gatherLootTableId:LootTables.moonAtmosphere.id,miningLootTableId:LootTables.moonMinerals.id}),addPlanet(3,"mercury","Mercury",{background:"assets/images/mercury.png",gravity:.378,oxygen:!1,baseMultiplier:1,distance:12e3,gatherLootTableId:LootTables.mercuryAtmosphere.id,miningLootTableId:LootTables.mercuryMinerals.id}),addPlanet(4,"venus","Venus",{background:"assets/images/venus.png",gravity:.907,oxygen:!1,baseMultiplier:1,distance:23e3,gatherLootTableId:LootTables.venusAtmosphere.id,miningLootTableId:LootTables.venusMinerals.id}),addPlanet(5,"mars","Mars",{background:"assets/images/mars.png",gravity:.713,oxygen:!1,baseMultiplier:1,distance:29e3,gatherLootTableId:LootTables.marsAtmosphere.id,miningLootTableId:LootTables.marsMinerals.id}),addPlanet(6,"jupiter","Jupiter",{background:"assets/images/jupiter.png",gravity:2.36,oxygen:!1,baseMultiplier:1,distance:35e3,gatherLootTableId:LootTables.jupiterAtmosphere.id}),addPlanet(7,"saturn","Saturn",{background:"assets/images/saturn.png",gravity:.916,oxygen:!1,baseMultiplier:1,distance:46e3,gatherLootTableId:LootTables.saturnAtmosphere.id}),addPlanet(8,"uranus","Uranus",{background:"assets/images/uranus.png",gravity:.23,oxygen:!1,baseMultiplier:1,distance:52e3}),addPlanet(9,"neptune","Neptune",{background:"assets/images/neptune.png",gravity:.297,oxygen:!1,baseMultiplier:1,distance:58e3,background:"assets/images/neptune.png",gatherLootTableId:LootTables.neptuneAtmosphere.id}),addPlanet(10,"pluto","Pluto",{background:"assets/images/pluto.png",gravity:.059,oxygen:!1,baseMultiplier:1,distance:72e3,gatherLootTableId:LootTables.plutoAtmosphere.id}),define("data/planets",function(){}),Actors={policeMan:{id:"policeMan",name:"Police Man",category:"enemy",description:"An angry policeman",attackType:"hit",attackText:" whacks you with a ",weaponName:"baton",strength:1,accuracy:2,defense:1,evasion:1,attackSpeed:1,shipSpeed:1,health:1,miningLuck:1,scavengeluck:1,lootluck:1,counter:1,regeneration:1,resillience:1,perception:1,healChance:.4,xpGain:100,lootTable:"npcGenericLoot",winText:"Protect and Serve!",loseText:"Calling for backup!"},thug:{id:"thug",name:"A thug",category:"enemy",description:"An angry thug",attackType:"hit",attackText:" slaps you with a ",weaponName:"blackjack",strength:2,accuracy:2,defense:1,evasion:1,attackSpeed:1,shipSpeed:1,health:1,miningLuck:1,scavengeluck:1,lootluck:1,counter:1,regeneration:1,resillience:1,perception:1,healChance:.1,xpGain:100,lootTable:"npcGenericLoot",winText:"SUCKA!",loseText:"AWW SHIT!"}},define("data/actors",function(){}),define("gameminer",function(){}),define("gamestorage",function(){}),define("uicomponent",function(){}),!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");
return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(a,b){function s(e){var t=e.length,r=n.type(e);return"function"===r||n.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===r||0===t||"number"==typeof t&&t>0&&t-1 in e}function x(e,t,r){if(n.isFunction(t))return n.grep(e,function(e,n){return!!t.call(e,n,e)!==r});if(t.nodeType)return n.grep(e,function(e){return e===t!==r});if("string"==typeof t){if(w.test(t))return n.filter(t,e,r);t=n.filter(t,e)}return n.grep(e,function(e){return g.call(t,e)>=0!==r})}function D(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function G(e){var t=F[e]={};return n.each(e.match(E)||[],function(e,n){t[n]=!0}),t}function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+Math.random()}function P(e,t,r){var i;if(void 0===r&&1===e.nodeType)if(i="data-"+t.replace(O,"-$1").toLowerCase(),r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:N.test(r)?n.parseJSON(r):r}catch(s){}M.set(e,t,r)}else r=void 0;return r}function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(e){}}function jb(e,t){return n.nodeName(e,"table")&&n.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function kb(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function lb(e){var t=gb.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function mb(e,t){for(var n=0,r=e.length;r>n;n++)L.set(e[n],"globalEval",!t||L.get(t[n],"globalEval"))}function nb(e,t){var r,i,s,o,u,a,f,l;if(1===t.nodeType){if(L.hasData(e)&&(o=L.access(e),u=L.set(t,o),l=o.events)){delete u.handle,u.events={};for(s in l)for(r=0,i=l[s].length;i>r;r++)n.event.add(t,s,l[s][r])}M.hasData(e)&&(a=M.access(e),f=n.extend({},a),M.set(t,f))}}function ob(e,t){var r=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&n.nodeName(e,t)?n.merge([e],r):r}function pb(e,t){var n=t.nodeName.toLowerCase();"input"===n&&T.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function sb(e,t){var r,i=n(t.createElement(e)).appendTo(t.body),s=a.getDefaultComputedStyle&&(r=a.getDefaultComputedStyle(i[0]))?r.display:n.css(i[0],"display");return i.detach(),s}function tb(e){var t=l,r=rb[e];return r||(r=sb(e,t),"none"!==r&&r||(qb=(qb||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=qb[0].contentDocument,t.write(),t.close(),r=sb(e,t),qb.detach()),rb[e]=r),r}function xb(e,t,r){var i,s,o,u,a=e.style;return r=r||wb(e),r&&(u=r.getPropertyValue(t)||r[t]),r&&(""!==u||n.contains(e.ownerDocument,e)||(u=n.style(e,t)),vb.test(u)&&ub.test(t)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=u,u=r.width,a.width=i,a.minWidth=s,a.maxWidth=o)),void 0!==u?u+"":u}function yb(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function Fb(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Eb.length;i--;)if(t=Eb[i]+n,t in e)return t;return r}function Gb(e,t,n){var r=Ab.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Hb(e,t,r,i,s){for(var o=r===(i?"border":"content")?4:"width"===t?1:0,u=0;4>o;o+=2)"margin"===r&&(u+=n.css(e,r+R[o],!0,s)),i?("content"===r&&(u-=n.css(e,"padding"+R[o],!0,s)),"margin"!==r&&(u-=n.css(e,"border"+R[o]+"Width",!0,s))):(u+=n.css(e,"padding"+R[o],!0,s),"padding"!==r&&(u+=n.css(e,"border"+R[o]+"Width",!0,s)));return u}function Ib(e,t,r){var i=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=wb(e),u="border-box"===n.css(e,"boxSizing",!1,o);if(0>=s||null==s){if(s=xb(e,t,o),(0>s||null==s)&&(s=e.style[t]),vb.test(s))return s;i=u&&(k.boxSizingReliable()||s===e.style[t]),s=parseFloat(s)||0}return s+Hb(e,t,r||(u?"border":"content"),i,o)+"px"}function Jb(e,t){for(var r,i,s,o=[],u=0,a=e.length;a>u;u++)i=e[u],i.style&&(o[u]=L.get(i,"olddisplay"),r=i.style.display,t?(o[u]||"none"!==r||(i.style.display=""),""===i.style.display&&S(i)&&(o[u]=L.access(i,"olddisplay",tb(i.nodeName)))):(s=S(i),"none"===r&&s||L.set(i,"olddisplay",s?r:n.css(i,"display"))));for(u=0;a>u;u++)i=e[u],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[u]||"":"none"));return e}function Kb(e,t,n,r,i){return new Kb.prototype.init(e,t,n,r,i)}function Sb(){return setTimeout(function(){Lb=void 0}),Lb=n.now()}function Tb(e,t){var n,r=0,i={height:e};for(t=t?1:0;4>r;r+=2-t)n=R[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ub(e,t,n){for(var r,i=(Rb[t]||[]).concat(Rb["*"]),s=0,o=i.length;o>s;s++)if(r=i[s].call(n,t,e))return r}function Vb(e,t,r){var i,s,o,u,a,f,l,c,h=this,p={},d=e.style,v=e.nodeType&&S(e),m=L.get(e,"fxshow");r.queue||(a=n._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,f=a.empty.fire,a.empty.fire=function(){a.unqueued||f()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,n.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(r.overflow=[d.overflow,d.overflowX,d.overflowY],l=n.css(e,"display"),c="none"===l?L.get(e,"olddisplay")||tb(e.nodeName):l,"inline"===c&&"none"===n.css(e,"float")&&(d.display="inline-block")),r.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=r.overflow[0],d.overflowX=r.overflow[1],d.overflowY=r.overflow[2]}));for(i in t)if(s=t[i],Nb.exec(s)){if(delete t[i],o=o||"toggle"===s,s===(v?"hide":"show")){if("show"!==s||!m||void 0===m[i])continue;v=!0}p[i]=m&&m[i]||n.style(e,i)}else l=void 0;if(n.isEmptyObject(p))"inline"===("none"===l?tb(e.nodeName):l)&&(d.display=l);else{m?"hidden"in m&&(v=m.hidden):m=L.access(e,"fxshow",{}),o&&(m.hidden=!v),v?n(e).show():h.done(function(){n(e).hide()}),h.done(function(){var t;L.remove(e,"fxshow");for(t in p)n.style(e,t,p[t])});for(i in p)u=Ub(v?m[i]:0,i,h),i in m||(m[i]=u.start,v&&(u.end=u.start,u.start="width"===i||"height"===i?1:0))}}function Wb(e,t){var r,i,s,o,u;for(r in e)if(i=n.camelCase(r),s=t[i],o=e[r],n.isArray(o)&&(s=o[1],o=e[r]=o[0]),r!==i&&(e[i]=o,delete e[r]),u=n.cssHooks[i],u&&"expand"in u){o=u.expand(o),delete e[i];for(r in o)r in e||(e[r]=o[r],t[r]=s)}else t[i]=s}function Xb(e,t,r){var i,s,o=0,u=Qb.length,a=n.Deferred().always(function(){delete f.elem}),f=function(){if(s)return!1;for(var t=Lb||Sb(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,i=1-r,o=0,u=l.tweens.length;u>o;o++)l.tweens[o].run(i);return a.notifyWith(e,[l,i,n]),1>i&&u?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:n.extend({},t),opts:n.extend(!0,{specialEasing:{}},r),originalProperties:t,originalOptions:r,startTime:Lb||Sb(),duration:r.duration,tweens:[],createTween:function(t,r){var i=n.Tween(e,l.opts,t,r,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(i),i},stop:function(t){var n=0,r=t?l.tweens.length:0;if(s)return this;for(s=!0;r>n;n++)l.tweens[n].run(1);return t?a.resolveWith(e,[l,t]):a.rejectWith(e,[l,t]),this}}),c=l.props;for(Wb(c,l.opts.specialEasing);u>o;o++)if(i=Qb[o].call(l,e,c,l.opts))return i;return n.map(c,Ub,l),n.isFunction(l.opts.start)&&l.opts.start.call(e,l),n.fx.timer(n.extend(f,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function rc(e){return function(t,r){"string"!=typeof t&&(r=t,t="*");var i,s=0,o=t.toLowerCase().match(E)||[];if(n.isFunction(r))for(;i=o[s++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(r)):(e[i]=e[i]||[]).push(r)}}function sc(e,t,r,i){function u(l){var h;return s[l]=!0,n.each(e[l]||[],function(e,n){var a=n(t,r,i);return"string"!=typeof a||o||s[a]?o?!(h=a):void 0:(t.dataTypes.unshift(a),u(a),!1)}),h}var s={},o=e===oc;return u(t.dataTypes[0])||!s["*"]&&u("*")}function tc(e,t){var r,i,s=n.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((s[r]?e:i||(i={}))[r]=t[r]);return i&&n.extend(!0,e,i),e}function uc(e,t,n){for(var r,i,s,o,u=e.contents,a=e.dataTypes;"*"===a[0];)a.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}return s?(s!==a[0]&&a.unshift(s),n[s]):void 0}function vc(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];for(s=l.shift();s;)if(e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift())if("*"===s)s=a;else if("*"!==a&&a!==s){if(o=f[a+" "+s]||f["* "+s],!o)for(i in f)if(u=i.split(" "),u[1]===s&&(o=f[a+" "+u[0]]||f["* "+u[0]])){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}return{state:"success",data:t}}function Bc(e,t,r,i){var s;if(n.isArray(t))n.each(t,function(t,n){r||xc.test(e)?i(e,n):Bc(e+"["+("object"==typeof n?t:"")+"]",n,r,i)});else if(r||"object"!==n.type(t))i(e,t);else for(s in t)Bc(e+"["+s+"]",t[s],r,i)}function Kc(e){return n.isWindow(e)?e:9===e.nodeType&&e.defaultView}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.1",n=function(e,t){return new n.fn.init(e,t)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(e,t){return t.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:d.call(this)},pushStack:function(e){var t=n.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return n.each(this,e,t)},map:function(e){return this.pushStack(n.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var e,t,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;for("boolean"==typeof u&&(l=u,u=arguments[a]||{},a++),"object"==typeof u||n.isFunction(u)||(u={}),a===f&&(u=this,a--);f>a;a++)if(null!=(e=arguments[a]))for(t in e)r=u[t],i=e[t],u!==i&&(l&&i&&(n.isPlainObject(i)||(s=n.isArray(i)))?(s?(s=!1,o=r&&n.isArray(r)?r:[]):o=r&&n.isPlainObject(r)?r:{},u[t]=n.extend(l,o,i)):void 0!==i&&(u[t]=i));return u},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===n.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!n.isArray(e)&&e-parseFloat(e)>=0},isPlainObject:function(e){return"object"!==n.type(e)||e.nodeType||n.isWindow(e)?!1:e.constructor&&!j.call(e.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[i.call(e)]||"object":typeof e},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(e){return e.replace(p,"ms-").replace(q,r)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,u=s(e);if(n){if(u)for(;o>i&&(r=t.apply(e[i],n),r!==!1);i++);else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(u)for(;o>i&&(r=t.call(e[i],i,e[i]),r!==!1);i++);else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(o,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(s(Object(e))?n.merge(r,"string"==typeof e?[e]:e):f.call(r,e)),r},inArray:function(e,t,n){return null==t?-1:g.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;n>r;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],s=0,o=e.length,u=!n;o>s;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(t,n,r){var i,o=0,u=t.length,a=s(t),f=[];if(a)for(;u>o;o++)i=n(t[o],o,r),null!=i&&f.push(i);else for(o in t)i=n(t[o],o,r),null!=i&&f.push(i);return e.apply([],f)},guid:1,proxy:function(e,t){var r,i,s;return"string"==typeof t&&(r=e[t],t=e,e=r),n.isFunction(e)?(i=d.call(arguments,2),s=function(){return e.apply(t||this,i.concat(d.call(arguments)))},s.guid=e.guid=e.guid||n.guid++,s):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var t=function(e){function st(e,t,r,i){var s,u,f,l,c,d,g,y,S,x;if((t?t.ownerDocument||t:E)!==p&&h(t),t=t||p,r=r||[],!e||"string"!=typeof e)return r;if(1!==(l=t.nodeType)&&9!==l)return[];if(v&&!i){if(s=Z.exec(e))if(f=s[1]){if(9===l){if(u=t.getElementById(f),!u||!u.parentNode)return r;if(u.id===f)return r.push(u),r}else if(t.ownerDocument&&(u=t.ownerDocument.getElementById(f))&&b(t,u)&&u.id===f)return r.push(u),r}else{if(s[2])return P.apply(r,t.getElementsByTagName(e)),r;if((f=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return P.apply(r,t.getElementsByClassName(f)),r}if(n.qsa&&(!m||!m.test(e))){if(y=g=w,S=t,x=9===l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){for(d=o(e),(g=t.getAttribute("id"))?y=g.replace(tt,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",c=d.length;c--;)d[c]=y+mt(d[c]);S=et.test(e)&&dt(t.parentNode)||t,x=d.join(",")}if(x)try{return P.apply(r,S.querySelectorAll(x)),r}catch(T){}finally{g||t.removeAttribute("id")}}}return a(e.replace(z,"$1"),t,r,i)}function ot(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function ut(e){return e[w]=!0,e}function at(e){var t=p.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ft(e,t){for(var n=e.split("|"),i=e.length;i--;)r.attrHandle[n[i]]=t}function lt(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||A)-(~e.sourceIndex||A);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ht(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ut(function(t){return t=+t,ut(function(n,r){for(var i,s=e([],n.length,t),o=s.length;o--;)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function dt(e){return e&&typeof e.getElementsByTagName!==L&&e}function vt(){}function mt(e){for(var t=0,n=e.length,r="";n>t;t++)r+=e[t].value;return r}function gt(e,t,n){var r=t.dir,i=n&&"parentNode"===r,s=x++;return t.first?function(t,n,s){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[S,s];if(o){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if(a=t[w]||(t[w]={}),(u=a[r])&&u[0]===S&&u[1]===s)return f[2]=u[2];if(a[r]=f,f[2]=e(t,n,o))return!0}}}function yt(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function bt(e,t,n){for(var r=0,i=t.length;i>r;r++)st(e,t[r],n);return n}function wt(e,t,n,r,i){for(var s,o=[],u=0,a=e.length,f=null!=t;a>u;u++)(s=e[u])&&(!n||n(s,r,i))&&(o.push(s),f&&t.push(u));return o}function Et(e,t,n,r,i,s){return r&&!r[w]&&(r=Et(r)),i&&!i[w]&&(i=Et(i,s)),ut(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||bt(t||"*",u.nodeType?[u]:u,[]),m=!e||!s&&t?v:wt(v,h,e,u,a),g=n?i||(s?e:d||r)?[]:o:m;if(n&&n(m,g,u,a),r)for(f=wt(g,p),r(f,[],u,a),l=f.length;l--;)(c=f[l])&&(g[p[l]]=!(m[p[l]]=c));if(s){if(i||e){if(i){for(f=[],l=g.length;l--;)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}for(l=g.length;l--;)(c=g[l])&&(f=i?B.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=wt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):P.apply(o,g)})}function St(e){for(var t,n,i,s=e.length,o=r.relative[e[0].type],u=o||r.relative[" "],a=o?1:0,l=gt(function(e){return e===t},u,!0),c=gt(function(e){return B.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==f)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];s>a;a++)if(n=r.relative[e[a].type])h=[gt(yt(h),n)];else{if(n=r.filter[e[a].type].apply(null,e[a].matches),n[w]){for(i=++a;s>i&&!r.relative[e[i].type];i++);return Et(a>1&&yt(h),a>1&&mt(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(z,"$1"),n,i>a&&St(e.slice(a,i)),s>i&&St(e=e.slice(i)),s>i&&mt(e))}h.push(n)}return yt(h)}function xt(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,u,a,l){var c,h,d,v=0,m="0",g=s&&[],y=[],b=f,w=s||i&&r.find.TAG("*",l),E=S+=null==b?1:Math.random()||.1,x=w.length;for(l&&(f=o!==p&&o);m!==x&&null!=(c=w[m]);m++){if(i&&c){for(h=0;d=e[h++];)if(d(c,o,u)){a.push(c);break}l&&(S=E)}n&&((c=!d&&c)&&v--,s&&g.push(c))}if(v+=m,n&&m!==v){for(h=0;d=t[h++];)d(g,y,o,u);if(s){if(v>0)for(;m--;)g[m]||y[m]||(y[m]=_.call(a));y=wt(y)}P.apply(a,y),l&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(a)}return l&&(S=E,f=b),g};return n?ut(s):s}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w="sizzle"+-new Date,E=e.document,S=0,x=0,T=ot(),N=ot(),C=ot(),k=function(e,t){return e===t&&(c=!0),0},L="undefined",A=1<<31,O={}.hasOwnProperty,M=[],_=M.pop,D=M.push,P=M.push,H=M.slice,B=M.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",F="[\\x20\\t\\r\\n\\f]",I="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q=I.replace("w","w#"),R="\\["+F+"*("+I+")(?:"+F+"*([*^$|!~]?=)"+F+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+F+"*\\]",U=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+R+")*)|.*)\\)|)",z=new RegExp("^"+F+"+|((?:^|[^\\\\])(?:\\\\.)*)"+F+"+$","g"),W=new RegExp("^"+F+"*,"+F+"*"),X=new RegExp("^"+F+"*([>+~]|"+F+")"+F+"*"),V=new RegExp("="+F+"*([^\\]'\"]*?)"+F+"*\\]","g"),$=new RegExp(U),J=new RegExp("^"+q+"$"),K={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I.replace("w","w*")+")"),ATTR:new RegExp("^"+R),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+F+"*(even|odd|(([+-]|)(\\d*)n|)"+F+"*(?:([+-]|)"+F+"*(\\d+)|))"+F+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+F+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+F+"*((?:-\\d)?\\d*)"+F+"*\\)|)(?=[^-]|$)","i")},Q=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,et=/[+~]/,tt=/'|\\/g,nt=new RegExp("\\\\([\\da-f]{1,6}"+F+"?|("+F+")|.)","ig"),rt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{P.apply(M=H.call(E.childNodes),E.childNodes),M[E.childNodes.length].nodeType}catch(it){P={apply:M.length?function(e,t){D.apply(e,H.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}n=st.support={},s=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},h=st.setDocument=function(e){var t,i=e?e.ownerDocument||e:E,o=i.defaultView;return i!==p&&9===i.nodeType&&i.documentElement?(p=i,d=i.documentElement,v=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){h()},!1):o.attachEvent&&o.attachEvent("onunload",function(){h()})),n.attributes=at(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=at(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(i.getElementsByClassName)&&at(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),n.getById=at(function(e){return d.appendChild(e).id=w,!i.getElementsByName||!i.getElementsByName(w).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==L&&v){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(nt,rt);return function(e){var n=typeof e.getAttributeNode!==L&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==L?t.getElementsByTagName(e):void 0}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if("*"===e){for(;n=s[i++];)1===n.nodeType&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==L&&v?t.getElementsByClassName(e):void 0},g=[],m=[],(n.qsa=Y.test(i.querySelectorAll))&&(at(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&m.push("[*^$]="+F+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+F+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||m.push(":checked")}),at(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+F+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=Y.test(y=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&at(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),g.push("!=",U)}),m=m.length&&new RegExp(m.join("|")),g=g.length&&new RegExp(g.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},k=t?function(e,t){if(e===t)return c=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&r||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===E&&b(E,e)?-1:t===i||t.ownerDocument===E&&b(E,t)?1:l?B.call(l,e)-B.call(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return c=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],a=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:l?B.call(l,e)-B.call(l,t):0;if(s===o)return lt(e,t);for(n=e;n=n.parentNode;)u.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;u[r]===a[r];)r++;return r?lt(u[r],a[r]):u[r]===E?-1:a[r]===E?1:0},i):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']"),!(!n.matchesSelector||!v||g&&g.test(t)||m&&m.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),b(e,t)},st.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var i=r.attrHandle[t.toLowerCase()],s=i&&O.call(r.attrHandle,t.toLowerCase())?i(e,t,!v):void 0;return void 0!==s?s:n.attributes||!v?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},st.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},st.uniqueSort=function(e){var t,r=[],i=0,s=0;if(c=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(k),c){for(;t=e[s++];)t===e[s]&&(i=r.push(s));for(;i--;)e.splice(r[i],1)}return l=null,e},i=st.getText=function(e){var t,n="",r=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},r=st.selectors={cacheLength:50,createPseudo:ut,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(nt,rt),e[3]=(e[3]||e[4]||e[5]||"").replace(nt,rt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(nt,rt).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+F+")"+e+"("+F+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==L&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s="nth"!==e.slice(0,3),o="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),y=!a&&!u;if(m){if(s){for(;v;){for(c=t;c=c[v];)if(u?c.nodeName.toLowerCase()===g:1===c.nodeType)return!1;d=v="only"===e&&!d&&"nextSibling"}return!0}if(d=[o?m.firstChild:m.lastChild],o&&y){for(l=m[w]||(m[w]={}),f=l[e]||[],p=f[0]===S&&f[1],h=f[0]===S&&f[2],c=p&&m.childNodes[p];c=++p&&c&&c[v]||(h=p=0)||d.pop();)if(1===c.nodeType&&++h&&c===t){l[e]=[S,p,h];break}}else if(y&&(f=(t[w]||(t[w]={}))[e])&&f[0]===S)h=f[1];else for(;(c=++p&&c&&c[v]||(h=p=0)||d.pop())&&((u?c.nodeName.toLowerCase()!==g:1!==c.nodeType)||!++h||(y&&((c[w]||(c[w]={}))[e]=[S,h]),c!==t)););return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||st.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ut(function(e,n){for(var r,s=i(e,t),o=s.length;o--;)r=B.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:ut(function(e){var t=[],n=[],r=u(e.replace(z,"$1"));return r[w]?ut(function(e,t,n,i){for(var s,o=r(e,null,i,[]),u=e.length;u--;)(s=o[u])&&(e[u]=!(t[u]=s))}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:ut(function(e){return function(t){return st(e,t).length>0}}),contains:ut(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:ut(function(e){return J.test(e||"")||st.error("unsupported lang: "+e),e=e.replace(nt,rt).toLowerCase(),function(t){var n;do if(n=v?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:pt(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){for(var r=0>n?n+t:n;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){for(var r=0>n?n+t:n;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ct(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=ht(t);return vt.prototype=r.filters=r.pseudos,r.setFilters=new vt,o=st.tokenize=function(e,t){var n,i,s,o,u,a,f,l=N[e+" "];if(l)return t?0:l.slice(0);for(u=e,a=[],f=r.preFilter;u;){(!n||(i=W.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),a.push(s=[])),n=!1,(i=X.exec(u))&&(n=i.shift(),s.push({value:n,type:i[0].replace(z," ")}),u=u.slice(n.length));for(o in r.filter)!(i=K[o].exec(u))||f[o]&&!(i=f[o](i))||(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?st.error(e):N(e,a).slice(0)},u=st.compile=function(e,t){var n,r=[],i=[],s=C[e+" "];if(!s){for(t||(t=o(e)),n=t.length;n--;)s=St(t[n]),s[w]?r.push(s):i.push(s);s=C(e,xt(i,r)),s.selector=e}return s},a=st.select=function(e,t,i,s){var a,f,l,c,h,p="function"==typeof e&&e,d=!s&&o(e=p.selector||e);if(i=i||[],1===d.length){if(f=d[0]=d[0].slice(0),f.length>2&&"ID"===(l=f[0]).type&&n.getById&&9===t.nodeType&&v&&r.relative[f[1].type]){if(t=(r.find.ID(l.matches[0].replace(nt,rt),t)||[])[0],!t)return i;p&&(t=t.parentNode),e=e.slice(f.shift().value.length)}for(a=K.needsContext.test(e)?0:f.length;a--&&(l=f[a],!r.relative[c=l.type]);)if((h=r.find[c])&&(s=h(l.matches[0].replace(nt,rt),et.test(f[0].type)&&dt(t.parentNode)||t))){if(f.splice(a,1),e=s.length&&mt(f),!e)return P.apply(i,s),i;break}}return(p||u(e,d))(s,t,!v,i,et.test(e)&&dt(t.parentNode)||t),i},n.sortStable=w.split("").sort(k).join("")===w,n.detectDuplicates=!!c,h(),n.sortDetached=at(function(e){return 1&e.compareDocumentPosition(p.createElement("div"))}),at(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ft("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&at(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ft("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),at(function(e){return null==e.getAttribute("disabled")})||ft(j,function(e,t,n){var r;return n?void 0:e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),st}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(e,t,r){var i=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?n.find.matchesSelector(i,e)?[i]:[]:n.find.matches(e,n.grep(t,function(e){return 1===e.nodeType}))},n.fn.extend({find:function(e){var t,r=this.length,i=[],s=this;if("string"!=typeof e)return this.pushStack(n(e).filter(function(){for(t=0;r>t;t++)if(n.contains(s[t],this))return!0}));for(t=0;r>t;t++)n.find(e,s[t],i);return i=this.pushStack(r>1?n.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i
},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&u.test(e)?n(e):e||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(e,t){var r,i;if(!e)return this;if("string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:z.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||y).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof n?t[0]:t,n.merge(this,n.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:l,!0)),v.test(r[1])&&n.isPlainObject(t))for(r in t)n.isFunction(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=l.getElementById(r[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=l,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):n.isFunction(e)?"undefined"!=typeof y.ready?y.ready(e):e(n):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),n.makeArray(e,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(e,t,r){for(var i=[],s=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&n(e).is(r))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),n.fn.extend({has:function(e){var t=n(e,this),r=t.length;return this.filter(function(){for(var e=0;r>e;e++)if(n.contains(this,t[e]))return!0})},closest:function(e,t){for(var r,i=0,s=this.length,o=[],a=u.test(e)||"string"!=typeof e?n(e,t||this.context):0;s>i;i++)for(r=this[i];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(a?a.index(r)>-1:1===r.nodeType&&n.find.matchesSelector(r,e))){o.push(r);break}return this.pushStack(o.length>1?n.unique(o):o)},index:function(e){return e?"string"==typeof e?g.call(n(e),this[0]):g.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(n.unique(n.merge(this.get(),n(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),n.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return n.dir(e,"parentNode")},parentsUntil:function(e,t,r){return n.dir(e,"parentNode",r)},next:function(e){return D(e,"nextSibling")},prev:function(e){return D(e,"previousSibling")},nextAll:function(e){return n.dir(e,"nextSibling")},prevAll:function(e){return n.dir(e,"previousSibling")},nextUntil:function(e,t,r){return n.dir(e,"nextSibling",r)},prevUntil:function(e,t,r){return n.dir(e,"previousSibling",r)},siblings:function(e){return n.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return n.sibling(e.firstChild)},contents:function(e){return e.contentDocument||n.merge([],e.childNodes)}},function(e,t){n.fn[e]=function(r,i){var s=n.map(this,t,r);return"Until"!==e.slice(-5)&&(i=r),i&&"string"==typeof i&&(s=n.filter(i,s)),this.length>1&&(C[e]||n.unique(s),B.test(e)&&s.reverse()),this.pushStack(s)}});var E=/\S+/g,F={};n.Callbacks=function(e){e="string"==typeof e?F[e]||G(e):n.extend({},e);var t,r,i,s,o,u,a=[],f=!e.once&&[],l=function(n){for(t=e.memory&&n,r=!0,u=s||0,s=0,o=a.length,i=!0;a&&o>u;u++)if(a[u].apply(n[0],n[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):t?a=[]:c.disable())},c={add:function(){if(a){var r=a.length;!function u(t){n.each(t,function(t,r){var i=n.type(r);"function"===i?e.unique&&c.has(r)||a.push(r):r&&r.length&&"string"!==i&&u(r)})}(arguments),i?o=a.length:t&&(s=r,l(t))}return this},remove:function(){return a&&n.each(arguments,function(e,t){for(var r;(r=n.inArray(t,a,r))>-1;)a.splice(r,1),i&&(o>=r&&o--,u>=r&&u--)}),this},has:function(e){return e?n.inArray(e,a)>-1:!(!a||!a.length)},empty:function(){return a=[],o=0,this},disable:function(){return a=f=t=void 0,this},disabled:function(){return!a},lock:function(){return f=void 0,t||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return!a||r&&!f||(t=t||[],t=[e,t.slice?t.slice():t],i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},n.extend({Deferred:function(e){var t=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],r="pending",i={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return n.Deferred(function(r){n.each(t,function(t,o){var u=n.isFunction(e[t])&&e[t];s[o[1]](function(){var e=u&&u.apply(this,arguments);e&&n.isFunction(e.promise)?e.promise().done(r.resolve).fail(r.reject).progress(r.notify):r[o[0]+"With"](this===i?r.promise():this,u?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?n.extend(e,i):i}},s={};return i.pipe=i.then,n.each(t,function(e,n){var o=n[2],u=n[3];i[n[1]]=o.add,u&&o.add(function(){r=u},t[1^e][2].disable,t[2][2].lock),s[n[0]]=function(){return s[n[0]+"With"](this===s?i:this,arguments),this},s[n[0]+"With"]=o.fireWith}),i.promise(s),e&&e.call(s,s),s},when:function(e){var a,f,l,t=0,r=d.call(arguments),i=r.length,s=1!==i||e&&n.isFunction(e.promise)?i:0,o=1===s?e:n.Deferred(),u=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?d.call(arguments):r,n===a?o.notifyWith(t,n):--s||o.resolveWith(t,n)}};if(i>1)for(a=new Array(i),f=new Array(i),l=new Array(i);i>t;t++)r[t]&&n.isFunction(r[t].promise)?r[t].promise().done(u(t,l,r)).fail(o.reject).progress(u(t,f,a)):--s;return s||o.resolveWith(l,r),o.promise()}});var H;n.fn.ready=function(e){return n.ready.promise().done(e),this},n.extend({isReady:!1,readyWait:1,holdReady:function(e){e?n.readyWait++:n.ready(!0)},ready:function(e){(e===!0?--n.readyWait:n.isReady)||(n.isReady=!0,e!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}}),n.ready.promise=function(e){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(e)},n.ready.promise();var J=n.access=function(e,t,r,i,s,o,u){var a=0,f=e.length,l=null==r;if("object"===n.type(r)){s=!0;for(a in r)n.access(e,t,a,r[a],!0,o,u)}else if(void 0!==i&&(s=!0,n.isFunction(i)||(u=!0),l&&(u?(t.call(e,i),t=null):(l=t,t=function(e,t,r){return l.call(n(e),r)})),t))for(;f>a;a++)t(e[a],r,u?i:i.call(e[a],a,t(e[a],r)));return s?e:l?t.call(e):f?t(e[0],r):o};n.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(e){if(!K.accepts(e))return 0;var t={},r=e[this.expando];if(!r){r=K.uid++;try{t[this.expando]={value:r},Object.defineProperties(e,t)}catch(i){t[this.expando]=r,n.extend(e,t)}}return this.cache[r]||(this.cache[r]={}),r},set:function(e,t,r){var i,s=this.key(e),o=this.cache[s];if("string"==typeof t)o[t]=r;else if(n.isEmptyObject(o))n.extend(this.cache[s],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,r){var i;return void 0===t||t&&"string"==typeof t&&void 0===r?(i=this.get(e,t),void 0!==i?i:this.get(e,n.camelCase(t))):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,i,s,o=this.key(e),u=this.cache[o];if(void 0===t)this.cache[o]={};else{n.isArray(t)?i=t.concat(t.map(n.camelCase)):(s=n.camelCase(t),t in u?i=[t,s]:(i=s,i=i in u?[i]:i.match(E)||[])),r=i.length;for(;r--;)delete u[i[r]]}},hasData:function(e){return!n.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({hasData:function(e){return M.hasData(e)||L.hasData(e)},data:function(e,t,n){return M.access(e,t,n)},removeData:function(e,t){M.remove(e,t)},_data:function(e,t,n){return L.access(e,t,n)},_removeData:function(e,t){L.remove(e,t)}}),n.fn.extend({data:function(e,t){var r,i,s,o=this[0],u=o&&o.attributes;if(void 0===e){if(this.length&&(s=M.get(o),1===o.nodeType&&!L.get(o,"hasDataAttrs"))){for(r=u.length;r--;)u[r]&&(i=u[r].name,0===i.indexOf("data-")&&(i=n.camelCase(i.slice(5)),P(o,i,s[i])));L.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){M.set(this,e)}):J(this,function(t){var r,i=n.camelCase(e);if(o&&void 0===t){if(r=M.get(o,e),void 0!==r)return r;if(r=M.get(o,i),void 0!==r)return r;if(r=P(o,i,void 0),void 0!==r)return r}else this.each(function(){var n=M.get(this,i);M.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&M.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){M.remove(this,e)})}}),n.extend({queue:function(e,t,r){var i;return e?(t=(t||"fx")+"queue",i=L.get(e,t),r&&(!i||n.isArray(r)?i=L.access(e,t,n.makeArray(r)):i.push(r)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var r=n.queue(e,t),i=r.length,s=r.shift(),o=n._queueHooks(e,t),u=function(){n.dequeue(e,t)};"inprogress"===s&&(s=r.shift(),i--),s&&("fx"===t&&r.unshift("inprogress"),delete o.stop,s.call(e,u,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return L.get(e,r)||L.access(e,r,{empty:n.Callbacks("once memory").add(function(){L.remove(e,[t+"queue",r])})})}}),n.fn.extend({queue:function(e,t){var r=2;return"string"!=typeof e&&(t=e,e="fx",r--),arguments.length<r?n.queue(this[0],e):void 0===t?this:this.each(function(){var r=n.queue(this,e,t);n._queueHooks(this,e),"fx"===e&&"inprogress"!==r[0]&&n.dequeue(this,e)})},dequeue:function(e){return this.each(function(){n.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var r,i=1,s=n.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";u--;)r=L.get(o[u],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(t)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(e,t){return e=t||e,"none"===n.css(e,"display")||!n.contains(e.ownerDocument,e)},T=/^(?:checkbox|radio)$/i;!function(){var e=l.createDocumentFragment(),t=e.appendChild(l.createElement("div")),n=l.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),k.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=L.get(e);if(g)for(r.handler&&(o=r,r=o.handler,s=o.selector),r.guid||(r.guid=n.guid++),(f=g.events)||(f=g.events={}),(u=g.handle)||(u=g.handle=function(t){return typeof n!==U&&n.event.triggered!==t.type?n.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(E)||[""],l=t.length;l--;)a=Y.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d&&(h=n.event.special[d]||{},d=(s?h.delegateType:h.bindType)||d,h=n.event.special[d]||{},c=n.extend({type:d,origType:m,data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&n.expr.match.needsContext.test(s),namespace:v.join(".")},o),(p=f[d])||(p=f[d]=[],p.delegateCount=0,h.setup&&h.setup.call(e,i,v,u)!==!1||e.addEventListener&&e.addEventListener(d,u,!1)),h.add&&(h.add.call(e,c),c.handler.guid||(c.handler.guid=r.guid)),s?p.splice(p.delegateCount++,0,c):p.push(c),n.event.global[d]=!0)},remove:function(e,t,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g=L.hasData(e)&&L.get(e);if(g&&(f=g.events)){for(t=(t||"").match(E)||[""],l=t.length;l--;)if(a=Y.exec(t[l])||[],d=m=a[1],v=(a[2]||"").split(".").sort(),d){for(h=n.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,p=f[d]||[],a=a[2]&&new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=p.length;o--;)c=p[o],!s&&m!==c.origType||r&&r.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,h.remove&&h.remove.call(e,c));u&&!p.length&&(h.teardown&&h.teardown.call(e,v,g.handle)!==!1||n.removeEvent(e,d,g.handle),delete f[d])}else for(d in f)n.event.remove(e,d+t[l],r,i,!0);n.isEmptyObject(f)&&(delete g.handle,L.remove(e,"events"))}},trigger:function(e,t,r,i){var s,o,u,f,c,h,p,d=[r||l],v=j.call(e,"type")?e.type:e,m=j.call(e,"namespace")?e.namespace.split("."):[];if(o=u=r=r||l,3!==r.nodeType&&8!==r.nodeType&&!X.test(v+n.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,e=e[n.expando]?e:new n.Event(v,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:n.makeArray(t,[e]),p=n.event.special[v]||{},i||!p.trigger||p.trigger.apply(r,t)!==!1)){if(!i&&!p.noBubble&&!n.isWindow(r)){for(f=p.delegateType||v,X.test(f+v)||(o=o.parentNode);o;o=o.parentNode)d.push(o),u=o;u===(r.ownerDocument||l)&&d.push(u.defaultView||u.parentWindow||a)}for(s=0;(o=d[s++])&&!e.isPropagationStopped();)e.type=s>1?f:p.bindType||v,h=(L.get(o,"events")||{})[e.type]&&L.get(o,"handle"),h&&h.apply(o,t),h=c&&o[c],h&&h.apply&&n.acceptData(o)&&(e.result=h.apply(o,t),e.result===!1&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||p._default&&p._default.apply(d.pop(),t)!==!1||!n.acceptData(r)||c&&n.isFunction(r[v])&&!n.isWindow(r)&&(u=r[c],u&&(r[c]=null),n.event.triggered=v,r[v](),n.event.triggered=void 0,u&&(r[c]=u)),e.result}},dispatch:function(e){e=n.event.fix(e);var t,r,i,s,o,u=[],a=d.call(arguments),f=(L.get(this,"events")||{})[e.type]||[],l=n.event.special[e.type]||{};if(a[0]=e,e.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,e)!==!1){for(u=n.event.handlers.call(this,e,f),t=0;(s=u[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,r=0;(o=s.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((n.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,a),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var r,i,s,o,u=[],a=t.delegateCount,f=e.target;if(a&&f.nodeType&&(!e.button||"click"!==e.type))for(;f!==this;f=f.parentNode||this)if(f.disabled!==!0||"click"!==e.type){for(i=[],r=0;a>r;r++)o=t[r],s=o.selector+" ",void 0===i[s]&&(i[s]=o.needsContext?n(s,this).index(f)>=0:n.find(s,this,null,[f]).length),i[s]&&i.push(o);i.length&&u.push({elem:f,handlers:i})}return a<t.length&&u.push({elem:this,handlers:t.slice(a)}),u},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||l,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[n.expando])return e;var t,r,i,s=e.type,o=e,u=this.fixHooks[s];for(u||(this.fixHooks[s]=u=W.test(s)?this.mouseHooks:V.test(s)?this.keyHooks:{}),i=u.props?this.props.concat(u.props):this.props,e=new n.Event(o),t=i.length;t--;)r=i[t],e[r]=o[r];return e.target||(e.target=l),3===e.target.nodeType&&(e.target=e.target.parentNode),u.filter?u.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return n.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,r,i){var s=n.extend(new n.Event,r,{type:e,isSimulated:!0,originalEvent:{}});i?n.event.trigger(s,null,t):n.event.dispatch.call(t,s),s.isDefaultPrevented()&&r.preventDefault()}},n.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},n.Event=function(e,t){return this instanceof n.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?Z:$):this.type=e,t&&n.extend(this,t),this.timeStamp=e&&e.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(e,t)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Z,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Z,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Z,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){n.event.special[e]={delegateType:t,bindType:t,handle:function(e){var r,i=this,s=e.relatedTarget,o=e.handleObj;return(!s||s!==i&&!n.contains(i,s))&&(e.type=o.origType,r=o.handler.apply(this,arguments),e.type=t),r}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(e,t){var r=function(e){n.event.simulate(t,e.target,n.event.fix(e),!0)};n.event.special[t]={setup:function(){var n=this.ownerDocument||this,i=L.access(n,t);i||n.addEventListener(e,r,!0),L.access(n,t,(i||0)+1)},teardown:function(){var n=this.ownerDocument||this,i=L.access(n,t)-1;i?L.access(n,t,i):(n.removeEventListener(e,r,!0),L.remove(n,t))}}}),n.fn.extend({on:function(e,t,r,i,s){var o,u;if("object"==typeof e){"string"!=typeof t&&(r=r||t,t=void 0);for(u in e)this.on(u,t,r,e[u],s);return this}if(null==r&&null==i?(i=t,r=t=void 0):null==i&&("string"==typeof t?(i=r,r=void 0):(i=r,r=t,t=void 0)),i===!1)i=$;else if(!i)return this;return 1===s&&(o=i,i=function(e){return n().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=n.guid++)),this.each(function(){n.event.add(this,e,i,r,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,n(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return(t===!1||"function"==typeof t)&&(r=t,t=void 0),r===!1&&(r=$),this.each(function(){n.event.remove(this,e,r,t)})},trigger:function(e,t){return this.each(function(){n.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];return r?n.event.trigger(e,t,r,!0):void 0}});var ab=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bb=/<([\w:]+)/,cb=/<|&#?\w+;/,db=/<(?:script|style|link)/i,eb=/checked\s*(?:[^=]|=\s*.checked.)/i,fb=/^$|\/(?:java|ecma)script/i,gb=/^true\/(.*)/,hb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ib={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ib.optgroup=ib.option,ib.tbody=ib.tfoot=ib.colgroup=ib.caption=ib.thead,ib.th=ib.td,n.extend({clone:function(e,t,r){var i,s,o,u,a=e.cloneNode(!0),f=n.contains(e.ownerDocument,e);if(!(k.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||n.isXMLDoc(e)))for(u=ob(a),o=ob(e),i=0,s=o.length;s>i;i++)pb(o[i],u[i]);if(t)if(r)for(o=o||ob(e),u=u||ob(a),i=0,s=o.length;s>i;i++)nb(o[i],u[i]);else nb(e,a);return u=ob(a,"script"),u.length>0&&mb(u,!f&&ob(e,"script")),a},buildFragment:function(e,t,r,i){for(var s,o,u,a,f,l,c=t.createDocumentFragment(),h=[],p=0,d=e.length;d>p;p++)if(s=e[p],s||0===s)if("object"===n.type(s))n.merge(h,s.nodeType?[s]:s);else if(cb.test(s)){for(o=o||c.appendChild(t.createElement("div")),u=(bb.exec(s)||["",""])[1].toLowerCase(),a=ib[u]||ib._default,o.innerHTML=a[1]+s.replace(ab,"<$1></$2>")+a[2],l=a[0];l--;)o=o.lastChild;n.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(t.createTextNode(s));for(c.textContent="",p=0;s=h[p++];)if((!i||-1===n.inArray(s,i))&&(f=n.contains(s.ownerDocument,s),o=ob(c.appendChild(s),"script"),f&&mb(o),r))for(l=0;s=o[l++];)fb.test(s.type||"")&&r.push(s);return c},cleanData:function(e){for(var t,r,i,s,o=n.event.special,u=0;void 0!==(r=e[u]);u++){if(n.acceptData(r)&&(s=r[L.expando],s&&(t=L.cache[s]))){if(t.events)for(i in t.events)o[i]?n.event.remove(r,i):n.removeEvent(r,i,t.handle);L.cache[s]&&delete L.cache[s]}delete M.cache[r[M.expando]]}}}),n.fn.extend({text:function(e){return J(this,function(e){return void 0===e?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=jb(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=jb(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var r,i=e?n.filter(e,this):this,s=0;null!=(r=i[s]);s++)t||1!==r.nodeType||n.cleanData(ob(r)),r.parentNode&&(t&&n.contains(r.ownerDocument,r)&&mb(ob(r,"script")),r.parentNode.removeChild(r));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(n.cleanData(ob(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return n.clone(this,e,t)})},html:function(e){return J(this,function(e){var t=this[0]||{},r=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!db.test(e)&&!ib[(bb.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ab,"<$1></$2>");try{for(;i>r;r++)t=this[r]||{},1===t.nodeType&&(n.cleanData(ob(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,n.cleanData(ob(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(t,r){t=e.apply([],t);var i,s,o,u,a,f,l=0,c=this.length,h=this,p=c-1,d=t[0],v=n.isFunction(d);if(v||c>1&&"string"==typeof d&&!k.checkClone&&eb.test(d))return this.each(function(e){var n=h.eq(e);v&&(t[0]=d.call(this,e,n.html())),n.domManip(t,r)});if(c&&(i=n.buildFragment(t,this[0].ownerDocument,!1,this),s=i.firstChild,1===i.childNodes.length&&(i=s),s)){for(o=n.map(ob(i,"script"),kb),u=o.length;c>l;l++)a=i,l!==p&&(a=n.clone(a,!0,!0),u&&n.merge(o,ob(a,"script"))),r.call(this[l],a,l);if(u)for(f=o[o.length-1].ownerDocument,n.map(o,lb),l=0;u>l;l++)a=o[l],fb.test(a.type||"")&&!L.access(a,"globalEval")&&n.contains(f,a)&&(a.src?n._evalUrl&&n._evalUrl(a.src):n.globalEval(a.textContent.replace(hb,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){n.fn[e]=function(e){for(var r,i=[],s=n(e),o=s.length-1,u=0;o>=u;u++)r=u===o?this:this.clone(!0),n(s[u])[t](r),f.apply(i,r.get());return this.pushStack(i)}});var qb,rb={},ub=/^margin/,vb=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wb=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};!function(){function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(i);var n=a.getComputedStyle(s,null);e="1%"!==n.top,t="4px"===n.width,r.removeChild(i)}var e,t,r=l.documentElement,i=l.createElement("div"),s=l.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===s.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(s),a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return null==t&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(l.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(i),e=!parseFloat(a.getComputedStyle(t,null).marginRight),r.removeChild(i),e}}))}(),n.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var zb=/^(none|table(?!-c[ea]).+)/,Ab=new RegExp("^("+Q+")(.*)$","i"),Bb=new RegExp("^([+-])=("+Q+")","i"),Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:"0",fontWeight:"400"},Eb=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=xb(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,u,a=n.camelCase(t),f=e.style;return t=n.cssProps[a]||(n.cssProps[a]=Fb(f,a)),u=n.cssHooks[t]||n.cssHooks[a],void 0===r?u&&"get"in u&&void 0!==(s=u.get(e,!1,i))?s:f[t]:(o=typeof r,"string"===o&&(s=Bb.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(n.css(e,t)),o="number"),void(null!=r&&r===r&&("number"!==o||n.cssNumber[a]||(r+="px"),k.clearCloneStyle||""!==r||0!==t.indexOf("background")||(f[t]="inherit"),u&&"set"in u&&void 0===(r=u.set(e,r,i))||(f[t]=r))))}},css:function(e,t,r,i){var s,o,u,a=n.camelCase(t);return t=n.cssProps[a]||(n.cssProps[a]=Fb(e.style,a)),u=n.cssHooks[t]||n.cssHooks[a],u&&"get"in u&&(s=u.get(e,!0,r)),void 0===s&&(s=xb(e,t,i)),"normal"===s&&t in Db&&(s=Db[t]),""===r||r?(o=parseFloat(s),r===!0||n.isNumeric(o)?o||0:s):s}}),n.each(["height","width"],function(e,t){n.cssHooks[t]={get:function(e,r,i){return r?zb.test(n.css(e,"display"))&&0===e.offsetWidth?n.swap(e,Cb,function(){return Ib(e,t,i)}):Ib(e,t,i):void 0},set:function(e,r,i){var s=i&&wb(e);return Gb(e,r,i?Hb(e,t,i,"border-box"===n.css(e,"boxSizing",!1,s),s):0)}}}),n.cssHooks.marginRight=yb(k.reliableMarginRight,function(e,t){return t?n.swap(e,{display:"inline-block"},xb,[e,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(e,t){n.cssHooks[e+t]={expand:function(n){for(var r=0,i={},s="string"==typeof n?n.split(" "):[n];4>r;r++)i[e+R[r]+t]=s[r]||s[r-2]||s[0];return i}},ub.test(e)||(n.cssHooks[e+t].set=Gb)}),n.fn.extend({css:function(e,t){return J(this,function(e,t,r){var i,s,o={},u=0;if(n.isArray(t)){for(i=wb(e),s=t.length;s>u;u++)o[t[u]]=n.css(e,t[u],!1,i);return o}return void 0!==r?n.style(e,t,r):n.css(e,t)},e,t,arguments.length>1)},show:function(){return Jb(this,!0)},hide:function(){return Jb(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}}),n.Tween=Kb,Kb.prototype={constructor:Kb,init:function(e,t,r,i,s,o){this.elem=e,this.prop=r,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(n.cssNumber[r]?"":"px")},cur:function(){var e=Kb.propHooks[this.prop];return e&&e.get?e.get(this):Kb.propHooks._default.get(this)},run:function(e){var t,r=Kb.propHooks[this.prop];return this.pos=t=this.options.duration?n.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):Kb.propHooks._default.set(this),this}},Kb.prototype.init.prototype=Kb.prototype,Kb.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=n.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){n.fx.step[e.prop]?n.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[n.cssProps[e.prop]]||n.cssHooks[e.prop])?n.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Kb.propHooks.scrollTop=Kb.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},n.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},n.fx=Kb.prototype.init,n.fx.step={};var Lb,Mb,Nb=/^(?:toggle|show|hide)$/,Ob=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pb=/queueHooks$/,Qb=[Vb],Rb={"*":[function(e,t){var r=this.createTween(e,t),i=r.cur(),s=Ob.exec(t),o=s&&s[3]||(n.cssNumber[e]?"":"px"),u=(n.cssNumber[e]||"px"!==o&&+i)&&Ob.exec(n.css(r.elem,e)),a=1,f=20;if(u&&u[3]!==o){o=o||u[3],s=s||[],u=+i||1;do a=a||".5",u/=a,n.style(r.elem,e,u+o);while(a!==(a=r.cur()/i)&&1!==a&&--f)}return s&&(u=r.start=+u||+i||0,r.unit=o,r.end=s[1]?u+(s[1]+1)*s[2]:+s[2]),r}]};n.Animation=n.extend(Xb,{tweener:function(e,t){n.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var r,i=0,s=e.length;s>i;i++)r=e[i],Rb[r]=Rb[r]||[],Rb[r].unshift(t)},prefilter:function(e,t){t?Qb.unshift(e):Qb.push(e)}}),n.speed=function(e,t,r){var i=e&&"object"==typeof e?n.extend({},e):{complete:r||!r&&t||n.isFunction(e)&&e,duration:e,easing:r&&t||t&&!n.isFunction(t)&&t};return i.duration=n.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in n.fx.speeds?n.fx.speeds[i.duration]:n.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){n.isFunction(i.old)&&i.old.call(this),i.queue&&n.dequeue(this,i.queue)},i},n.fn.extend({fadeTo:function(e,t,n,r){return this.filter(S).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,r,i){var s=n.isEmptyObject(e),o=n.speed(t,r,i),u=function(){var t=Xb(this,n.extend({},e),o);(s||L.get(this,"finish"))&&t.stop(!0)};return u.finish=u,s||o.queue===!1?this.each(u):this.queue(o.queue,u)},stop:function(e,t,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",o=n.timers,u=L.get(this);if(s)u[s]&&u[s].stop&&i(u[s]);else for(s in u)u[s]&&u[s].stop&&Pb.test(s)&&i(u[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(r),t=!1,o.splice(s,1));(t||!r)&&n.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,r=L.get(this),i=r[e+"queue"],s=r[e+"queueHooks"],o=n.timers,u=i?i.length:0;for(r.finish=!0,n.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;u>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete r.finish})}}),n.each(["toggle","show","hide"],function(e,t){var r=n.fn[t];n.fn[t]=function(e,n,i){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(Tb(t,!0),e,n,i)}}),n.each({slideDown:Tb("show"),slideUp:Tb("hide"),slideToggle:Tb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){n.fn[e]=function(e,n,r){return this.animate(t,e,n,r)
}}),n.timers=[],n.fx.tick=function(){var e,t=0,r=n.timers;for(Lb=n.now();t<r.length;t++)e=r[t],e()||r[t]!==e||r.splice(t--,1);r.length||n.fx.stop(),Lb=void 0},n.fx.timer=function(e){n.timers.push(e),e()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Mb||(Mb=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Mb),Mb=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(e,t){return e=n.fx?n.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=l.createElement("input"),t=l.createElement("select"),n=t.appendChild(l.createElement("option"));e.type="checkbox",k.checkOn=""!==e.value,k.optSelected=n.selected,t.disabled=!0,k.optDisabled=!n.disabled,e=l.createElement("input"),e.value="t",e.type="radio",k.radioValue="t"===e.value}();var Yb,Zb,$b=n.expr.attrHandle;n.fn.extend({attr:function(e,t){return J(this,n.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){n.removeAttr(this,e)})}}),n.extend({attr:function(e,t,r){var i,s,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===U?n.prop(e,t,r):(1===o&&n.isXMLDoc(e)||(t=t.toLowerCase(),i=n.attrHooks[t]||(n.expr.match.bool.test(t)?Zb:Yb)),void 0===r?i&&"get"in i&&null!==(s=i.get(e,t))?s:(s=n.find.attr(e,t),null==s?void 0:s):null!==r?i&&"set"in i&&void 0!==(s=i.set(e,r,t))?s:(e.setAttribute(t,r+""),r):void n.removeAttr(e,t)):void 0},removeAttr:function(e,t){var r,i,s=0,o=t&&t.match(E);if(o&&1===e.nodeType)for(;r=o[s++];)i=n.propFix[r]||r,n.expr.match.bool.test(r)&&(e[i]=!1),e.removeAttribute(r)},attrHooks:{type:{set:function(e,t){if(!k.radioValue&&"radio"===t&&n.nodeName(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}}}),Zb={set:function(e,t,r){return t===!1?n.removeAttr(e,r):e.setAttribute(r,r),r}},n.each(n.expr.match.bool.source.match(/\w+/g),function(e,t){var r=$b[t]||n.find.attr;$b[t]=function(e,t,n){var i,s;return n||(s=$b[t],$b[t]=i,i=null!=r(e,t,n)?t.toLowerCase():null,$b[t]=s),i}});var _b=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(e,t){return J(this,n.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[n.propFix[e]||e]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,r){var i,s,o,u=e.nodeType;return e&&3!==u&&8!==u&&2!==u?(o=1!==u||!n.isXMLDoc(e),o&&(t=n.propFix[t]||t,s=n.propHooks[t]),void 0!==r?s&&"set"in s&&void 0!==(i=s.set(e,r,t))?i:e[t]=r:s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]):void 0},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||_b.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ac=/[\t\r\n\f]/g;n.fn.extend({addClass:function(e){var t,r,i,s,o,u,a="string"==typeof e&&e,f=0,l=this.length;if(n.isFunction(e))return this.each(function(t){n(this).addClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(E)||[];l>f;f++)if(r=this[f],i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(ac," "):" ")){for(o=0;s=t[o++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");u=n.trim(i),r.className!==u&&(r.className=u)}return this},removeClass:function(e){var t,r,i,s,o,u,a=0===arguments.length||"string"==typeof e&&e,f=0,l=this.length;if(n.isFunction(e))return this.each(function(t){n(this).removeClass(e.call(this,t,this.className))});if(a)for(t=(e||"").match(E)||[];l>f;f++)if(r=this[f],i=1===r.nodeType&&(r.className?(" "+r.className+" ").replace(ac," "):"")){for(o=0;s=t[o++];)for(;i.indexOf(" "+s+" ")>=0;)i=i.replace(" "+s+" "," ");u=e?n.trim(i):"",r.className!==u&&(r.className=u)}return this},toggleClass:function(e,t){var r=typeof e;return"boolean"==typeof t&&"string"===r?t?this.addClass(e):this.removeClass(e):this.each(n.isFunction(e)?function(r){n(this).toggleClass(e.call(this,r,this.className,t),t)}:function(){if("string"===r)for(var t,i=0,s=n(this),o=e.match(E)||[];t=o[i++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else(r===U||"boolean"===r)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||e===!1?"":L.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(ac," ").indexOf(t)>=0)return!0;return!1}});var bc=/\r/g;n.fn.extend({val:function(e){var t,r,i,s=this[0];return arguments.length?(i=n.isFunction(e),this.each(function(r){var s;1===this.nodeType&&(s=i?e.call(this,r,n(this).val()):e,null==s?s="":"number"==typeof s?s+="":n.isArray(s)&&(s=n.map(s,function(e){return null==e?"":e+""})),t=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,s,"value")||(this.value=s))})):s?(t=n.valHooks[s.type]||n.valHooks[s.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(r=t.get(s,"value"))?r:(r=s.value,"string"==typeof r?r.replace(bc,""):null==r?"":r)):void 0}}),n.extend({valHooks:{option:{get:function(e){var t=n.find.attr(e,"value");return null!=t?t:n.trim(n.text(e))}},select:{get:function(e){for(var t,r,i=e.options,s=e.selectedIndex,o="select-one"===e.type||0>s,u=o?null:[],a=o?s+1:i.length,f=0>s?a:o?s:0;a>f;f++)if(r=i[f],!(!r.selected&&f!==s||(k.optDisabled?r.disabled:null!==r.getAttribute("disabled"))||r.parentNode.disabled&&n.nodeName(r.parentNode,"optgroup"))){if(t=n(r).val(),o)return t;u.push(t)}return u},set:function(e,t){for(var r,i,s=e.options,o=n.makeArray(t),u=s.length;u--;)i=s[u],(i.selected=n.inArray(i.value,o)>=0)&&(r=!0);return r||(e.selectedIndex=-1),o}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(e,t){return n.isArray(t)?e.checked=n.inArray(n(e).val(),t)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){n.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),n.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var cc=n.now(),dc=/\?/;n.parseJSON=function(e){return JSON.parse(e+"")},n.parseXML=function(e){var t,r;if(!e||"string"!=typeof e)return null;try{r=new DOMParser,t=r.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+e),t};var ec,fc,gc=/#.*$/,hc=/([?&])_=[^&]*/,ic=/^(.*?):[ \t]*([^\r\n]*)$/gm,jc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,kc=/^(?:GET|HEAD)$/,lc=/^\/\//,mc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,nc={},oc={},pc="*/".concat("*");try{fc=location.href}catch(qc){fc=l.createElement("a"),fc.href="",fc=fc.href}ec=mc.exec(fc.toLowerCase())||[],n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:fc,type:"GET",isLocal:jc.test(ec[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?tc(tc(e,n.ajaxSettings),t):tc(n.ajaxSettings,e)},ajaxPrefilter:rc(nc),ajaxTransport:rc(oc),ajax:function(e,t){function T(e,t,o,a){var l,g,y,w,E,x=t;2!==b&&(b=2,u&&clearTimeout(u),r=void 0,s=a||"",S.readyState=e>0?4:0,l=e>=200&&300>e||304===e,o&&(w=uc(c,S,o)),w=vc(c,w,S,l),l?(c.ifModified&&(E=S.getResponseHeader("Last-Modified"),E&&(n.lastModified[i]=E),E=S.getResponseHeader("etag"),E&&(n.etag[i]=E)),204===e||"HEAD"===c.type?x="nocontent":304===e?x="notmodified":(x=w.state,g=w.data,y=w.error,l=!y)):(y=x,(e||!x)&&(x="error",0>e&&(e=0))),S.status=e,S.statusText=(t||x)+"",l?d.resolveWith(h,[g,x,S]):d.rejectWith(h,[S,x,y]),S.statusCode(m),m=void 0,f&&p.trigger(l?"ajaxSuccess":"ajaxError",[S,c,l?g:y]),v.fireWith(h,[S,x]),f&&(p.trigger("ajaxComplete",[S,c]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,s,o,u,a,f,l,c=n.ajaxSetup({},t),h=c.context||c,p=c.context&&(h.nodeType||h.jquery)?n(h):n.event,d=n.Deferred(),v=n.Callbacks("once memory"),m=c.statusCode||{},g={},y={},b=0,w="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=ic.exec(s);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,g[e]=t),this},overrideMimeType:function(e){return b||(c.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)m[t]=[m[t],e[t]];else S.always(e[S.status]);return this},abort:function(e){var t=e||w;return r&&r.abort(t),T(0,t),this}};if(d.promise(S).complete=v.add,S.success=S.done,S.error=S.fail,c.url=((e||c.url||fc)+"").replace(gc,"").replace(lc,ec[1]+"//"),c.type=t.method||t.type||c.method||c.type,c.dataTypes=n.trim(c.dataType||"*").toLowerCase().match(E)||[""],null==c.crossDomain&&(a=mc.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ec[1]&&a[2]===ec[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(ec[3]||("http:"===ec[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=n.param(c.data,c.traditional)),sc(nc,c,t,S),2===b)return S;f=c.global,f&&0===n.active++&&n.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!kc.test(c.type),i=c.url,c.hasContent||(c.data&&(i=c.url+=(dc.test(i)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=hc.test(i)?i.replace(hc,"$1_="+cc++):i+(dc.test(i)?"&":"?")+"_="+cc++)),c.ifModified&&(n.lastModified[i]&&S.setRequestHeader("If-Modified-Since",n.lastModified[i]),n.etag[i]&&S.setRequestHeader("If-None-Match",n.etag[i])),(c.data&&c.hasContent&&c.contentType!==!1||t.contentType)&&S.setRequestHeader("Content-Type",c.contentType),S.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+pc+"; q=0.01":""):c.accepts["*"]);for(l in c.headers)S.setRequestHeader(l,c.headers[l]);if(c.beforeSend&&(c.beforeSend.call(h,S,c)===!1||2===b))return S.abort();w="abort";for(l in{success:1,error:1,complete:1})S[l](c[l]);if(r=sc(oc,c,t,S)){S.readyState=1,f&&p.trigger("ajaxSend",[S,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){S.abort("timeout")},c.timeout));try{b=1,r.send(g,T)}catch(x){if(!(2>b))throw x;T(-1,x)}}else T(-1,"No Transport");return S},getJSON:function(e,t,r){return n.get(e,t,r,"json")},getScript:function(e,t){return n.get(e,void 0,t,"script")}}),n.each(["get","post"],function(e,t){n[t]=function(e,r,i,s){return n.isFunction(r)&&(s=s||i,i=r,r=void 0),n.ajax({url:e,type:t,dataType:s,data:r,success:i})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){n.fn[t]=function(e){return this.on(t,e)}}),n._evalUrl=function(e){return n.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(e){var t;return n.isFunction(e)?this.each(function(t){n(this).wrapAll(e.call(this,t))}):(this[0]&&(t=n(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(n.isFunction(e)?function(t){n(this).wrapInner(e.call(this,t))}:function(){var t=n(this),r=t.contents();r.length?r.wrapAll(e):t.append(e)})},wrap:function(e){var t=n.isFunction(e);return this.each(function(r){n(this).wrapAll(t?e.call(this,r):e)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},n.expr.filters.visible=function(e){return!n.expr.filters.hidden(e)};var wc=/%20/g,xc=/\[\]$/,yc=/\r?\n/g,zc=/^(?:submit|button|image|reset|file)$/i,Ac=/^(?:input|select|textarea|keygen)/i;n.param=function(e,t){var r,i=[],s=function(e,t){t=n.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(e)||e.jquery&&!n.isPlainObject(e))n.each(e,function(){s(this.name,this.value)});else for(r in e)Bc(r,e[r],t,s);return i.join("&").replace(wc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=n.prop(this,"elements");return e?n.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!n(this).is(":disabled")&&Ac.test(this.nodeName)&&!zc.test(e)&&(this.checked||!T.test(e))}).map(function(e,t){var r=n(this).val();return null==r?null:n.isArray(r)?n.map(r,function(e){return{name:t.name,value:e.replace(yc,"\r\n")}}):{name:t.name,value:r.replace(yc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Cc=0,Dc={},Ec={0:200,1223:204},Fc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var e in Dc)Dc[e]()}),k.cors=!!Fc&&"withCredentials"in Fc,k.ajax=Fc=!!Fc,n.ajaxTransport(function(e){var t;return k.cors||Fc&&!e.crossDomain?{send:function(n,r){var i,s=e.xhr(),o=++Cc;if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Dc[o],t=s.onload=s.onerror=null,"abort"===e?s.abort():"error"===e?r(s.status,s.statusText):r(Ec[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=Dc[o]=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(u){if(t)throw u}},abort:function(){t&&t()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return n.globalEval(e),e}}}),n.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),n.ajaxTransport("script",function(e){if(e.crossDomain){var t,r;return{send:function(i,s){t=n("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",r=function(e){t.remove(),r=null,e&&s("error"===e.type?404:200,e.type)}),l.head.appendChild(t[0])},abort:function(){r&&r()}}}});var Gc=[],Hc=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Gc.pop()||n.expando+"_"+cc++;return this[e]=!0,e}}),n.ajaxPrefilter("json jsonp",function(e,t,r){var i,s,o,u=e.jsonp!==!1&&(Hc.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hc.test(e.data)&&"data");return u||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=n.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(Hc,"$1"+i):e.jsonp!==!1&&(e.url+=(dc.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||n.error(i+" was not called"),o[0]},e.dataTypes[0]="json",s=a[i],a[i]=function(){o=arguments},r.always(function(){a[i]=s,e[i]&&(e.jsonpCallback=t.jsonpCallback,Gc.push(i)),o&&n.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),n.parseHTML=function(e,t,r){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(r=t,t=!1),t=t||l;var i=v.exec(e),s=!r&&[];return i?[t.createElement(i[1])]:(i=n.buildFragment([e],t,s),s&&s.length&&n(s).remove(),n.merge([],i.childNodes))};var Ic=n.fn.load;n.fn.load=function(e,t,r){if("string"!=typeof e&&Ic)return Ic.apply(this,arguments);var i,s,o,u=this,a=e.indexOf(" ");return a>=0&&(i=n.trim(e.slice(a)),e=e.slice(0,a)),n.isFunction(t)?(r=t,t=void 0):t&&"object"==typeof t&&(s="POST"),u.length>0&&n.ajax({url:e,type:s,dataType:"html",data:t}).done(function(e){o=arguments,u.html(i?n("<div>").append(n.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){u.each(r,o||[e.responseText,t,e])}),this},n.expr.filters.animated=function(e){return n.grep(n.timers,function(t){return e===t.elem}).length};var Jc=a.document.documentElement;n.offset={setOffset:function(e,t,r){var i,s,o,u,a,f,l,c=n.css(e,"position"),h=n(e),p={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=n.css(e,"top"),f=n.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+f).indexOf("auto")>-1,l?(i=h.position(),u=i.top,s=i.left):(u=parseFloat(o)||0,s=parseFloat(f)||0),n.isFunction(t)&&(t=t.call(e,r,a)),null!=t.top&&(p.top=t.top-a.top+u),null!=t.left&&(p.left=t.left-a.left+s),"using"in t?t.using.call(e,p):h.css(p)}},n.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){n.offset.setOffset(this,e,t)});var t,r,i=this[0],s={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,n.contains(t,i)?(typeof i.getBoundingClientRect!==U&&(s=i.getBoundingClientRect()),r=Kc(o),{top:s.top+r.pageYOffset-t.clientTop,left:s.left+r.pageXOffset-t.clientLeft}):s):void 0},position:function(){if(this[0]){var e,t,r=this[0],i={top:0,left:0};return"fixed"===n.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),n.nodeName(e[0],"html")||(i=e.offset()),i.top+=n.css(e[0],"borderTopWidth",!0),i.left+=n.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-n.css(r,"marginTop",!0),left:t.left-i.left-n.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Jc;e&&!n.nodeName(e,"html")&&"static"===n.css(e,"position");)e=e.offsetParent;return e||Jc})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;n.fn[e]=function(n){return J(this,function(e,n,i){var s=Kc(e);return void 0===i?s?s[t]:e[n]:void(s?s.scrollTo(r?a.pageXOffset:i,r?i:a.pageYOffset):e[n]=i)},e,n,arguments.length,null)}}),n.each(["top","left"],function(e,t){n.cssHooks[t]=yb(k.pixelPosition,function(e,r){return r?(r=xb(e,t),vb.test(r)?n(e).position()[t]+"px":r):void 0})}),n.each({Height:"height",Width:"width"},function(e,t){n.each({padding:"inner"+e,content:t,"":"outer"+e},function(r,i){n.fn[i]=function(i,s){var o=arguments.length&&(r||"boolean"!=typeof i),u=r||(i===!0||s===!0?"margin":"border");return J(this,function(t,r,i){var s;return n.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(s=t.documentElement,Math.max(t.body["scroll"+e],s["scroll"+e],t.body["offset"+e],s["offset"+e],s["client"+e])):void 0===i?n.css(t,r,u):n.style(t,r,i,u)},t,o?i:void 0,o,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Lc=a.jQuery,Mc=a.$;return n.noConflict=function(e){return a.$===n&&(a.$=Mc),e&&a.jQuery===n&&(a.jQuery=Lc),n},typeof b===U&&(a.jQuery=a.$=n),n}),function(e,t,n){function r(t,n){this.bodyOverflowX,this.callbacks={hide:[],show:[]},this.checkInterval=null,this.Content,this.$el=e(t),this.$elProxy,this.elProxyPosition,this.enabled=!0,this.options=e.extend({},a,n),this.mouseIsOverProxy=!1,this.namespace="tooltipster-"+Math.round(1e5*Math.random()),this.Status="hidden",this.timerHide=null,this.timerShow=null,this.$tooltip,this.options.iconTheme=this.options.iconTheme.replace(".",""),this.options.theme=this.options.theme.replace(".",""),this._init()}function i(t,n){var r=!0;return e.each(t,function(e){return"undefined"==typeof n[e]||t[e]!==n[e]?(r=!1,!1):void 0}),r}function s(){return!l&&f}function o(){var e=n.body||n.documentElement,t=e.style,r="transition";if("string"==typeof t[r])return!0;v=["Moz","Webkit","Khtml","O","ms"],r=r.charAt(0).toUpperCase()+r.substr(1);for(var i=0;i<v.length;i++)if("string"==typeof t[v[i]+r])return!0;return!1}var u="tooltipster",a={animation:"fade",arrow:!0,arrowColor:"",autoClose:!0,content:null,contentAsHTML:!1,contentCloning:!0,delay:200,minWidth:0,maxWidth:null,functionInit:function(){},functionBefore:function(e,t){t()},functionReady:function(){},functionAfter:function(){},icon:"(?)",iconCloning:!0,iconDesktop:!1,iconTouch:!1,iconTheme:"tooltipster-icon",interactive:!1,interactiveTolerance:350,multiple:!1,offsetX:0,offsetY:0,onlyOne:!1,position:"top",positionTracker:!1,speed:350,timer:0,theme:"tooltipster-default",touchDevices:!0,trigger:"hover",updateAnimation:!0};r.prototype={_init:function(){var t=this;if(n.querySelector){if(null!==t.options.content)t._content_set(t.options.content);else{var r=t.$el.attr("title");"undefined"==typeof r&&(r=null),t._content_set(r)}var i=t.options.functionInit.call(t.$el,t.$el,t.Content);"undefined"!=typeof i&&t._content_set(i),t.$el.removeAttr("title").addClass("tooltipstered"),!f&&t.options.iconDesktop||f&&t.options.iconTouch?("string"==typeof t.options.icon?(t.$elProxy=e('<span class="'+t.options.iconTheme+'"></span>'),t.$elProxy.text(t.options.icon)):t.$elProxy=t.options.iconCloning?t.options.icon.clone(!0):t.options.icon,t.$elProxy.insertAfter(t.$el)):t.$elProxy=t.$el,"hover"==t.options.trigger?(t.$elProxy.on("mouseenter."+t.namespace,function(){(!s()||t.options.touchDevices)&&(t.mouseIsOverProxy=!0,t._show())}).on("mouseleave."+t.namespace,function(){(!s()||t.options.touchDevices)&&(t.mouseIsOverProxy=!1)}),f&&t.options.touchDevices&&t.$elProxy.on("touchstart."+t.namespace,function(){t._showNow()})):"click"==t.options.trigger&&t.$elProxy.on("click."+t.namespace,function(){(!s()||t.options.touchDevices)&&t._show()})}},_show:function(){var e=this;"shown"!=e.Status&&"appearing"!=e.Status&&(e.options.delay?e.timerShow=setTimeout(function(){("click"==e.options.trigger||"hover"==e.options.trigger&&e.mouseIsOverProxy)&&e._showNow()},e.options.delay):e._showNow())},_showNow:function(n){var r=this;r.options.functionBefore.call(r.$el,r.$el,function(){if(r.enabled&&null!==r.Content){n&&r.callbacks.show.push(n),r.callbacks.hide=[],clearTimeout(r.timerShow),r.timerShow=null,clearTimeout(r.timerHide),r.timerHide=null,r.options.onlyOne&&e(".tooltipstered").not(r.$el).each(function(t,n){var r=e(n),i=r.data("tooltipster-ns");e.each(i,function(e,t){var n=r.data(t),i=n.status(),s=n.option("autoClose");"hidden"!==i&&"disappearing"!==i&&s&&n.hide()})});var i=function(){r.Status="shown",e.each(r.callbacks.show,function(e,t){t.call(r.$el)}),r.callbacks.show=[]};if("hidden"!==r.Status){var s=0;"disappearing"===r.Status?(r.Status="appearing",o()?(r.$tooltip.clearQueue().removeClass("tooltipster-dying").addClass("tooltipster-"+r.options.animation+"-show"),r.options.speed>0&&r.$tooltip.delay(r.options.speed),r.$tooltip.queue(i)):r.$tooltip.stop().fadeIn(i)):"shown"===r.Status&&i()}else{r.Status="appearing";var s=r.options.speed;r.bodyOverflowX=e("body").css("overflow-x"),e("body").css("overflow-x","hidden");var u="tooltipster-"+r.options.animation,a="-webkit-transition-duration: "+r.options.speed+"ms; -webkit-animation-duration: "+r.options.speed+"ms; -moz-transition-duration: "+r.options.speed+"ms; -moz-animation-duration: "+r.options.speed+"ms; -o-transition-duration: "+r.options.speed+"ms; -o-animation-duration: "+r.options.speed+"ms; -ms-transition-duration: "+r.options.speed+"ms; -ms-animation-duration: "+r.options.speed+"ms; transition-duration: "+r.options.speed+"ms; animation-duration: "+r.options.speed+"ms;",l=r.options.minWidth?"min-width:"+Math.round(r.options.minWidth)+"px;":"",c=r.options.maxWidth?"max-width:"+Math.round(r.options.maxWidth)+"px;":"",h=r.options.interactive?"pointer-events: auto;":"";if(r.$tooltip=e('<div class="tooltipster-base '+r.options.theme+'" style="'+l+" "+c+" "+h+" "+a+'"><div class="tooltipster-content"></div></div>'),o()&&r.$tooltip.addClass(u),r._content_insert(),r.$tooltip.appendTo("body"),r.reposition(),r.options.functionReady.call(r.$el,r.$el,r.$tooltip),o()?(r.$tooltip.addClass(u+"-show"),r.options.speed>0&&r.$tooltip.delay(r.options.speed),r.$tooltip.queue(i)):r.$tooltip.css("display","none").fadeIn(r.options.speed,i),r._interval_set(),e(t).on("scroll."+r.namespace+" resize."+r.namespace,function(){r.reposition()}),r.options.autoClose)if(e("body").off("."+r.namespace),"hover"==r.options.trigger)if(f&&setTimeout(function(){e("body").on("touchstart."+r.namespace,function(){r.hide()})},0),r.options.interactive){f&&r.$tooltip.on("touchstart."+r.namespace,function(e){e.stopPropagation()});var p=null;r.$elProxy.add(r.$tooltip).on("mouseleave."+r.namespace+"-autoClose",function(){clearTimeout(p),p=setTimeout(function(){r.hide()},r.options.interactiveTolerance)}).on("mouseenter."+r.namespace+"-autoClose",function(){clearTimeout(p)})}else r.$elProxy.on("mouseleave."+r.namespace+"-autoClose",function(){r.hide()});else"click"==r.options.trigger&&(setTimeout(function(){e("body").on("click."+r.namespace+" touchstart."+r.namespace,function(){r.hide()})},0),r.options.interactive&&r.$tooltip.on("click."+r.namespace+" touchstart."+r.namespace,function(e){e.stopPropagation()}))}r.options.timer>0&&(r.timerHide=setTimeout(function(){r.timerHide=null,r.hide()},r.options.timer+s))}})},_interval_set:function(){var t=this;t.checkInterval=setInterval(function(){if(0===e("body").find(t.$el).length||0===e("body").find(t.$elProxy).length||"hidden"==t.Status||0===e("body").find(t.$tooltip).length)("shown"==t.Status||"appearing"==t.Status)&&t.hide(),t._interval_cancel();else if(t.options.positionTracker){var n=t._repositionInfo(t.$elProxy),r=!1;i(n.dimension,t.elProxyPosition.dimension)&&("fixed"===t.$elProxy.css("position")?i(n.position,t.elProxyPosition.position)&&(r=!0):i(n.offset,t.elProxyPosition.offset)&&(r=!0)),r||t.reposition()}},200)},_interval_cancel:function(){clearInterval(this.checkInterval),this.checkInterval=null},_content_set:function(e){"object"==typeof e&&null!==e&&this.options.contentCloning&&(e=e.clone(!0)),this.Content=e},_content_insert:function(){var e=this,t=this.$tooltip.find(".tooltipster-content");"string"!=typeof e.Content||e.options.contentAsHTML?t.empty().append(e.Content):t.text(e.Content)},_update:function(e){var t=this;t._content_set(e),null!==t.Content?"hidden"!==t.Status&&(t._content_insert(),t.reposition(),t.options.updateAnimation&&(o()?(t.$tooltip.css({width:"","-webkit-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-moz-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-o-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms","-ms-transition":"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms",transition:"all "+t.options.speed+"ms, width 0ms, height 0ms, left 0ms, top 0ms"}).addClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!=t.Status&&(t.$tooltip.removeClass("tooltipster-content-changing"),setTimeout(function(){"hidden"!==t.Status&&t.$tooltip.css({"-webkit-transition":t.options.speed+"ms","-moz-transition":t.options.speed+"ms","-o-transition":t.options.speed+"ms","-ms-transition":t.options.speed+"ms",transition:t.options.speed+"ms"})},t.options.speed))},t.options.speed)):t.$tooltip.fadeTo(t.options.speed,.5,function(){"hidden"!=t.Status&&t.$tooltip.fadeTo(t.options.speed,1)}))):t.hide()},_repositionInfo:function(e){return{dimension:{height:e.outerHeight(!1),width:e.outerWidth(!1)},offset:e.offset(),position:{left:parseInt(e.css("left")),top:parseInt(e.css("top"))}}},hide:function(n){var r=this;n&&r.callbacks.hide.push(n),r.callbacks.show=[],clearTimeout(r.timerShow),r.timerShow=null,clearTimeout(r.timerHide),r.timerHide=null;var i=function(){e.each(r.callbacks.hide,function(e,t){t.call(r.$el)}),r.callbacks.hide=[]};if("shown"==r.Status||"appearing"==r.Status){r.Status="disappearing";var s=function(){r.Status="hidden","object"==typeof r.Content&&null!==r.Content&&r.Content.detach(),r.$tooltip.remove(),r.$tooltip=null,e(t).off("."+r.namespace),e("body").off("."+r.namespace).css("overflow-x",r.bodyOverflowX),e("body").off("."+r.namespace),r.$elProxy.off("."+r.namespace+"-autoClose"),r.options.functionAfter.call(r.$el,r.$el),i()};o()?(r.$tooltip.clearQueue().removeClass("tooltipster-"+r.options.animation+"-show").addClass("tooltipster-dying"),r.options.speed>0&&r.$tooltip.delay(r.options.speed),r.$tooltip.queue(s)):r.$tooltip.stop().fadeOut(r.options.speed,s)}else"hidden"==r.Status&&i();return r},show:function(e){return this._showNow(e),this},update:function(e){return this.content(e)},content:function(e){return"undefined"==typeof e?this.Content:(this._update(e),this)},reposition:function(){function H(){var n=e(t).scrollLeft();0>A-n&&(r=A-n,A=n),A+o-n>i&&(r=A-(i+n-o),A=i+n-o)}function B(n,r){s.offset.top-e(t).scrollTop()-a-_-12<0&&r.indexOf("top")>-1&&(P=n),s.offset.top+s.dimension.height+a+12+_>e(t).scrollTop()+e(t).height()&&r.indexOf("bottom")>-1&&(P=n,M=s.offset.top-a-_-12)}var n=this;if(0!==e("body").find(n.$tooltip).length){n.$tooltip.css("width",""),n.elProxyPosition=n._repositionInfo(n.$elProxy);var r=null,i=e(t).width(),s=n.elProxyPosition,o=n.$tooltip.outerWidth(!1),a=(n.$tooltip.innerWidth()+1,n.$tooltip.outerHeight(!1));if(n.$elProxy.is("area")){var f=n.$elProxy.attr("shape"),l=n.$elProxy.parent().attr("name"),c=e('img[usemap="#'+l+'"]'),h=c.offset().left,p=c.offset().top,d=void 0!==n.$elProxy.attr("coords")?n.$elProxy.attr("coords").split(","):void 0;if("circle"==f){var v=parseInt(d[0]),m=parseInt(d[1]),g=parseInt(d[2]);s.dimension.height=2*g,s.dimension.width=2*g,s.offset.top=p+m-g,s.offset.left=h+v-g}else if("rect"==f){var v=parseInt(d[0]),m=parseInt(d[1]),y=parseInt(d[2]),b=parseInt(d[3]);s.dimension.height=b-m,s.dimension.width=y-v,s.offset.top=p+m,s.offset.left=h+v}else if("poly"==f){for(var S=0,x=0,T=0,N=0,C="even",k=0;k<d.length;k++){var L=parseInt(d[k]);"even"==C?(L>T&&(T=L,0===k&&(S=T)),S>L&&(S=L),C="odd"):(L>N&&(N=L,1==k&&(x=N)),x>L&&(x=L),C="even")}s.dimension.height=N-x,s.dimension.width=T-S,s.offset.top=p+x,s.offset.left=h+S}else s.dimension.height=c.outerHeight(!1),s.dimension.width=c.outerWidth(!1),s.offset.top=p,s.offset.left=h}var A=0,O=0,M=0,_=parseInt(n.options.offsetY),D=parseInt(n.options.offsetX),P=n.options.position;if("top"==P){var j=s.offset.left+o-(s.offset.left+s.dimension.width);A=s.offset.left+D-j/2,M=s.offset.top-a-_-12,H(),B("bottom","top")}if("top-left"==P&&(A=s.offset.left+D,M=s.offset.top-a-_-12,H(),B("bottom-left","top-left")),"top-right"==P&&(A=s.offset.left+s.dimension.width+D-o,M=s.offset.top-a-_-12,H(),B("bottom-right","top-right")),"bottom"==P){var j=s.offset.left+o-(s.offset.left+s.dimension.width);A=s.offset.left-j/2+D,M=s.offset.top+s.dimension.height+_+12,H(),B("top","bottom")}if("bottom-left"==P&&(A=s.offset.left+D,M=s.offset.top+s.dimension.height+_+12,H(),B("top-left","bottom-left")),"bottom-right"==P&&(A=s.offset.left+s.dimension.width+D-o,M=s.offset.top+s.dimension.height+_+12,H(),B("top-right","bottom-right")),"left"==P){A=s.offset.left-D-o-12,O=s.offset.left+D+s.dimension.width+12;var F=s.offset.top+a-(s.offset.top+s.dimension.height);if(M=s.offset.top-F/2-_,0>A&&O+o>i){var I=2*parseFloat(n.$tooltip.css("border-width")),q=o+A-I;n.$tooltip.css("width",q+"px"),a=n.$tooltip.outerHeight(!1),A=s.offset.left-D-q-12-I,F=s.offset.top+a-(s.offset.top+s.dimension.height),M=s.offset.top-F/2-_}else 0>A&&(A=s.offset.left+D+s.dimension.width+12,r="left")}if("right"==P){A=s.offset.left+D+s.dimension.width+12,O=s.offset.left-D-o-12;
var F=s.offset.top+a-(s.offset.top+s.dimension.height);if(M=s.offset.top-F/2-_,A+o>i&&0>O){var I=2*parseFloat(n.$tooltip.css("border-width")),q=i-A-I;n.$tooltip.css("width",q+"px"),a=n.$tooltip.outerHeight(!1),F=s.offset.top+a-(s.offset.top+s.dimension.height),M=s.offset.top-F/2-_}else A+o>i&&(A=s.offset.left-D-o-12,r="right")}if(n.options.arrow){var R="tooltipster-arrow-"+P;if(n.options.arrowColor.length<1)var U=n.$tooltip.css("background-color");else var U=n.options.arrowColor;if(r?"left"==r?(R="tooltipster-arrow-right",r=""):"right"==r?(R="tooltipster-arrow-left",r=""):r="left:"+Math.round(r)+"px;":r="","top"==P||"top-left"==P||"top-right"==P)var z=parseFloat(n.$tooltip.css("border-bottom-width")),W=n.$tooltip.css("border-bottom-color");else if("bottom"==P||"bottom-left"==P||"bottom-right"==P)var z=parseFloat(n.$tooltip.css("border-top-width")),W=n.$tooltip.css("border-top-color");else if("left"==P)var z=parseFloat(n.$tooltip.css("border-right-width")),W=n.$tooltip.css("border-right-color");else if("right"==P)var z=parseFloat(n.$tooltip.css("border-left-width")),W=n.$tooltip.css("border-left-color");else var z=parseFloat(n.$tooltip.css("border-bottom-width")),W=n.$tooltip.css("border-bottom-color");z>1&&z++;var X="";if(0!==z){var V="",$="border-color: "+W+";";-1!==R.indexOf("bottom")?V="margin-top: -"+Math.round(z)+"px;":-1!==R.indexOf("top")?V="margin-bottom: -"+Math.round(z)+"px;":-1!==R.indexOf("left")?V="margin-right: -"+Math.round(z)+"px;":-1!==R.indexOf("right")&&(V="margin-left: -"+Math.round(z)+"px;"),X='<span class="tooltipster-arrow-border" style="'+V+" "+$+';"></span>'}n.$tooltip.find(".tooltipster-arrow").remove();var J='<div class="'+R+' tooltipster-arrow" style="'+r+'">'+X+'<span style="border-color:'+U+';"></span></div>';n.$tooltip.append(J)}n.$tooltip.css({top:Math.round(M)+"px",left:Math.round(A)+"px"})}return n},enable:function(){return this.enabled=!0,this},disable:function(){return this.hide(),this.enabled=!1,this},destroy:function(){var t=this;t.hide(),t.$el[0]!==t.$elProxy[0]&&t.$elProxy.remove(),t.$el.removeData(t.namespace).off("."+t.namespace);var n=t.$el.data("tooltipster-ns");if(1===n.length){var r="string"==typeof t.Content?t.Content:e("<div></div>").append(t.Content).html();t.$el.removeClass("tooltipstered").attr("title",r).removeData(t.namespace).removeData("tooltipster-ns").off("."+t.namespace)}else n=e.grep(n,function(e){return e!==t.namespace}),t.$el.data("tooltipster-ns",n);return t},elementIcon:function(){return this.$el[0]!==this.$elProxy[0]?this.$elProxy[0]:void 0},elementTooltip:function(){return this.$tooltip?this.$tooltip[0]:void 0},option:function(e,t){return"undefined"==typeof t?this.options[e]:(this.options[e]=t,this)},status:function(){return this.Status}},e.fn[u]=function(){var t=arguments;if(0===this.length){if("string"==typeof t[0]){var n=!0;switch(t[0]){case"setDefaults":e.extend(a,t[1]);break;default:n=!1}return n?!0:this}return this}if("string"==typeof t[0]){var i="#*$~&";return this.each(function(){var n=e(this).data("tooltipster-ns"),r=n?e(this).data(n[0]):null;if(!r)throw new Error("You called Tooltipster's \""+t[0]+'" method on an uninitialized element');if("function"!=typeof r[t[0]])throw new Error('Unknown method .tooltipster("'+t[0]+'")');var s=r[t[0]](t[1],t[2]);return s!==r?(i=s,!1):void 0}),"#*$~&"!==i?i:this}var s=[],o=t[0]&&"undefined"!=typeof t[0].multiple,u=o&&t[0].multiple||!o&&a.multiple;return this.each(function(){var n=!1,i=e(this).data("tooltipster-ns"),o=null;i?u?n=!0:console.log('Tooltipster: one or more tooltips are already attached to this element: ignoring. Use the "multiple" option to attach more tooltips.'):n=!0,n&&(o=new r(this,t[0]),i||(i=[]),i.push(o.namespace),e(this).data("tooltipster-ns",i),e(this).data(o.namespace,o)),s.push(o)}),u?s:this};var f=!!("ontouchstart"in t),l=!1;e("body").one("mousemove",function(){l=!0})}(jQuery,window,document),define("tooltipster",function(){}),ItemCategory={rawMaterial:"Raw Materials",building:"Buildings",scavenge:"Scavenge",gem:"Gems",component:"Components",miningGear:"Mining Gear",gearMainHand:"Main Hand",gearHead:"Head Gear",gearChest:"Chest Gear",gearLegs:"Leg Gear",gearFeet:"Foot Gear",spaceship:"Spaceship"},ItemCategoryPlanet={rawMaterial:"Raw Materials",building:"Buildings",scavenge:"Scavenge",gem:"Gems",component:"Components",miningGear:"Mining Gear",gearMainHand:"Main Hand",gearHead:"Head Gear",gearChest:"Chest Gear",gearLegs:"Leg Gear",gearFeet:"Foot Gear",spaceship:"Spaceship"},GearType={head:"Head",chest:"Chest",miningGear:"Pickaxe",mainHand:"Main Hand",secondHand:"Second Hand",legs:"Legs",feet:"Feet"},define("enums",function(){}),require(["jquery","tooltipster","enums"]),UISlot.prototype=new UIComponent,UISlot.prototype.$super=parent,UISlot.prototype.constructor=UISlot,define("uislot",function(){}),require(["uislot"]),UIInventory.prototype=new UIComponent,UIInventory.prototype.$super=parent,UIInventory.prototype.constructor=UIInventory,define("uiinventory",function(){}),UISelection.prototype=new UIComponent,UISelection.prototype.$super=parent,UISelection.prototype.constructor=UISelection,define("uiselection",function(){}),require(["uicomponent","uiinventory","uiselection","game"]),UIPlanetScreen.prototype=new UIComponent,UIPlanetScreen.prototype.$super=parent,UIPlanetScreen.prototype.constructor=UIPlanetScreen,define("uiplanetscreen",function(){}),require(["jquery"]),UIStarfield.prototype=new UIComponent,UIStarfield.prototype.$super=parent,UIStarfield.prototype.constructor=UIStarfield,StarTravelDisplayMode={fake3d:1,vertical2d:2,horizontal2d:3},define("uistarfield",function(){}),require(["uistarfield"]),UITravelScreen.prototype=new UIComponent,UITravelScreen.prototype.$super=parent,UITravelScreen.prototype.constructor=UITravelScreen,define("uitravelscreen",function(){}),function(e,t){function i(t,i){var s,a,o,r=t.nodeName.toLowerCase();return"area"===r?(s=t.parentNode,a=s.name,t.href&&a&&"map"===s.nodeName.toLowerCase()?(o=e("img[usemap=#"+a+"]")[0],!!o&&n(o)):!1):(/input|select|textarea|button|object/.test(r)?!t.disabled:"a"===r?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var s=0,a=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(i){if(i!==t)return this.css("zIndex",i);if(this.length)for(var n,s,a=e(this[0]);a.length&&a[0]!==document;){if(n=a.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(a.css("zIndex"),10),!isNaN(s)&&0!==s))return s;a=a.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){a.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(t,!s)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(i,n){function s(t,i,n,s){return e.each(a,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var a="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(i){return i===t?r["inner"+n].call(this):this.each(function(){e(this).css(o,s(this,i)+"px")})},e.fn["outer"+n]=function(t,i){return"number"!=typeof t?r["outer"+n].call(this,t):this.each(function(){e(this).css(o,s(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,i,n){var s,a=e.ui[t].prototype;for(s in n)a.plugins[s]=a.plugins[s]||[],a.plugins[s].push([i,n[s]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return t[n]>0?!0:(t[n]=1,s=t[n]>0,t[n]=0,s)}})}(jQuery),function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(o){}n(e)},t.widget=function(i,s,n){var o,a,r,h,l={},c=i.split(".")[0];i=i.split(".")[1],o=c+"-"+i,n||(n=s,s=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),h=new s,h.options=t.widget.extend({},h.options),t.each(n,function(i,n){return t.isFunction(n)?(l[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(l[i]=n,e)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:a?h.widgetEventPrefix||i:i},l,{constructor:r,namespace:c,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete a._childConstructors):s._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,h=a.length;h>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,h=s.call(arguments,1),l=this;return a=!r&&h.length?t.widget.extend.apply(null,[a].concat(h)):a,this.each(r?function(){var s,n=t.data(this,o);return n?t.isFunction(n[a])&&"_"!==a.charAt(0)?(s=n[a].apply(n,h),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")}:function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new n(a,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),1===arguments.length)return o[i]===e?null:o[i];o[i]=s}else{if(1===arguments.length)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var o,a=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,r){function h(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):e}"string"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,h):s.bind(c,h)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,a="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!a&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var a,o=Math.max,r=Math.abs,l=Math.round,h=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(a!==e)return a;var i,s,n=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=n.children()[0];return t("body").append(n),i=o.offsetWidth,n.css("overflow","scroll"),s=o.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),a=i-s},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),s=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,a="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:a?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]),n=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:s,isDocument:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var a,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),k=t.position.getScrollInfo(y),w=(e.collision||"flip").split(" "),D={};return _=n(b),b[0].preventDefault&&(e.at="left top"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=h.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=h.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),D[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),a=i(D.at,p,g),v.left+=a[0],v.top+=a[1],this.each(function(){var n,h,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),_=s(this,"marginTop"),x=u+f+s(this,"marginRight")+k.width,C=d+_+s(this,"marginBottom")+k.height,M=t.extend({},v),T=i(D.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?M.left-=u:"center"===e.my[0]&&(M.left-=u/2),"bottom"===e.my[1]?M.top-=d:"center"===e.my[1]&&(M.top-=d/2),M.left+=T[0],M.top+=T[1],t.support.offsetFractions||(M.left=l(M.left),M.top=l(M.top)),n={marginLeft:f,marginTop:_},t.each(["left","top"],function(i,s){t.ui.position[w[i]]&&t.ui.position[w[i]][s](M,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:x,collisionHeight:C,offset:[a[0]+T[0],a[1]+T[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(h=function(t){var i=m.left-M.left,s=i+p-u,n=m.top-M.top,a=n+g-d,l={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:M.left,top:M.top,width:u,height:d},horizontal:0>s?"left":i>0?"right":"center",vertical:0>a?"top":n>0?"bottom":"middle"};u>p&&p>r(i+s)&&(l.horizontal="center"),d>g&&g>r(n+a)&&(l.vertical="middle"),l.important=o(r(i),r(s))>o(r(n),r(a))?"horizontal":"vertical",e.using.call(this,t,l)}),c.offset(t.extend(M,{using:h}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,a=s.width,r=t.left-e.collisionPosition.marginLeft,l=n-r,h=r+e.collisionWidth-a-n;e.collisionWidth>a?l>0&&0>=h?(i=t.left+l+e.collisionWidth-a-n,t.left+=l-i):t.left=h>0&&0>=l?n:l>h?n+a-e.collisionWidth:n:l>0?t.left+=l:h>0?t.left-=h:t.left=o(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,a=e.within.height,r=t.top-e.collisionPosition.marginTop,l=n-r,h=r+e.collisionHeight-a-n;e.collisionHeight>a?l>0&&0>=h?(i=t.top+l+e.collisionHeight-a-n,t.top+=l-i):t.top=h>0&&0>=l?n:l>h?n+a-e.collisionHeight:n:l>0?t.top+=l:h>0?t.top-=h:t.top=o(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,a=n.offset.left+n.scrollLeft,o=n.width,l=n.isWindow?n.scrollLeft:n.offset.left,h=t.left-e.collisionPosition.marginLeft,c=h-l,u=h+e.collisionWidth-o-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-o-a,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-l,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,a=n.offset.top+n.scrollTop,o=n.height,l=n.isWindow?n.scrollTop:n.offset.top,h=t.top-e.collisionPosition.marginTop,c=h-l,u=h+e.collisionHeight-o-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-o-a,t.top+p+f+g>c&&(0>s||r(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-l,t.top+p+f+g>u&&(i>0||u>r(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,a,o=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(o?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in s)e.style[a]=s[a];e.appendChild(r),i=o||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?"window"===n.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===n.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):n.containment.constructor===Array?void(this.containment=n.containment):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],void(s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)
},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,a,o=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,h=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(h=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(h=i[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,h=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-o.grid[1]:n+o.grid[1]:n,a=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?a-this.offset.click.left>=i[0]||a-this.offset.click.left>i[2]?a:a-this.offset.click.left>=i[0]?a-o.grid[0]:a+o.grid[0]:a)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),n=s.options,a=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,a))})},stop:function(e,i){var s=t(this).data("ui-draggable"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var s=t(this).data("ui-draggable"),n=this;t.each(s.sortables,function(){var a=!1,o=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(a=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(o.instance.element[0],this.instance.element[0])&&(a=!1),a})),a?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,n=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,a,o,r,l,h,c,u,d,p=t(this).data("ui-draggable"),g=p.options,f=g.snapTolerance,m=i.offset.left,_=m+p.helperProportions.width,v=i.offset.top,b=v+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,h=p.snapElements[u].top,c=h+p.snapElements[u].height,r-f>_||m>l+f||h-f>b||v>c+f||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==g.snapMode&&(s=f>=Math.abs(h-b),n=f>=Math.abs(c-v),a=f>=Math.abs(r-_),o=f>=Math.abs(l-m),s&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=s||n||a||o,"outer"!==g.snapMode&&(s=f>=Math.abs(h-v),n=f>=Math.abs(c-b),a=f>=Math.abs(r-m),o=f>=Math.abs(l-_),s&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||a||o||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||a||o||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,s=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(s)?s:function(t){return t.is(s)},this.proportions=function(){return arguments.length?void(e=arguments[0]):e?e:e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},t.ui.ddmanager.droppables[i.scope]=t.ui.ddmanager.droppables[i.scope]||[],t.ui.ddmanager.droppables[i.scope].push(this),i.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(n=!0,!1):void 0}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n,a,o=(t.positionAbs||t.position.absolute).left,r=(t.positionAbs||t.position.absolute).top,l=o+t.helperProportions.width,h=r+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,p=u+i.proportions().height;switch(s){case"fit":return o>=c&&d>=l&&r>=u&&p>=h;case"intersect":return o+t.helperProportions.width/2>c&&d>l-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&p>h-t.helperProportions.height/2;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,a=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(a,u,i.proportions().height)&&e(n,c,i.proportions().width);case"touch":return(r>=u&&p>=r||h>=u&&p>=h||u>r&&h>p)&&(o>=c&&d>=o||l>=c&&d>=l||c>o&&l>d);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var s,n,a=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;a.length>s;s++)if(!(a[s].options.disabled||e&&!a[s].accept.call(a[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===a[s].element[0]){a[s].proportions().height=0;continue t}a[s].visible="none"!==a[s].element.css("display"),a[s].visible&&("mousedown"===o&&a[s]._activate.call(a[s],i),a[s].offset=a[s].element.offset(),a[s].proportions({width:a[s].element[0].offsetWidth,height:a[s].element[0].offsetHeight}))}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,a,o=t.ui.intersect(e,this,this.options.tolerance),r=!o&&this.isover?"isout":o&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,a=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===n}),a.length&&(s=t.data(a[0],"ui-droppable"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,a,o=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),a="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+a+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,a;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),a=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,a),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),o._handles.show())}).mouseleave(function(){r.disabled||o.resizing||(t(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(i){var s,n,a,o=this.options,r=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),s=e(this.helper.css("left")),n=e(this.helper.css("top")),o.containment&&(s+=t(o.containment).scrollLeft()||0,n+=t(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,a=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===a?this.axis+"-resize":a),h.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,s=this.helper,n={},a=this.originalMousePosition,o=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-a.left||0,d=e.pageY-a.top||0,p=this._change[o];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==h&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,a,o,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,a=s?0:c.sizeDiff.width,o={width:c.helper.width()-a,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(o,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,n,a,o,r=this.options;o={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,s=o.maxHeight*this.aspectRatio,a=o.maxWidth/this.aspectRatio,e>o.minWidth&&(o.minWidth=e),n>o.minHeight&&(o.minHeight=n),o.maxWidth>s&&(o.maxWidth=s),o.maxHeight>a&&(o.maxHeight=a)),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,n=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(s.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,n=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,a=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,o=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return o&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),a&&(t.height=e.maxHeight),o&&c&&(t.left=h-e.minWidth),n&&c&&(t.left=h-e.maxWidth),r&&u&&(t.top=l-e.minHeight),a&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,a=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:a.height()-this.borderDif[0]-this.borderDif[2]||0,width:a.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,a=n.length&&/textarea/i.test(n[0].nodeName),o=a&&t.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=a?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,s,n,a,o,r,h,l=t(this).data("ui-resizable"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){s[t]=e(i.css("padding"+n))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=l.containerOffset,a=l.containerSize.height,o=l.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:o,h=t.ui.hasScroll(p)?p.scrollHeight:a,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}))},resize:function(e){var i,s,n,a,o=t(this).data("ui-resizable"),r=o.options,h=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(o._helper?h.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-h.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=r.helper?h.left:0),l.top<(o._helper?h.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-h.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?h.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,i=Math.abs((o._helper?o.offset.left-u.left:o.offset.left-u.left)+o.sizeDiff.width),s=Math.abs((o._helper?o.offset.top-u.top:o.offset.top-h.top)+o.sizeDiff.height),n=o.containerElement.get(0)===o.element.parent().get(0),a=/relative|absolute/.test(o.containerElement.css("position")),n&&a&&(i-=Math.abs(o.parentData.left)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,c&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,n=e.containerPosition,a=e.containerElement,o=t(e.helper),r=o.offset(),h=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(a.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),n=s.options,a=s.originalSize,o=s.originalPosition,r={height:s.size.height-a.height||0,width:s.size.width-a.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),a={},o=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(o,function(t,e){var i=(n[e]||0)+(r[e]||0);
i&&i>=0&&(a[e]=i||null)}),e.css(a)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,n=e.originalSize,a=e.originalPosition,o=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=h),v&&(p+=l),f&&(d-=h),g&&(p-=l),/^(se|s|e)$/.test(o)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.top=a.top-u):/^(sw)$/.test(o)?(e.size.width=d,e.size.height=p,e.position.left=a.left-c):(p-l>0?(e.size.height=p,e.position.top=a.top-u):(e.size.height=l,e.position.top=a.top+n.height-l),d-h>0?(e.size.width=d,e.position.left=a.left-c):(e.size.width=h,e.position.left=a.left+n.width-h))}})}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,a=this.opos[0],o=this.opos[1],r=e.pageX,l=e.pageY;return a>r&&(i=r,r=a,a=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:a,top:o,width:r-a,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),h=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?h=!(i.left>r||a>i.right||i.top>l||o>i.bottom):"fit"===n.tolerance&&(h=i.left>a&&r>i.right&&i.top>o&&l>i.bottom),h?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s&&(!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n))?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return n?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&s||"left"===o&&!s:n&&("down"===n&&i||"up"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){r.push(this)}var s,n,o,a,r=[],h=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(o=t(l[s]),n=o.length-1;n>=0;n--)a=t.data(o[n],this.widgetFullName),a&&a!==this&&!a.options.disabled&&h.push([t.isFunction(a.options.items)?a.options.items.call(a.element):t(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(h.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=h.length-1;s>=0;s--)h[s][0].each(i);return t(r)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(s){var n,o,a,r,h,l,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",s,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||i(this.currentItem),h=p?"left":"top",l=p?"width":"height",c=this.positionAbs[h]+this.offset.click[h],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[h],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][l]-c)&&(d=!0,u+=this.items[o][l]),a>Math.abs(u-c)&&(a=Math.abs(u-c),r=this.items[o],this.direction=d?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(s,r,null,!0):this._rearrange(s,null,this.containers[g].element,!0),this._trigger("change",s,this._uiHash()),this.containers[g]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)("auto"===this._storedCSS[s]||"static"===this._storedCSS[s])&&(this._storedCSS[s]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||n.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(n.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(s=0;n.length>s;s++)n[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(e){var t=0,i={},a={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show",e.widget("ui.accordion",{version:"1.10.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e(),content:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)))
},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,a=this.headers.length,s=this.headers.index(t.target),n=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:n=this.headers[(s+1)%a];break;case i.LEFT:case i.UP:n=this.headers[(s-1+a)%a];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:n=this.headers[0];break;case i.END:n=this.headers[a-1]}n&&(e(t.target).attr("tabIndex",-1),e(n).attr("tabIndex",0),n.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,a=this.options,s=a.heightStyle,n=this.element.parent(),r=this.accordionId="ui-accordion-"+(this.element.attr("id")||++t);this.active=this._findActive(a.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(t){var i=e(this),a=i.attr("id"),s=i.next(),n=s.attr("id");a||(a=r+"-header-"+t,i.attr("id",a)),n||(n=r+"-panel-"+t,s.attr("id",n)),i.attr("aria-controls",n),s.attr("aria-labelledby",a)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(a.event),"fill"===s?(i=n.height(),this.element.siblings(":visible").each(function(){var t=e(this),a=t.css("position");"absolute"!==a&&"fixed"!==a&&(i-=t.outerHeight(!0))}),this.headers.each(function(){i-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,i-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===s&&(i=0,this.headers.next().each(function(){i=Math.max(i,e(this).css("height","").height())}).height(i))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,a=this.active,s=e(t.currentTarget),n=s[0]===a[0],r=n&&i.collapsible,o=r?e():s.next(),h=a.next(),d={oldHeader:a,oldPanel:h,newHeader:r?e():s,newPanel:o};t.preventDefault(),n&&!i.collapsible||this._trigger("beforeActivate",t,d)===!1||(i.active=r?!1:this.headers.index(s),this.active=n?e():s,this._toggle(d),a.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&a.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),n||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,a=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=a,this.options.animate?this._animate(i,a,t):(a.hide(),i.show(),this._toggleComplete(t)),a.attr({"aria-hidden":"true"}),a.prev().attr("aria-selected","false"),i.length&&a.length?a.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true",tabIndex:0,"aria-expanded":"true"})},_animate:function(e,t,s){var n,r,o,h=this,d=0,c=e.length&&(!t.length||e.index()<t.index()),l=this.options.animate||{},u=c&&l.down||l,v=function(){h._toggleComplete(s)};return"number"==typeof u&&(o=u),"string"==typeof u&&(r=u),r=r||u.easing||l.easing,o=o||u.duration||l.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(i,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(a,{duration:o,easing:r,complete:v,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?d+=i.now:"content"!==h.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-d),d=0)}})):t.animate(i,o,r,v):e.animate(a,o,r,v)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),function(e){e.widget("ui.autocomplete",{version:"1.10.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,i,s,n=this.element[0].nodeName.toLowerCase(),a="textarea"===n,o="input"===n;this.isMultiLine=a?!0:o?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[a||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return t=!0,s=!0,void(i=!0);t=!1,s=!1,i=!1;var a=e.ui.keyCode;switch(n.keyCode){case a.PAGE_UP:t=!0,this._move("previousPage",n);break;case a.PAGE_DOWN:t=!0,this._move("nextPage",n);break;case a.UP:t=!0,this._keyEvent("previous",n);break;case a.DOWN:t=!0,this._keyEvent("next",n);break;case a.ENTER:case a.NUMPAD_ENTER:this.menu.active&&(t=!0,n.preventDefault(),this.menu.select(n));break;case a.TAB:this.menu.active&&this.menu.select(n);break;case a.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault());if(!i){var n=e.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){return s?(s=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(s){s.target===t.element[0]||s.target===i||e.contains(i,s.target)||t.close()})})},menufocus:function(t,i){if(this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)});var s=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",t,{item:s})?t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,i,s=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(i,s){s(e.ui.autocomplete.filter(t,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(t,n){s.xhr&&s.xhr.abort(),s.xhr=e.ajax({url:i,data:t,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({label:t.label||t.value,value:t.value||t.label},t)})},_suggest:function(t){var i=this.menu.element.empty();this._renderMenu(i,t),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,i){var s=this;e.each(i,function(e,i){s._renderItemData(t,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,i){return e("<li>").append(e("<a>").text(i.label)).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,i){var s=RegExp(e.ui.autocomplete.escapeRegex(i),"i");return e.grep(t,function(e){return s.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(e){var t,i="ui-button ui-widget ui-state-default ui-corner-all",n="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",s=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},a=function(t){var i=t.name,n=t.form,s=e([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?e(n).find("[name='"+i+"']"):e("[name='"+i+"']",t.ownerDocument).filter(function(){return!this.form})),s};e.widget("ui.button",{version:"1.10.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,s),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var n=this,o=this.options,r="checkbox"===this.type||"radio"===this.type,h=r?"":"ui-state-active";null===o.label&&(o.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){o.disabled||this===t&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){o.disabled||e(this).removeClass(h)}).bind("click"+this.eventNamespace,function(e){o.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),r&&this.element.bind("change"+this.eventNamespace,function(){n.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return o.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(o.disabled)return!1;e(this).addClass("ui-state-active"),n.buttonElement.attr("aria-pressed","true");var t=n.element[0];a(t).not(t).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return o.disabled?!1:(e(this).addClass("ui-state-active"),t=this,void n.document.one("mouseup",function(){t=null}))}).bind("mouseup"+this.eventNamespace,function(){return o.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return o.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",o.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(i+" ui-state-active "+n).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.element.prop("disabled",!!t),void(t&&this.buttonElement.removeClass("ui-state-focus"))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?a(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(n),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),s=this.options.icons,a=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(a?"s":s.primary?"-primary":"-secondary")),s.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(o.push(a?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.10.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(e,t){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.dpDiv=a(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function a(t){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(i,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){e.datepicker._isDisabledDatepicker(n.inline?t.parent()[0]:n.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))})}function s(t,i){e.extend(t,i);for(var a in i)null==i[a]&&(t[a]=i[a]);return t}e.extend(e.ui,{datepicker:{version:"1.10.4"}});var n,r="datepicker";e.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,i){var a,s,n;a=t.nodeName.toLowerCase(),s="div"===a||"span"===a,t.id||(this.uuid+=1,t.id="dp"+this.uuid),n=this._newInst(e(t),s),n.settings=e.extend({},i||{}),"input"===a?this._connectDatepicker(t,n):s&&this._inlineDatepicker(t,n)},_newInst:function(t,i){var s=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?a(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,i){var a=e(t);i.append=e([]),i.trigger=e([]),a.hasClass(this.markerClassName)||(this._attachments(a,i),a.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),e.data(t,r,i),i.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,i){var a,s,n,r=this._get(i,"appendText"),o=this._get(i,"isRTL");i.append&&i.append.remove(),r&&(i.append=e("<span class='"+this._appendClass+"'>"+r+"</span>"),t[o?"before":"after"](i.append)),t.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),a=this._get(i,"showOn"),("focus"===a||"both"===a)&&t.focus(this._showDatepicker),("button"===a||"both"===a)&&(s=this._get(i,"buttonText"),n=this._get(i,"buttonImage"),i.trigger=e(this._get(i,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:n,alt:s,title:s}):e("<button type='button'></button>").addClass(this._triggerClass).html(n?e("<img/>").attr({src:n,alt:s,title:s}):s)),t[o?"before":"after"](i.trigger),i.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,a,s,n=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(i=0,a=0,s=0;e.length>s;s++)e[s].length>i&&(i=e[s].length,a=s);return a},n.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),n.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-n.getDay())),e.input.attr("size",this._formatDate(e,n).length)}},_inlineDatepicker:function(t,i){var a=e(t);a.hasClass(this.markerClassName)||(a.addClass(this.markerClassName).append(i.dpDiv),e.data(t,r,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(t),i.dpDiv.css("display","block"))},_dialogDatepicker:function(t,i,a,n,o){var u,c,h,l,d,p=this._dialogInst;return p||(this.uuid+=1,u="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+u+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},e.data(this._dialogInput[0],r,p)),s(p.settings,n||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(c=document.documentElement.clientWidth,h=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+l,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=a,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],r,p),this},_destroyDatepicker:function(t){var i,a=e(t),s=e.data(t,r);a.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),e.removeData(t,r),"input"===i?(s.append.remove(),s.trigger.remove(),a.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&a.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().removeClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var i,a,s=e(t),n=e.data(t,r);s.hasClass(this.markerClassName)&&(i=t.nodeName.toLowerCase(),"input"===i?(t.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(a=s.children("."+this._inlineClass),a.children().addClass("ui-state-disabled"),a.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,r)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,a,n){var r,o,u,c,h=this._getInst(i);return 2===arguments.length&&"string"==typeof a?"defaults"===a?e.extend({},e.datepicker._defaults):h?"all"===a?e.extend({},h.settings):this._get(h,a):null:(r=a||{},"string"==typeof a&&(r={},r[a]=n),h&&(this._curInst===h&&this._hideDatepicker(),o=this._getDateDatepicker(i,!0),u=this._getMinMaxDate(h,"min"),c=this._getMinMaxDate(h,"max"),s(h.settings,r),null!==u&&r.dateFormat!==t&&r.minDate===t&&(h.settings.minDate=this._formatDate(h,u)),null!==c&&r.dateFormat!==t&&r.maxDate===t&&(h.settings.maxDate=this._formatDate(h,c)),"disabled"in r&&(r.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(e(i),h),this._autoSize(h),this._setDate(h,o),this._updateAlternate(h),this._updateDatepicker(h)),t)},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(t){var i,a,s,n=e.datepicker._getInst(t.target),r=!0,o=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),r=!1;break;case 13:return s=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",n.dpDiv),s[0]&&e.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,s[0]),i=e.datepicker._get(n,"onSelect"),i?(a=e.datepicker._formatDate(n),i.apply(n.input?n.input[0]:null,[a,n])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),r=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),r=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(n,"stepBigMonths"):-e.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),r=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),r=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(n,"stepBigMonths"):+e.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),r=t.ctrlKey||t.metaKey;break;default:r=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):r=!1;r&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(i){var a,s,n=e.datepicker._getInst(i.target);return e.datepicker._get(n,"constrainInput")?(a=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),s=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">s||!a||a.indexOf(s)>-1):t},_doKeyUp:function(t){var i,a=e.datepicker._getInst(t.target);if(a.input.val()!==a.lastVal)try{i=e.datepicker.parseDate(e.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,e.datepicker._getFormatConfig(a)),i&&(e.datepicker._setDateFromField(a),e.datepicker._updateAlternate(a),e.datepicker._updateDatepicker(a))
}catch(s){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var i,a,n,r,o,u,c;i=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),a=e.datepicker._get(i,"beforeShow"),n=a?a.apply(t,[t,i]):{},n!==!1&&(s(i.settings,n),i.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),r=!1,e(t).parents().each(function(){return r|="fixed"===e(this).css("position"),!r}),o={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),o=e.datepicker._checkOffset(i,o,r),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(u=e.datepicker._get(i,"showAnim"),c=e.datepicker._get(i,"duration"),i.dpDiv.zIndex(e(t).zIndex()+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?i.dpDiv.show(u,e.datepicker._get(i,"showOptions"),c):i.dpDiv[u||"show"](u?c:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,n=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,a=this._getNumberOfMonths(t),s=a[1],r=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&t.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",r*s+"em"),t.dpDiv[(1!==a[0]||1!==a[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(i=t.yearshtml,setTimeout(function(){i===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),i=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,i,a){var s=t.dpDiv.outerWidth(),n=t.dpDiv.outerHeight(),r=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,u=document.documentElement.clientWidth+(a?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(a?0:e(document).scrollTop());return i.left-=this._get(t,"isRTL")?s-r:0,i.left-=a&&i.left===t.input.offset().left?e(document).scrollLeft():0,i.top-=a&&i.top===t.input.offset().top+o?e(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>u&&u>s?Math.abs(i.left+s-u):0),i.top-=Math.min(i.top,i.top+n>c&&c>n?Math.abs(n+o):0),i},_findPos:function(t){for(var i,a=this._getInst(t),s=this._get(a,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[s?"previousSibling":"nextSibling"];return i=e(t).offset(),[i.left,i.top]},_hideDatepicker:function(t){var i,a,s,n,o=this._curInst;!o||t&&o!==e.data(t,r)||this._datepickerShowing&&(i=this._get(o,"showAnim"),a=this._get(o,"duration"),s=function(){e.datepicker._tidyDialog(o)},e.effects&&(e.effects.effect[i]||e.effects[i])?o.dpDiv.hide(i,e.datepicker._get(o,"showOptions"),a,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?a:null,s),i||s(),this._datepickerShowing=!1,n=this._get(o,"onClose"),n&&n.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var i=e(t.target),a=e.datepicker._getInst(i[0]);(i[0].id!==e.datepicker._mainDivId&&0===i.parents("#"+e.datepicker._mainDivId).length&&!i.hasClass(e.datepicker.markerClassName)&&!i.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||i.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==a)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,i,a){var s=e(t),n=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(n,i+("M"===a?this._get(n,"showCurrentAtPos"):0),a),this._updateDatepicker(n))},_gotoToday:function(t){var i,a=e(t),s=this._getInst(a[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(a)},_selectMonthYear:function(t,i,a){var s=e(t),n=this._getInst(s[0]);n["selected"+("M"===a?"Month":"Year")]=n["draw"+("M"===a?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(n),this._adjustDate(s)},_selectDay:function(t,i,a,s){var n,r=e(t);e(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(r[0])||(n=this._getInst(r[0]),n.selectedDay=n.currentDay=e("a",s).html(),n.selectedMonth=n.currentMonth=i,n.selectedYear=n.currentYear=a,this._selectDate(t,this._formatDate(n,n.currentDay,n.currentMonth,n.currentYear)))},_clearDate:function(t){var i=e(t);this._selectDate(i,"")},_selectDate:function(t,i){var a,s=e(t),n=this._getInst(s[0]);i=null!=i?i:this._formatDate(n),n.input&&n.input.val(i),this._updateAlternate(n),a=this._get(n,"onSelect"),a?a.apply(n.input?n.input[0]:null,[i,n]):n.input&&n.input.trigger("change"),n.inline?this._updateDatepicker(n):(this._hideDatepicker(),this._lastInput=n.input[0],"object"!=typeof n.input[0]&&n.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var i,a,s,n=this._get(t,"altField");n&&(i=this._get(t,"altFormat")||this._get(t,"dateFormat"),a=this._getDate(t),s=this.formatDate(i,a,this._getFormatConfig(t)),e(n).each(function(){e(this).val(s)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,a,s){if(null==i||null==a)throw"Invalid arguments";if(a="object"==typeof a?""+a:a+"",""===a)return null;var n,r,o,u,c=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,l="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,g=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,f=-1,_=-1,v=-1,k=-1,y=!1,b=function(e){var t=i.length>n+1&&i.charAt(n+1)===e;return t&&n++,t},D=function(e){var t=b(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,s=RegExp("^\\d{1,"+i+"}"),n=a.substring(c).match(s);if(!n)throw"Missing number at position "+c;return c+=n[0].length,parseInt(n[0],10)},w=function(i,s,n){var r=-1,o=e.map(b(i)?n:s,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(o,function(e,i){var s=i[1];return a.substr(c,s.length).toLowerCase()===s.toLowerCase()?(r=i[0],c+=s.length,!1):t}),-1!==r)return r+1;throw"Unknown name at position "+c},M=function(){if(a.charAt(c)!==i.charAt(n))throw"Unexpected literal at position "+c;c++};for(n=0;i.length>n;n++)if(y)"'"!==i.charAt(n)||b("'")?M():y=!1;else switch(i.charAt(n)){case"d":v=D("d");break;case"D":w("D",d,p);break;case"o":k=D("o");break;case"m":_=D("m");break;case"M":_=w("M",g,m);break;case"y":f=D("y");break;case"@":u=new Date(D("@")),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"!":u=new Date((D("!")-this._ticksTo1970)/1e4),f=u.getFullYear(),_=u.getMonth()+1,v=u.getDate();break;case"'":b("'")?M():y=!0;break;default:M()}if(a.length>c&&(o=a.substr(c),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===f?f=(new Date).getFullYear():100>f&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(l>=f?0:-100)),k>-1)for(_=1,v=k;r=this._getDaysInMonth(f,_-1),!(r>=v);)_++,v-=r;if(u=this._daylightSavingAdjust(new Date(f,_-1,v)),u.getFullYear()!==f||u.getMonth()+1!==_||u.getDate()!==v)throw"Invalid date";return u},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,i){if(!t)return"";var a,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,n=(i?i.dayNames:null)||this._defaults.dayNames,r=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,o=(i?i.monthNames:null)||this._defaults.monthNames,u=function(t){var i=e.length>a+1&&e.charAt(a+1)===t;return i&&a++,i},c=function(e,t,i){var a=""+t;if(u(e))for(;i>a.length;)a="0"+a;return a},h=function(e,t,i,a){return u(e)?a[t]:i[t]},l="",d=!1;if(t)for(a=0;e.length>a;a++)if(d)"'"!==e.charAt(a)||u("'")?l+=e.charAt(a):d=!1;else switch(e.charAt(a)){case"d":l+=c("d",t.getDate(),2);break;case"D":l+=h("D",t.getDay(),s,n);break;case"o":l+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":l+=c("m",t.getMonth()+1,2);break;case"M":l+=h("M",t.getMonth(),r,o);break;case"y":l+=u("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":l+=t.getTime();break;case"!":l+=1e4*t.getTime()+this._ticksTo1970;break;case"'":u("'")?l+="'":d=!0;break;default:l+=e.charAt(a)}return l},_possibleChars:function(e){var t,i="",a=!1,s=function(i){var a=e.length>t+1&&e.charAt(t+1)===i;return a&&t++,a};for(t=0;e.length>t;t++)if(a)"'"!==e.charAt(t)||s("'")?i+=e.charAt(t):a=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":a=!0;break;default:i+=e.charAt(t)}return i},_get:function(e,i){return e.settings[i]!==t?e.settings[i]:this._defaults[i]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),a=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),n=s,r=this._getFormatConfig(e);try{n=this.parseDate(i,a,r)||s}catch(o){a=t?"":a}e.selectedDay=n.getDate(),e.drawMonth=e.selectedMonth=n.getMonth(),e.drawYear=e.selectedYear=n.getFullYear(),e.currentDay=a?n.getDate():0,e.currentMonth=a?n.getMonth():0,e.currentYear=a?n.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,i,a){var s=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=function(i){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),i,e.datepicker._getFormatConfig(t))}catch(a){}for(var s=(i.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=s.getFullYear(),r=s.getMonth(),o=s.getDate(),u=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=u.exec(i);c;){switch(c[2]||"d"){case"d":case"D":o+=parseInt(c[1],10);break;case"w":case"W":o+=7*parseInt(c[1],10);break;case"m":case"M":r+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(c[1],10),o=Math.min(o,e.datepicker._getDaysInMonth(n,r))}c=u.exec(i)}return new Date(n,r,o)},r=null==i||""===i?a:"string"==typeof i?n(i):"number"==typeof i?isNaN(i)?a:s(i):new Date(i.getTime());return r=r&&"Invalid Date"==""+r?a:r,r&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var a=!t,s=e.selectedMonth,n=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&n===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(a?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var i=this._get(t,"stepMonths"),a="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(a,-i,"M")},next:function(){e.datepicker._adjustDate(a,+i,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(a)},selectDay:function(){return e.datepicker._selectDay(a,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(a,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(a,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,a,s,n,r,o,u,c,h,l,d,p,g,m,f,_,v,k,y,b,D,w,M,C,x,I,N,T,A,E,S,Y,F,P,O,j,K,R,H=new Date,W=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),L=this._get(e,"isRTL"),U=this._get(e,"showButtonPanel"),B=this._get(e,"hideIfNoPrevNext"),z=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),G=this._get(e,"showCurrentAtPos"),J=this._get(e,"stepMonths"),Q=1!==q[0]||1!==q[1],V=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),$=this._getMinMaxDate(e,"min"),X=this._getMinMaxDate(e,"max"),Z=e.drawMonth-G,et=e.drawYear;if(0>Z&&(Z+=12,et--),X)for(t=this._daylightSavingAdjust(new Date(X.getFullYear(),X.getMonth()-q[0]*q[1]+1,X.getDate())),t=$&&$>t?$:t;this._daylightSavingAdjust(new Date(et,Z,1))>t;)Z--,0>Z&&(Z=11,et--);for(e.drawMonth=Z,e.drawYear=et,i=this._get(e,"prevText"),i=z?this.formatDate(i,this._daylightSavingAdjust(new Date(et,Z-J,1)),this._getFormatConfig(e)):i,a=this._canAdjustMonth(e,-1,et,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>":B?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=z?this.formatDate(s,this._daylightSavingAdjust(new Date(et,Z+J,1)),this._getFormatConfig(e)):s,n=this._canAdjustMonth(e,1,et,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>":B?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(L?"w":"e")+"'>"+s+"</span></a>",r=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?V:W,r=z?this.formatDate(r,o,this._getFormatConfig(e)):r,u=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=U?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(L?u:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(L?"":u)+"</div>":"",h=parseInt(this._get(e,"firstDay"),10),h=isNaN(h)?0:h,l=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),g=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),f=this._get(e,"beforeShowDay"),_=this._get(e,"showOtherMonths"),v=this._get(e,"selectOtherMonths"),k=this._getDefaultDate(e),y="",D=0;q[0]>D;D++){for(w="",this.maxRows=4,M=0;q[1]>M;M++){if(C=this._daylightSavingAdjust(new Date(et,Z,e.selectedDay)),x=" ui-corner-all",I="",Q){if(I+="<div class='ui-datepicker-group",q[1]>1)switch(M){case 0:I+=" ui-datepicker-group-first",x=" ui-corner-"+(L?"right":"left");break;case q[1]-1:I+=" ui-datepicker-group-last",x=" ui-corner-"+(L?"left":"right");break;default:I+=" ui-datepicker-group-middle",x=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===D?L?n:a:"")+(/all|right/.test(x)&&0===D?L?a:n:"")+this._generateMonthYearHeader(e,Z,et,$,X,D>0||M>0,g,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",N=l?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",b=0;7>b;b++)T=(b+h)%7,N+="<th"+((b+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[T]+"'>"+p[T]+"</span></th>";for(I+=N+"</tr></thead><tbody>",A=this._getDaysInMonth(et,Z),et===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),E=(this._getFirstDayOfMonth(et,Z)-h+7)%7,S=Math.ceil((E+A)/7),Y=Q&&this.maxRows>S?this.maxRows:S,this.maxRows=Y,F=this._daylightSavingAdjust(new Date(et,Z,1-E)),P=0;Y>P;P++){for(I+="<tr>",O=l?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(F)+"</td>":"",b=0;7>b;b++)j=f?f.apply(e.input?e.input[0]:null,[F]):[!0,""],K=F.getMonth()!==Z,R=K&&!v||!j[0]||$&&$>F||X&&F>X,O+="<td class='"+((b+h+6)%7>=5?" ui-datepicker-week-end":"")+(K?" ui-datepicker-other-month":"")+(F.getTime()===C.getTime()&&Z===e.selectedMonth&&e._keyEvent||k.getTime()===F.getTime()&&k.getTime()===C.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(K&&!_?"":" "+j[1]+(F.getTime()===V.getTime()?" "+this._currentClass:"")+(F.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(K&&!_||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+F.getMonth()+"' data-year='"+F.getFullYear()+"'")+">"+(K&&!_?"&#xa0;":R?"<span class='ui-state-default'>"+F.getDate()+"</span>":"<a class='ui-state-default"+(F.getTime()===W.getTime()?" ui-state-highlight":"")+(F.getTime()===V.getTime()?" ui-state-active":"")+(K?" ui-priority-secondary":"")+"' href='#'>"+F.getDate()+"</a>")+"</td>",F.setDate(F.getDate()+1),F=this._daylightSavingAdjust(F);I+=O+"</tr>"}Z++,Z>11&&(Z=0,et++),I+="</tbody></table>"+(Q?"</div>"+(q[0]>0&&M===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),w+=I}y+=w}return y+=c,e._keyEvent=!1,y},_generateMonthYearHeader:function(e,t,i,a,s,n,r,o){var u,c,h,l,d,p,g,m,f=this._get(e,"changeMonth"),_=this._get(e,"changeYear"),v=this._get(e,"showMonthAfterYear"),k="<div class='ui-datepicker-title'>",y="";if(n||!f)y+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(u=a&&a.getFullYear()===i,c=s&&s.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!u||h>=a.getMonth())&&(!c||s.getMonth()>=h)&&(y+="<option value='"+h+"'"+(h===t?" selected='selected'":"")+">"+o[h]+"</option>");y+="</select>"}if(v||(k+=y+(!n&&f&&_?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",n||!_)k+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(l=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t},g=p(l[0]),m=Math.max(g,p(l[1]||"")),g=a?Math.max(g,a.getFullYear()):g,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=g;g++)e.yearshtml+="<option value='"+g+"'"+(g===i?" selected='selected'":"")+">"+g+"</option>";e.yearshtml+="</select>",k+=e.yearshtml,e.yearshtml=null}return k+=this._get(e,"yearSuffix"),v&&(k+=(!n&&f&&_?"":"&#xa0;")+y),k+="</div>"},_adjustInstDate:function(e,t,i){var a=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),n=Math.min(e.selectedDay,this._getDaysInMonth(a,s))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(a,s,n)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),a=this._getMinMaxDate(e,"max"),s=i&&i>t?i:t;return a&&s>a?a:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,a){var s=this._getNumberOfMonths(e),n=this._daylightSavingAdjust(new Date(i,a+(0>t?t:s[0]*s[1]),1));return 0>t&&n.setDate(this._getDaysInMonth(n.getFullYear(),n.getMonth())),this._isInRange(e,n)},_isInRange:function(e,t){var i,a,s=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),r=null,o=null,u=this._get(e,"yearRange");return u&&(i=u.split(":"),a=(new Date).getFullYear(),r=parseInt(i[0],10),o=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=a),i[1].match(/[+\-].*/)&&(o+=a)),(!s||t.getTime()>=s.getTime())&&(!n||t.getTime()<=n.getTime())&&(!r||t.getFullYear()>=r)&&(!o||o>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,a){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(a,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(i)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(i))},e.datepicker=new i,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.10.4"}(jQuery),function(e){var t={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};e.widget("ui.dialog",{version:"1.10.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var i=e(this).css(t).offset().top;0>i&&e(this).css("top",t.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var i,a=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._destroyOverlay(),!this.opener.filter(":focusable").focus().length)try{i=this.document[0].activeElement,i&&"body"!==i.nodeName.toLowerCase()&&e(i).blur()}catch(s){}this._hide(this.uiDialog,this.options.hide,function(){a._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function i(){var t=this.document[0].activeElement,i=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);i||this._focusTabbable()}t.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),a=i.filter(":first"),s=i.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==a[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(s.focus(1),t.preventDefault()):(a.focus(1),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(i)||e.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(i,function(i,a){var s,n;a=e.isFunction(a)?{click:a,text:i}:a,a=e.extend({type:"button"},a),s=a.click,a.click=function(){s.apply(t.element[0],arguments)},n={icons:a.icons,text:a.showText},delete a.icons,delete a.showText,e("<button></button>",a).button(n).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var i=this,a=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(a,s){e(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",a,t(s))},drag:function(e,a){i._trigger("drag",e,t(a))},stop:function(s,n){a.position=[n.position.left-i.document.scrollLeft(),n.position.top-i.document.scrollTop()],e(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,t(n))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var i=this,a=this.options,s=a.resizable,n=this.uiDialog.css("position"),r="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:r,start:function(a,s){e(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",a,t(s))},resize:function(e,a){i._trigger("resize",e,t(a))},stop:function(s,n){a.height=e(this).height(),a.width=e(this).width(),e(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,t(n))}}).css("position",n)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(a){var s=this,n=!1,r={};e.each(a,function(e,a){s._setOption(e,a),e in t&&(n=!0),e in i&&(r[e]=a)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var i,a,s=this.uiDialog;"dialogClass"===e&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(i=s.is(":data(ui-draggable)"),i&&!t&&s.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(a=s.is(":data(ui-resizable)"),a&&!t&&s.resizable("destroy"),a&&"string"==typeof t&&s.resizable("option","handles",t),a||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
},_size:function(){var e,t,i,a=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),a.minWidth>a.width&&(a.width=a.minWidth),e=this.uiDialog.css({height:"auto",width:a.width}).outerHeight(),t=Math.max(0,a.minHeight-e),i="number"==typeof a.maxHeight?Math.max(0,a.maxHeight-e):"none","auto"===a.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,a.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return e(t.target).closest(".ui-dialog").length?!0:!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;e.ui.dialog.overlayInstances||this._delay(function(){e.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(a){t._allowInteraction(a)||(a.preventDefault(),e(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),e.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(e.ui.dialog.overlayInstances--,e.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),e.ui.dialog.overlayInstances=0,e.uiBackCompat!==!1&&e.widget("ui.dialog",e.ui.dialog,{_position:function(){var t,i=this.options.position,a=[],s=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(a=i.split?i.split(" "):[i[0],i[1]],1===a.length&&(a[1]=a[0]),e.each(["left","top"],function(e,t){+a[e]===a[e]&&(s[e]=a[e],a[e]=t)}),i={my:a[0]+(0>s[0]?s[0]:"+"+s[0])+" "+a[1]+(0>s[1]?s[1]:"+"+s[1]),at:a.join(" ")}),i=e.extend({},e.ui.dialog.prototype.options.position,i)):i=e.ui.dialog.prototype.options.position,t=this.uiDialog.is(":visible"),t||this.uiDialog.show(),this.uiDialog.position(i),t||this.uiDialog.hide()}})}(jQuery),function(t){t.widget("ui.menu",{version:"1.10.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&t(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,a,o,r,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,n=this.previousFilter||"",a=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),a===n?o=!0:a=n+a,r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),s=o&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(a=String.fromCharCode(e.keyCode),r=RegExp("^"+i(a),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=a,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,a,o,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(a+n):n+r>o&&this.activeMenu.scrollTop(a+n-o+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?void(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,s,n;return this.active?void(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),e)},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),a="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)o.push(a);this.handles=n.add(t(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,a,o,r,l,h,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-u.values(e));(n>i||n===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(n=i,a=t(this),o=e)}),r=this._start(e,o),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,a.addClass("ui-state-active").focus(),l=a.offset(),h=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=h?{left:0,top:0}:{left:e.pageX-l.left-a.width()/2,top:e.pageY-l.top-a.height()/2-(parseInt(a.css("borderTopWidth"),10)||0)-(parseInt(a.css("borderBottomWidth"),10)||0)+(parseInt(a.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,a;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),a=this._valueMin()+s*n,this._trimAlignValue(a)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,a;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,a=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),a!==!1&&this.values(e,i))):i!==this.value()&&(a=this._trigger("slide",t,{handle:this.handles[e],value:i}),a!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var s,n,a;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],a=0;s.length>a;a+=1)s[a]=this._trimAlignValue(n[a]),this._change(null,a);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,a,o=this.options.range,r=this.options,l=this,h=this._animateOff?!1:r.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((l.values(s)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[h?"animate":"css"](u,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===s&&l.range.stop(1,1)[h?"animate":"css"]({left:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&l.range.stop(1,1)[h?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&l.range[h?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),a=this._valueMax(),i=a!==n?100*((s-n)/(a-n)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[h?"animate":"css"](u,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[h?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[h?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[h?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,a,o,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),s=this._start(i,r),s===!1))return}switch(o=this.options.step,n=a=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:a=this._valueMin();break;case t.ui.keyCode.END:a=this._valueMax();break;case t.ui.keyCode.PAGE_UP:a=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:a=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;a=this._trimAlignValue(n+o);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;a=this._trimAlignValue(n-o)}this._slide(i,r,a)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++n}function s(t){return t=t.cloneNode(!1),t.hash.length>1&&decodeURIComponent(t.href.replace(a,""))===decodeURIComponent(location.href.replace(a,""))}var n=0,a=/#.*$/;t.widget("ui.tabs",{version:"1.10.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var i=this.options.active,s=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(s,a){return t(a).attr("aria-controls")===n?(i=s,!1):e
}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=s?!1:0)),!s&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(i){var s=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(s),a=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:a=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(n),e;case t.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n),e;default:return}i.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,a),i.ctrlKey||(s.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):e},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,i){return"active"===t?(this._activate(i),e):"disabled"===t?(this._setupDisabled(i),e):(this._super(t,i),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(i),"heightStyle"===t&&this._setupHeightStyle(i),e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var a,o,r,h=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");s(n)?(a=n.hash,o=e.element.find(e._sanitizeSelector(a))):(r=e._tabId(l),a="#"+r,o=e.element.find(a),o.length||(o=e._createPanel(r),o.insertAfter(e.panels[i-1]||e.tablist)),o.attr("aria-live","polite")),o.length&&(e.panels=e.panels.add(o)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":a.substring(1),"aria-labelledby":h}),o.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),a=n.closest("li"),o=a[0]===s[0],r=o&&i.collapsible,h=r?t():this._getPanelForTab(a),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():a,newPanel:h};e.preventDefault(),a.hasClass("ui-state-disabled")||a.hasClass("ui-tabs-loading")||this.running||o&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(a),this.active=o?t():a,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(a),e),this._toggle(e,c))},_toggle:function(e,i){function s(){a.running=!1,a._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&a.options.show?a._show(o,a.options.show,s):(o.show(),s())}var a=this,o=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),o.length&&r.length?i.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var s=this.options.disabled;s!==!1&&(i===e?s=!1:(i=this._getIndex(i),s=t.isArray(s)?t.map(s,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(s))},disable:function(i){var s=this.options.disabled;if(s!==!0){if(i===e)s=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,s))return;s=t.isArray(s)?t.merge([i],s).sort():[i]}this._setupDisabled(s)}},load:function(e,i){e=this._getIndex(e);var n=this,a=this.tabs.eq(e),o=a.find(".ui-tabs-anchor"),r=this._getPanelForTab(a),h={tab:a,panel:r};s(o[0])||(this.xhr=t.ajax(this._ajaxSettings(o,i,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(a.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),n._trigger("load",i,h)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),a.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,a){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:a},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t){function e(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")}var s=0;t.widget("ui.tooltip",{version:"1.10.4",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var s=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){t.data("ui-tooltip-open")&&n._delay(function(){e&&(e.type=o),this._open(e,t,i)})}),void(i&&this._open(e,t,i)))},_open:function(i,s,n){function o(t){l.of=t,a.is(":hidden")||a.position(l)}var a,r,h,l=t.extend({},this.options.position);if(n){if(a=this._find(s),a.length)return void a.find(".ui-tooltip-content").html(n);s.is("[title]")&&(i&&"mouseover"===i.type?s.attr("title",""):s.removeAttr("title")),a=this._tooltip(s),e(s,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):a.position(t.extend({of:s},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(l.of),clearInterval(h))},t.fx.interval)),this._trigger("open",i,{tooltip:a}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=s[0],this.close(i,!0)}},remove:function(){this._removeTooltip(a)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,s,r)}},close:function(e){var s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),i(n),o.stop(!0),this._hide(o,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+s++,n=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})}})}(jQuery),function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=h(),n=s._rgba=[];return i=i.toLowerCase(),f(l,function(t,a){var o,r=a.re.exec(i),l=r&&a.parse(r),h=a.space||"rgba";return l?(o=s[h](l),s[c[h].cache]=o[c[h].cache],n=s._rgba=o._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,a.transparent),s):a[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var a,o="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],h=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=h.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),h.fn=t.extend(h.prototype,{parse:function(n,o,r,l){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(o),o=e);var u=this,d=t.type(n),p=this._rgba=[];return o!==e&&(n=[n,o,r,l],d="array"),"string"===d?this.parse(s(n)||a._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof h?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var a=s.cache;f(s.props,function(t,e){if(!u[a]&&s.to){if("alpha"===t||null==n[t])return;u[a]=s.to(u._rgba)}u[a][e.idx]=i(n[t],e,!0)}),u[a]&&0>t.inArray(null,u[a].slice(0,3))&&(u[a][3]=1,s.from&&(u._rgba=s.from(u[a])))}),this):e},is:function(t){var i=h(t),s=!0,n=this;return f(c,function(t,a){var o,r=i[a.cache];return r&&(o=n[a.cache]||a.to&&a.to(n._rgba)||[],f(a.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===o[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=h(t),n=s._space(),a=c[n],o=0===this.alpha()?h("transparent"):this,r=o[a.cache]||a.to(o._rgba),l=r.slice();return s=s[a.cache],f(a.props,function(t,n){var a=n.idx,o=r[a],h=s[a],c=u[n.type]||{};null!==h&&(null===o?l[a]=h:(c.mod&&(h-o>c.mod/2?o+=c.mod:o-h>c.mod/2&&(o-=c.mod)),l[a]=i((h-o)*e+o,n)))}),this[n](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=h(e)._rgba;return h(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),h.fn.parse.prototype=h.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,a=t[2]/255,o=t[3],r=Math.max(s,n,a),l=Math.min(s,n,a),h=r-l,c=r+l,u=.5*c;return e=l===r?0:s===r?60*(n-a)/h+360:n===r?60*(a-s)/h+120:60*(s-n)/h+240,i=0===h?0:.5>=u?h/c:h/(2-c),[Math.round(e)%360,i,u,null==o?1:o]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],a=t[3],o=.5>=s?s*(1+i):s+i-s*i,r=2*s-o;return[Math.round(255*n(r,o,e+1/3)),Math.round(255*n(r,o,e)),Math.round(255*n(r,o,e-1/3)),a]},f(c,function(s,n){var a=n.props,o=n.cache,l=n.to,c=n.from;h.fn[s]=function(s){if(l&&!this[o]&&(this[o]=l(this._rgba)),s===e)return this[o].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[o].slice();return f(a,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=h(c(d)),n[o]=d,n):h(d)},f(a,function(e,i){h.fn[e]||(h.fn[e]=function(n){var a,o=t.type(n),l="alpha"===e?this._hsla?"hsla":"rgba":s,h=this[l](),c=h[i.idx];return"undefined"===o?c:("function"===o&&(n=n.call(this,c),o=t.type(n)),null==n&&i.empty?this:("string"===o&&(a=r.exec(n),a&&(n=c+parseFloat(a[2])*("+"===a[1]?1:-1))),h[i.idx]=n,this[l](h)))})})}),h.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var a,o,r="";if("transparent"!==n&&("string"!==t.type(n)||(a=s(n)))){if(n=h(a||n),!d.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&o&&o.style;)try{r=t.css(o,"backgroundColor"),o=o.parentNode}catch(l){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=h(e.elem,i),e.end=h(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},h.hook(o),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},a=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,a={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(a[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(a[i]=n[i]);return a}function s(e,i){var s,n,o={};for(s in i)n=i[s],e[s]!==n&&(a[s]||(t.fx.step[s]||!isNaN(parseFloat(n)))&&(o[s]=n));return o}var n=["add","remove","toggle"],a={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,a,o,r){var l=t.speed(a,o,r);return this.queue(function(){var a,o=t(this),r=o.attr("class")||"",h=l.children?o.find("*").addBack():o;h=h.map(function(){var e=t(this);return{el:e,start:i(this)}}),a=function(){t.each(n,function(t,i){e[i]&&o[i+"Class"](e[i])})},a(),h=h.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),o.attr("class",r),h=h.map(function(){var e=this,i=t.Deferred(),s=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,h.get()).done(function(){a(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,a){return s?t.effects.animateClass.call(this,{add:i},s,n,a):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,a){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,a):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(s,n,a,o,r){return"boolean"==typeof n||n===e?a?t.effects.animateClass.call(this,n?{add:s}:{remove:s},a,o,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:s},n,a,o)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,a){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,a)}})}(),function(){function s(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.4",save:function(t,e){for(var s=0;e.length>s;s++)null!==e[s]&&t.data(i+e[s],t[0].style[e[s]])},restore:function(t,s){var n,a;for(a=0;s.length>a;a++)null!==s[a]&&(n=t.data(i+s[a]),n===e&&(n=""),t.css(s[a],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},a=document.activeElement;try{a.id}catch(o){a=document.body}return e.wrap(s),(e[0]===a||t.contains(e[0],a))&&t(a).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var a=e.cssUnit(i);a[0]>0&&(n[i]=a[0]*s+a[1])}),n}}),t.fn.extend({effect:function(){function e(e){function s(){t.isFunction(a)&&a.call(n[0]),t.isFunction(e)&&e()}var n=t(this),a=i.complete,r=i.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),s()):o.call(n[0],i,s)}var i=s.apply(this,arguments),n=i.mode,a=i.queue,o=t.effects.effect[i.effect];return t.fx.off||!o?n?this[n](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):a===!1?this.each(e):this.queue(a||"fx",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(s,n){var a,o,r,l=t(this),h=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(l,s.mode||"hide"),u=s.direction||"up",d=e.test(u),p=d?"height":"width",f=d?"top":"left",g=i.test(u),m={},v="show"===c;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),h):t.effects.save(l,h),l.show(),a=t.effects.createWrapper(l).css({overflow:"hidden"}),o=a[p](),r=parseFloat(a.css(f))||0,m[p]=v?o:0,g||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[f]=v?r:o+r),v&&(a.css(p,0),g||a.css(f,r+o)),a.animate(m,{duration:s.duration,easing:s.easing,queue:!1,complete:function(){"hide"===c&&l.hide(),t.effects.restore(l,h),t.effects.removeWrapper(l),n()}})}}(jQuery),function(t){t.effects.effect.bounce=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"effect"),h="hide"===l,c="show"===l,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||h?1:0),g=e.duration/f,m=e.easing,v="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,b=o.queue(),y=b.length;for((c||h)&&r.push("opacity"),t.effects.save(o,r),o.show(),t.effects.createWrapper(o),d||(d=o["top"===v?"outerHeight":"outerWidth"]()/3),c&&(a={opacity:1},a[v]=0,o.css("opacity",0).css(v,_?2*-d:2*d).animate(a,g,m)),h&&(d/=Math.pow(2,p-1)),a={},a[v]=0,s=0;p>s;s++)n={},n[v]=(_?"-=":"+=")+d,o.animate(n,g,m).animate(a,g,m),d=h?2*d:d/2;h&&(n={opacity:0},n[v]=(_?"-=":"+=")+d,o.animate(n,g,m)),o.queue(function(){h&&o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),o.dequeue()}}(jQuery),function(t){t.effects.effect.clip=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(o,e.mode||"hide"),h="show"===l,c=e.direction||"vertical",u="vertical"===c,d=u?"height":"width",p=u?"top":"left",f={};t.effects.save(o,r),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n="IMG"===o[0].tagName?s:o,a=n[d](),h&&(n.css(d,0),n.css(p,a/2)),f[d]=h?a:0,f[p]=h?0:a/2,n.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){h||o.hide(),t.effects.restore(o,r),t.effects.removeWrapper(o),i()}})}}(jQuery),function(t){t.effects.effect.drop=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","opacity","height","width"],o=t.effects.setMode(n,e.mode||"hide"),r="show"===o,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",u={opacity:r?1:0};t.effects.save(n,a),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(h,"pos"===c?-s:s),u[h]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}})}}(jQuery),function(t){t.effects.effect.explode=function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),g||p.hide(),i()}var a,o,r,l,h,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/u),b=[];for(a=0;u>a;a++)for(l=m.top+a*_,c=a-(u-1)/2,o=0;d>o;o++)r=m.left+o*v,h=o-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*v,top:-a*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(g?h*v:0),top:l+(g?c*_:0),opacity:g?0:1}).animate({left:r+(g?0:h*v),top:l+(g?0:c*_),opacity:g?1:0},e.duration||500,e.easing,s)}}(jQuery),function(t){t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t){t.effects.effect.fold=function(e,i){var s,n,a=t(this),o=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(a,e.mode||"hide"),l="show"===r,h="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(a,o),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],u&&(c=parseInt(u[1],10)/100*n[h?0:1]),l&&s.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=l?n[0]:c,v[f[1]]=l?n[1]:0,s.animate(m,g,e.easing).animate(v,g,e.easing,function(){h&&a.hide(),t.effects.restore(a,o),t.effects.removeWrapper(a),i()
})}}(jQuery),function(t){t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],a=t.effects.setMode(s,e.mode||"show"),o={backgroundColor:s.css("backgroundColor")};"hide"===a&&(o.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&s.hide(),t.effects.restore(s,n),i()}})}}(jQuery),function(t){t.effects.effect.pulsate=function(e,i){var s,n=t(this),a=t.effects.setMode(n,e.mode||"show"),o="show"===a,r="hide"===a,l=o||"hide"===a,h=2*(e.times||5)+(l?1:0),c=e.duration/h,u=0,d=n.queue(),p=d.length;for((o||!n.is(":visible"))&&(n.css("opacity",0).show(),u=1),s=1;h>s;s++)n.animate({opacity:u},c,e.easing),u=1-u;n.animate({opacity:u},c,e.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,h+1))),n.dequeue()}}(jQuery),function(t){t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),a="hide"===n,o=parseInt(e.percent,10)||150,r=o/100,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:a?o:100,from:a?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),s.effect(e)},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),a=t.effects.setMode(s,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===a?0:100),r=e.direction||"both",l=e.origin,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},c={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==a&&(n.origin=l||["middle","center"],n.restore=!0),n.from=e.from||("show"===a?{height:0,width:0,outerHeight:0,outerWidth:0}:h),n.to={height:h.height*c.y,width:h.width*c.x,outerHeight:h.outerHeight*c.y,outerWidth:h.outerWidth*c.x},n.fade&&("show"===a&&(n.from.opacity=0,n.to.opacity=1),"hide"===a&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},t.effects.effect.size=function(e,i){var s,n,a,o=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],h=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(o,e.mode||"effect"),f=e.restore||"effect"!==p,g=e.scale||"both",m=e.origin||["middle","center"],v=o.css("position"),_=f?r:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&o.show(),s={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===e.mode&&"show"===p?(o.from=e.to||b,o.to=e.from||s):(o.from=e.from||("show"===p?b:s),o.to=e.to||("hide"===p?b:s)),a={from:{y:o.from.height/s.height,x:o.from.width/s.width},to:{y:o.to.height/s.height,x:o.to.width/s.width}},("box"===g||"both"===g)&&(a.from.y!==a.to.y&&(_=_.concat(u),o.from=t.effects.setTransition(o,u,a.from.y,o.from),o.to=t.effects.setTransition(o,u,a.to.y,o.to)),a.from.x!==a.to.x&&(_=_.concat(d),o.from=t.effects.setTransition(o,d,a.from.x,o.from),o.to=t.effects.setTransition(o,d,a.to.x,o.to))),("content"===g||"both"===g)&&a.from.y!==a.to.y&&(_=_.concat(c).concat(h),o.from=t.effects.setTransition(o,c,a.from.y,o.from),o.to=t.effects.setTransition(o,c,a.to.y,o.to)),t.effects.save(o,_),o.show(),t.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(n=t.effects.getBaseline(m,s),o.from.top=(s.outerHeight-o.outerHeight())*n.y,o.from.left=(s.outerWidth-o.outerWidth())*n.x,o.to.top=(s.outerHeight-o.to.outerHeight)*n.y,o.to.left=(s.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),("content"===g||"both"===g)&&(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),h=r.concat(u).concat(d),o.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,h),i.from={height:s.height*a.from.y,width:s.width*a.from.x,outerHeight:s.outerHeight*a.from.y,outerWidth:s.outerWidth*a.from.x},i.to={height:s.height*a.to.y,width:s.width*a.to.x,outerHeight:s.height*a.to.y,outerWidth:s.width*a.to.x},a.from.y!==a.to.y&&(i.from=t.effects.setTransition(i,u,a.from.y,i.from),i.to=t.effects.setTransition(i,u,a.to.y,i.to)),a.from.x!==a.to.x&&(i.from=t.effects.setTransition(i,d,a.from.x,i.from),i.to=t.effects.setTransition(i,d,a.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,h)})})),o.animate(o.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===p&&o.hide(),t.effects.restore(o,_),f||("static"===v?o.css({position:"relative",top:o.to.top,left:o.to.left}):t.each(["top","left"],function(t,e){o.css(e,function(e,i){var s=parseInt(i,10),n=t?o.to.left:o.to.top;return"auto"===i?n+"px":s+n+"px"})})),t.effects.removeWrapper(o),i()}})}}(jQuery),function(t){t.effects.effect.shake=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","height","width"],o=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",l=e.distance||20,h=e.times||3,c=2*h+1,u=Math.round(e.duration/c),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},g={},m={},v=n.queue(),_=v.length;for(t.effects.save(n,a),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+l,g[d]=(p?"+=":"-=")+2*l,m[d]=(p?"-=":"+=")+2*l,n.animate(f,u,e.easing),s=1;h>s;s++)n.animate(g,u,e.easing).animate(m,u,e.easing);n.animate(g,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,c+1))),n.dequeue()}}(jQuery),function(t){t.effects.effect.slide=function(e,i){var s,n=t(this),a=["position","top","bottom","left","right","width","height"],o=t.effects.setMode(n,e.mode||"show"),r="show"===o,l=e.direction||"left",h="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,u={};t.effects.save(n,a),n.show(),s=e.distance||n["top"===h?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(h,c?isNaN(s)?"-"+s:-s:s),u[h]=(r?c?"+=":"-=":c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,a),t.effects.removeWrapper(n),i()}})}}(jQuery),function(t){t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),a="fixed"===n.css("position"),o=t("body"),r=a?o.scrollTop():0,l=a?o.scrollLeft():0,h=n.offset(),c={top:h.top-r,left:h.left-l,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-l,height:s.innerHeight(),width:s.innerWidth(),position:a?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})}}(jQuery),define("jqueryui",function(){}),require(["jquery","jqueryui","jgrowl"]),!function(a){var b=function(){return!1===a.support.boxModel&&a.support.objectAll&&a.support.leadingWhitespace}();a.jGrowl=function(b,c){0===a("#jGrowl").size()&&a('<div id="jGrowl"></div>').addClass(c&&c.position?c.position:a.jGrowl.defaults.position).appendTo("body"),a("#jGrowl").jGrowl(b,c)},a.fn.jGrowl=function(b,c){if(a.isFunction(this.each)){var d=arguments;return this.each(function(){void 0===a(this).data("jGrowl.instance")&&(a(this).data("jGrowl.instance",a.extend(new a.fn.jGrowl,{notifications:[],element:null,interval:null})),a(this).data("jGrowl.instance").startup(this)),a.isFunction(a(this).data("jGrowl.instance")[b])?a(this).data("jGrowl.instance")[b].apply(a(this).data("jGrowl.instance"),a.makeArray(d).slice(1)):a(this).data("jGrowl.instance").create(b,c)})}},a.extend(a.fn.jGrowl.prototype,{defaults:{pool:0,header:"",group:"",sticky:!1,position:"top-right",glue:"after",theme:"default",themeState:"highlight",corners:"10px",check:250,life:3e3,closeDuration:"normal",openDuration:"normal",easing:"swing",closer:!0,closeTemplate:"&times;",closerTemplate:"<div>[ close all ]</div>",log:function(){},beforeOpen:function(){},afterOpen:function(){},open:function(){},beforeClose:function(){},close:function(){},animateOpen:{opacity:"show"},animateClose:{opacity:"hide"}},notifications:[],element:null,interval:null,create:function(b,c){var d=a.extend({},this.defaults,c);"undefined"!=typeof d.speed&&(d.openDuration=d.speed,d.closeDuration=d.speed),this.notifications.push({message:b,options:d}),d.log.apply(this.element,[this.element,b,d])},render:function(b){var c=this,d=b.message,e=b.options;e.themeState=""===e.themeState?"":"ui-state-"+e.themeState;var f=a("<div/>").addClass("jGrowl-notification "+e.themeState+" ui-corner-all"+(void 0!==e.group&&""!==e.group?" "+e.group:"")).append(a("<div/>").addClass("jGrowl-close").html(e.closeTemplate)).append(a("<div/>").addClass("jGrowl-header").html(e.header)).append(a("<div/>").addClass("jGrowl-message").html(d)).data("jGrowl",e).addClass(e.theme).children("div.jGrowl-close").bind("click.jGrowl",function(){a(this).parent().trigger("jGrowl.beforeClose")}).parent();a(f).bind("mouseover.jGrowl",function(){a("div.jGrowl-notification",c.element).data("jGrowl.pause",!0)}).bind("mouseout.jGrowl",function(){a("div.jGrowl-notification",c.element).data("jGrowl.pause",!1)}).bind("jGrowl.beforeOpen",function(){e.beforeOpen.apply(f,[f,d,e,c.element])!==!1&&a(this).trigger("jGrowl.open")}).bind("jGrowl.open",function(){e.open.apply(f,[f,d,e,c.element])!==!1&&("after"==e.glue?a("div.jGrowl-notification:last",c.element).after(f):a("div.jGrowl-notification:first",c.element).before(f),a(this).animate(e.animateOpen,e.openDuration,e.easing,function(){a.support.opacity===!1&&this.style.removeAttribute("filter"),null!==a(this).data("jGrowl")&&(a(this).data("jGrowl").created=new Date),a(this).trigger("jGrowl.afterOpen")}))}).bind("jGrowl.afterOpen",function(){e.afterOpen.apply(f,[f,d,e,c.element])}).bind("jGrowl.beforeClose",function(){e.beforeClose.apply(f,[f,d,e,c.element])!==!1&&a(this).trigger("jGrowl.close")}).bind("jGrowl.close",function(){a(this).data("jGrowl.pause",!0),a(this).animate(e.animateClose,e.closeDuration,e.easing,function(){a.isFunction(e.close)?e.close.apply(f,[f,d,e,c.element])!==!1&&a(this).remove():a(this).remove()})}).trigger("jGrowl.beforeOpen"),""!==e.corners&&void 0!==a.fn.corner&&a(f).corner(e.corners),a("div.jGrowl-notification:parent",c.element).size()>1&&0===a("div.jGrowl-closer",c.element).size()&&this.defaults.closer!==!1&&a(this.defaults.closerTemplate).addClass("jGrowl-closer "+this.defaults.themeState+" ui-corner-all").addClass(this.defaults.theme).appendTo(c.element).animate(this.defaults.animateOpen,this.defaults.speed,this.defaults.easing).bind("click.jGrowl",function(){a(this).siblings().trigger("jGrowl.beforeClose"),a.isFunction(c.defaults.closer)&&c.defaults.closer.apply(a(this).parent()[0],[a(this).parent()[0]])})},update:function(){a(this.element).find("div.jGrowl-notification:parent").each(function(){void 0!==a(this).data("jGrowl")&&void 0!==a(this).data("jGrowl").created&&a(this).data("jGrowl").created.getTime()+parseInt(a(this).data("jGrowl").life,10)<(new Date).getTime()&&a(this).data("jGrowl").sticky!==!0&&(void 0===a(this).data("jGrowl.pause")||a(this).data("jGrowl.pause")!==!0)&&a(this).trigger("jGrowl.beforeClose")}),this.notifications.length>0&&(0===this.defaults.pool||a(this.element).find("div.jGrowl-notification:parent").size()<this.defaults.pool)&&this.render(this.notifications.shift()),a(this.element).find("div.jGrowl-notification:parent").size()<2&&a(this.element).find("div.jGrowl-closer").animate(this.defaults.animateClose,this.defaults.speed,this.defaults.easing,function(){a(this).remove()})},startup:function(c){this.element=a(c).addClass("jGrowl").append('<div class="jGrowl-notification"></div>'),this.interval=setInterval(function(){a(c).data("jGrowl.instance").update()},parseInt(this.defaults.check,10)),b&&a(this.element).addClass("ie6")},shutdown:function(){a(this.element).removeClass("jGrowl").find("div.jGrowl-notification").trigger("jGrowl.close").parent().empty(),clearInterval(this.interval)},close:function(){a(this.element).find("div.jGrowl-notification").each(function(){a(this).trigger("jGrowl.beforeClose")})}}),a.jGrowl.defaults=a.fn.jGrowl.prototype.defaults}(jQuery),define("jgrowl",function(){}),require(["uiplanetscreen","uitravelscreen","jquery","jqueryui","jgrowl","tooltipster"]),MouseButtons={left:1,middle:2,right:3},define("ui",function(){}),define("gamesettings",function(){}),function(e){"function"==typeof define&&define.amd?define("simplemodal",["jquery"],e):e(jQuery)}(function(e){var t=[],n=e(document),r=navigator.userAgent.toLowerCase(),i=e(window),s=[],o={ieQuirks:null,msie:/msie/.test(r)&&!/opera/.test(r),opera:/opera/.test(r)};o.ie6=o.msie&&/msie 6./.test(r)&&"object"!=typeof window.XMLHttpRequest,o.ie7=o.msie&&/msie 7.0/.test(r),e.modal=function(t,n){return e.modal.impl.init(t,n)},e.modal.close=function(){e.modal.impl.close()},e.modal.focus=function(t){e.modal.impl.focus(t)},e.modal.setContainerDimensions=function(){e.modal.impl.setContainerDimensions()},e.modal.setPosition=function(){e.modal.impl.setPosition()},e.modal.update=function(t,n){e.modal.impl.update(t,n)},e.fn.modal=function(t){return e.modal.impl.init(this,t)},e.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null},e.modal.impl={d:{},init:function(t,n){var r=this;if(r.d.data)return!1;if(o.ieQuirks=o.msie&&!e.support.boxModel,r.o=e.extend({},e.modal.defaults,n),r.zIndex=r.o.zIndex,r.occb=!1,"object"==typeof t)t=t instanceof e?t:e(t),r.d.placeholder=!1,t.parent().parent().size()>0&&(t.before(e("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),r.d.placeholder=!0,r.display=t.css("display"),r.o.persist||(r.d.orig=t.clone(!0)));else{if("string"!=typeof t&&"number"!=typeof t)return alert("SimpleModal Error: Unsupported data type: "+typeof t),r;t=e("<div></div>").html(t)}return r.create(t),t=null,r.open(),e.isFunction(r.o.onShow)&&r.o.onShow.apply(r,[r.d]),r},create:function(n){var r=this;r.getDimensions(),r.o.modal&&o.ie6&&(r.d.iframe=e('<iframe src="javascript:false;"></iframe>').css(e.extend(r.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:s[0],width:s[1],zIndex:r.o.zIndex,top:0,left:0})).appendTo(r.o.appendTo)),r.d.overlay=e("<div></div>").attr("id",r.o.overlayId).addClass("simplemodal-overlay").css(e.extend(r.o.overlayCss,{display:"none",opacity:r.o.opacity/100,height:r.o.modal?t[0]:0,width:r.o.modal?t[1]:0,position:"fixed",left:0,top:0,zIndex:r.o.zIndex+1})).appendTo(r.o.appendTo),r.d.container=e("<div></div>").attr("id",r.o.containerId).addClass("simplemodal-container").css(e.extend({position:r.o.fixed?"fixed":"absolute"},r.o.containerCss,{display:"none",zIndex:r.o.zIndex+2})).append(r.o.close&&r.o.closeHTML?e(r.o.closeHTML).addClass(r.o.closeClass):"").appendTo(r.o.appendTo),r.d.wrap=e("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(r.d.container),r.d.data=n.attr("id",n.attr("id")||r.o.dataId).addClass("simplemodal-data").css(e.extend(r.o.dataCss,{display:"none"})).appendTo("body"),n=null,r.setContainerDimensions(),r.d.data.appendTo(r.d.wrap),(o.ie6||o.ieQuirks)&&r.fixIE()},bindEvents:function(){var r=this;e("."+r.o.closeClass).bind("click.simplemodal",function(e){e.preventDefault(),r.close()}),r.o.modal&&r.o.close&&r.o.overlayClose&&r.d.overlay.bind("click.simplemodal",function(e){e.preventDefault(),r.close()}),n.bind("keydown.simplemodal",function(e){r.o.modal&&9===e.keyCode?r.watchTab(e):r.o.close&&r.o.escClose&&27===e.keyCode&&(e.preventDefault(),r.close())}),i.bind("resize.simplemodal orientationchange.simplemodal",function(){r.getDimensions(),r.o.autoResize?r.setContainerDimensions():r.o.autoPosition&&r.setPosition(),o.ie6||o.ieQuirks?r.fixIE():r.o.modal&&(r.d.iframe&&r.d.iframe.css({height:s[0],width:s[1]}),r.d.overlay.css({height:t[0],width:t[1]}))})},unbindEvents:function(){e("."+this.o.closeClass).unbind("click.simplemodal"),n.unbind("keydown.simplemodal"),i.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var t=this,n=t.o.position;e.each([t.d.iframe||null,t.o.modal?t.d.overlay:null,"fixed"===t.d.container.css("position")?t.d.container:null],function(e,t){if(t){var r="document.body.clientHeight",i="document.body.clientWidth",s="document.body.scrollHeight",o="document.body.scrollLeft",u="document.body.scrollTop",a="document.body.scrollWidth",f="document.documentElement.clientHeight",l="document.documentElement.clientWidth",c="document.documentElement.scrollLeft",h="document.documentElement.scrollTop",d=t[0].style;if(d.position="absolute",2>e)d.removeExpression("height"),d.removeExpression("width"),d.setExpression("height",""+s+" > "+r+" ? "+s+" : "+r+' + "px"'),d.setExpression("width",""+a+" > "+i+" ? "+a+" : "+i+' + "px"');else{var v,m;if(n&&n.constructor===Array){var g=n[0]?"number"==typeof n[0]?n[0].toString():n[0].replace(/px/,""):t.css("top").replace(/px/,"");if(v=-1===g.indexOf("%")?g+" + (t = "+h+" ? "+h+" : "+u+') + "px"':parseInt(g.replace(/%/,""))+" * (("+f+" || "+r+") / 100) + (t = "+h+" ? "+h+" : "+u+') + "px"',n[1]){var y="number"==typeof n[1]?n[1].toString():n[1].replace(/px/,"");m=-1===y.indexOf("%")?y+" + (t = "+c+" ? "+c+" : "+o+') + "px"':parseInt(y.replace(/%/,""))+" * (("+l+" || "+i+") / 100) + (t = "+c+" ? "+c+" : "+o+') + "px"'}}else v="("+f+" || "+r+") / 2 - (this.offsetHeight / 2) + (t = "+h+" ? "+h+" : "+u+') + "px"',m="("+l+" || "+i+") / 2 - (this.offsetWidth / 2) + (t = "+c+" ? "+c+" : "+o+') + "px"';d.removeExpression("top"),d.removeExpression("left"),d.setExpression("top",v),d.setExpression("left",m)}}})},focus:function(t){var n=this,r=t&&-1!==e.inArray(t,["first","last"])?t:"first",i=e(":input:enabled:visible:"+r,n.d.wrap);setTimeout(function(){i.length>0?i.focus():n.d.wrap.focus()},10)},getDimensions:function(){var r="undefined"==typeof window.innerHeight?i.height():window.innerHeight;t=[n.height(),n.width()],s=[r,i.width()]},getVal:function(e,t){return e?"number"==typeof e?e:"auto"===e?0:e.indexOf("%")>0?parseInt(e.replace(/%/,""))/100*("h"===t?s[0]:s[1]):parseInt(e.replace(/px/,"")):null},update:function(e,t){var n=this;return n.d.data?(n.d.origHeight=n.getVal(e,"h"),n.d.origWidth=n.getVal(t,"w"),n.d.data.hide(),e&&n.d.container.css("height",e),t&&n.d.container.css("width",t),n.setContainerDimensions(),n.d.data.show(),n.o.focus&&n.focus(),n.unbindEvents(),void n.bindEvents()):!1},setContainerDimensions:function(){var e=this,t=o.ie6||o.ie7,n=e.d.origHeight?e.d.origHeight:o.opera?e.d.container.height():e.getVal(t?e.d.container[0].currentStyle.height:e.d.container.css("height"),"h"),r=e.d.origWidth?e.d.origWidth:o.opera?e.d.container.width():e.getVal(t?e.d.container[0].currentStyle.width:e.d.container.css("width"),"w"),i=e.d.data.outerHeight(!0),u=e.d.data.outerWidth(!0);e.d.origHeight=e.d.origHeight||n,e.d.origWidth=e.d.origWidth||r;var a=e.o.maxHeight?e.getVal(e.o.maxHeight,"h"):null,f=e.o.maxWidth?e.getVal(e.o.maxWidth,"w"):null,l=a&&a<s[0]?a:s[0],c=f&&f<s[1]?f:s[1],h=e.o.minHeight?e.getVal(e.o.minHeight,"h"):"auto";n=n?e.o.autoResize&&n>l?l:h>n?h:n:i?i>l?l:e.o.minHeight&&"auto"!==h&&h>i?h:i:h;var p=e.o.minWidth?e.getVal(e.o.minWidth,"w"):"auto";r=r?e.o.autoResize&&r>c?c:p>r?p:r:u?u>c?c:e.o.minWidth&&"auto"!==p&&p>u?p:u:p,e.d.container.css({height:n,width:r}),e.d.wrap.css({overflow:i>n||u>r?"auto":"visible"}),e.o.autoPosition&&e.setPosition()},setPosition:function(){var t,n,e=this,r=s[0]/2-e.d.container.outerHeight(!0)/2,o=s[1]/2-e.d.container.outerWidth(!0)/2,u="fixed"!==e.d.container.css("position")?i.scrollTop():0;e.o.position&&"[object Array]"===Object.prototype.toString.call(e.o.position)?(t=u+(e.o.position[0]||r),n=e.o.position[1]||o):(t=u+r,n=o),e.d.container.css({left:n,top:t})},watchTab:function(t){var n=this;if(e(t.target).parents(".simplemodal-container").length>0){if(n.inputs=e(":input:enabled:visible:first, :input:enabled:visible:last",n.d.data[0]),!t.shiftKey&&t.target===n.inputs[n.inputs.length-1]||t.shiftKey&&t.target===n.inputs[0]||0===n.inputs.length){t.preventDefault();var r=t.shiftKey?"last":"first";n.focus(r)}}else t.preventDefault(),n.focus()},open:function(){var t=this;t.d.iframe&&t.d.iframe.show(),e.isFunction(t.o.onOpen)?t.o.onOpen.apply(t,[t.d]):(t.d.overlay.show(),t.d.container.show(),t.d.data.show()),t.o.focus&&t.focus(),t.bindEvents()},close:function(){var t=this;if(!t.d.data)return!1;if(t.unbindEvents(),e.isFunction(t.o.onClose)&&!t.occb)t.occb=!0,t.o.onClose.apply(t,[t.d]);else{if(t.d.placeholder){var n=e("#simplemodal-placeholder");t.o.persist?n.replaceWith(t.d.data.removeClass("simplemodal-data").css("display",t.display)):(t.d.data.hide().remove(),n.replaceWith(t.d.orig))}else t.d.data.hide().remove();t.d.container.hide().remove(),t.d.overlay.hide(),t.d.iframe&&t.d.iframe.hide().remove(),t.d.overlay.remove(),t.d={}}}}}),require(["game","gameminer","gamestorage","ui","uiplanetscreen","gamesettings","simplemodal"]),define("gameplayer",function(){}),require(["gameplayer"]),define("gamegear",function(){}),require(["gameminer","gamestorage","gamegear","uiplanetscreen"]),define("gameplanet",function(){}),define("gamestatistics",function(){}),!function(){ErrorLevel={debug:"DEBUG",info:"INFO",error:"ERROR"},Vector3=function(x,y,z){this.x=x,this.y=y,this.z=z},Vector2=function(x,y){this.x=x,this.y=y},utils={startTime:Date.now(),rgba:function(r,g,b,a){return r=Math.floor(r)||0,g=Math.floor(g)||0,b=Math.floor(b)||0,a=a||1,["rgba(",r,",",g,",",b,",",a,")"].join("")},pad:function(n,width,z){return z=z||"0",n+="",n.length>=width?n:new Array(width-n.length+1).join(z)+n},loadScripts:function(scripts,nextId,finish){if(nextId>=scripts.length)return void finish();var script=scripts[nextId],loaded=jQuery.inArray(script,utils.loadedScripts);if(loaded>=0)return utils.log("Script is already loaded: "+nextId,!1),void utils.loadScripts(scripts,nextId+1,finish);utils.log("Loading "+script,!1),utils.loadedScripts.push(script);try{/\.js$/.exec(script)?$.getScript(script).done(function(){utils.log("  -> DONE",!1),utils.loadScripts(scripts,nextId+1,finish)}).fail(function(jqxhr,settings,exception){utils.logError("  -> FAIL: "+exception+"\n"+exception.stack)}):/\.css$/.exec(script)?($("<link>").attr({rel:"stylesheet",type:"text/css",href:script}).appendTo($("head")),utils.log("  -> DONE",!1),utils.loadScripts(scripts,nextId+1,finish)):utils.logError("Unhandled script type!")}catch(e){utils.logError(e+": "+utils.stackTrace())}},getRandom:function(min,max){return Math.random()*(max-min)+min},getRandomInt:function(min,max){return Math.floor(Math.random()*(max-min+1))+min},getDayTimeInSeconds:function(){var now=new Date;return then=new Date(now.getFullYear(),now.getMonth(),now.getDate(),0,0,0),now.getTime()-then.getTime()},splitDateTime:function(seconds){var result=[0,0,0,0,0],milliSeconds=Math.floor(seconds);return result[0]=Math.floor(milliSeconds/864e5),milliSeconds%=864e5,result[1]=Math.floor(milliSeconds/36e5),milliSeconds%=36e5,result[2]=Math.floor(milliSeconds/6e4),milliSeconds%=6e4,result[3]=Math.floor(milliSeconds/1e3),result[4]=milliSeconds,result},getDurationDisplay:function(seconds,highPrecision){if(0===seconds||seconds==Number.POSITIVE_INFINITY)return"~~";var days,hours,minutes,seconds,timeSplit=utils.splitDateTime(seconds);return days=timeSplit[0],days=days>0?days+"d ":"",hours=timeSplit[1],hours=hours>0?utils.pad(hours,2)+"h ":"",minutes=timeSplit[2],minutes=minutes>0?utils.pad(minutes,2)+"m ":"",seconds=timeSplit[3],seconds=seconds>0?utils.pad(seconds,2)+"s ":"",1==highPrecision?(milliSeconds=timeSplit[4],milliSeconds=milliSeconds>0?utils.pad(milliSeconds,3)+"ms":"",(days+hours+minutes+seconds+milliSeconds).trim()):(days+hours+minutes+seconds).trim()},getShortTimeDisplay:function(seconds){if(0===seconds||seconds==Number.POSITIVE_INFINITY)return"~~";var timeSplit=utils.splitDateTime(seconds);return hours=utils.pad(timeSplit[1],2)+":",minutes=utils.pad(timeSplit[2],2)+":",seconds=utils.pad(timeSplit[3],2),hours+minutes+seconds},deleteSetting:function(key){localStorage[key]&&delete localStorage[key]},load:function(property,defaultValue){return loadedValue=localStorage[property],void 0==localStorage[property]?defaultValue:loadedValue},loadBool:function(property,defaultValue){return loadedValue=localStorage[property],void 0==localStorage[property]?defaultValue:"true"==loadedValue},loadInt:function(property,defaultValue){return loadedValue=localStorage[property],void 0==localStorage[property]?defaultValue:parseInt(loadedValue,10)},loadFloat:function(property,defaultValue){return loadedValue=localStorage[property],void 0==localStorage[property]?defaultValue:parseFloat(loadedValue)},logFormat:function(level,message){var time="["+utils.getShortTimeDisplay(Date.now()-utils.startTime)+"]: ",fullMessage=time+level+" "+message;switch(level){case ErrorLevel.error:throw new Error(fullMessage);default:console.log(fullMessage)}},log:function(message){utils.logFormat(ErrorLevel.info,message)},stackTrace:function(){var err=new Error;return err.stack},logError:function(message){utils.logFormat(ErrorLevel.error,message)},logDebug:function(message){utils.logFormat(ErrorLevel.debug,message)},formatEveryThirdPower:function(notations){return function(value){var base=0,notationValue="";if(value>=1e6&&Number.isFinite(value)){for(value/=1e3;Math.round(value)>=1e3;)value/=1e3,base++;if(base>notations.length)return"Infinity";notationValue=notations[base]}return Math.round(1e3*value)/1e3+notationValue}},formatScientificNotation:function(value){if(0===value||!Number.isFinite(value)||Math.abs(value)>1&&Math.abs(value)<100)return utils.formatRaw(value);var sign=value>0?"":"-";value=Math.abs(value);var exp=Math.floor(Math.log(value)/Math.LN10),num=Math.round(value/Math.pow(10,exp)*100)/100,output=num.toString();return num===Math.round(num)?output+=".00":10*num===Math.round(10*num)&&(output+="0"),sign+output+"*10^"+exp},formatRaw:function(value){return(Math.round(1e3*value)/1e3).toString()}},utils.formatters={off:void 0,raw:utils.formatRaw,name:utils.formatEveryThirdPower([""," million"," billion"," trillion"," quadrillion"," quintillion"," sextillion"," septillion"," octillion"," nonillion"," decillion"]),shortName:utils.formatEveryThirdPower([""," M"," B"," T"," Qa"," Qi"," Sx"," Sp"," Oc"," No"," De"]),shortName2:utils.formatEveryThirdPower([""," M"," G"," T"," P"," E"," Z"," Y"]),scientific:utils.formatScientificNotation},exports.utils=utils}(),define("utils",function(){}),define("gamequest",function(){}),"function"!=typeof Object.create&&(Object.create=function(o){function F(){}return F.prototype=o,new F}),function($){var NotyObject={init:function(options){return this.options=$.extend({},$.noty.defaults,options),this.options.layout=this.options.custom?$.noty.layouts.inline:$.noty.layouts[this.options.layout],$.noty.themes[this.options.theme]?this.options.theme=$.noty.themes[this.options.theme]:options.themeClassName=this.options.theme,delete options.layout,delete options.theme,this.options=$.extend({},this.options,this.options.layout.options),this.options.id="noty_"+(new Date).getTime()*Math.floor(1e6*Math.random()),this.options=$.extend({},this.options,options),this._build(),this},_build:function(){var $bar=$('<div class="noty_bar noty_type_'+this.options.type+'"></div>').attr("id",this.options.id);if($bar.append(this.options.template).find(".noty_text").html(this.options.text),this.$bar=null!==this.options.layout.parent.object?$(this.options.layout.parent.object).css(this.options.layout.parent.css).append($bar):$bar,this.options.themeClassName&&this.$bar.addClass(this.options.themeClassName).addClass("noty_container_type_"+this.options.type),this.options.buttons){this.options.closeWith=[],this.options.timeout=!1;var $buttons=$("<div/>").addClass("noty_buttons");null!==this.options.layout.parent.object?this.$bar.find(".noty_bar").append($buttons):this.$bar.append($buttons);var self=this;$.each(this.options.buttons,function(i,button){var $button=$("<button/>").addClass(button.addClass?button.addClass:"gray").html(button.text).attr("id",button.id?button.id:"button-"+i).appendTo(self.$bar.find(".noty_buttons")).bind("click",function(){$.isFunction(button.onClick)&&button.onClick.call($button,self)})})}this.$message=this.$bar.find(".noty_message"),this.$closeButton=this.$bar.find(".noty_close"),this.$buttons=this.$bar.find(".noty_buttons"),$.noty.store[this.options.id]=this},show:function(){var self=this;return self.options.custom?self.options.custom.find(self.options.layout.container.selector).append(self.$bar):$(self.options.layout.container.selector).append(self.$bar),self.options.theme&&self.options.theme.style&&self.options.theme.style.apply(self),"function"===$.type(self.options.layout.css)?this.options.layout.css.apply(self.$bar):self.$bar.css(this.options.layout.css||{}),self.$bar.addClass(self.options.layout.addClass),self.options.layout.container.style.apply($(self.options.layout.container.selector)),self.showing=!0,self.options.theme&&self.options.theme.style&&self.options.theme.callback.onShow.apply(this),$.inArray("click",self.options.closeWith)>-1&&self.$bar.css("cursor","pointer").one("click",function(evt){self.stopPropagation(evt),self.options.callback.onCloseClick&&self.options.callback.onCloseClick.apply(self),self.close()}),$.inArray("hover",self.options.closeWith)>-1&&self.$bar.one("mouseenter",function(){self.close()}),$.inArray("button",self.options.closeWith)>-1&&self.$closeButton.one("click",function(evt){self.stopPropagation(evt),self.close()}),-1==$.inArray("button",self.options.closeWith)&&self.$closeButton.remove(),self.options.callback.onShow&&self.options.callback.onShow.apply(self),self.$bar.animate(self.options.animation.open,self.options.animation.speed,self.options.animation.easing,function(){self.options.callback.afterShow&&self.options.callback.afterShow.apply(self),self.showing=!1,self.shown=!0}),self.options.timeout&&self.$bar.delay(self.options.timeout).promise().done(function(){self.close()}),this},close:function(){if(!(this.closed||this.$bar&&this.$bar.hasClass("i-am-closing-now"))){var self=this;if(this.showing)return void self.$bar.queue(function(){self.close.apply(self)});if(!this.shown&&!this.showing){var queue=[];return $.each($.noty.queue,function(i,n){n.options.id!=self.options.id&&queue.push(n)}),void($.noty.queue=queue)}self.$bar.addClass("i-am-closing-now"),self.options.callback.onClose&&self.options.callback.onClose.apply(self),self.$bar.clearQueue().stop().animate(self.options.animation.close,self.options.animation.speed,self.options.animation.easing,function(){self.options.callback.afterClose&&self.options.callback.afterClose.apply(self)}).promise().done(function(){self.options.modal&&($.notyRenderer.setModalCount(-1),0==$.notyRenderer.getModalCount()&&$(".noty_modal").fadeOut("fast",function(){$(this).remove()})),$.notyRenderer.setLayoutCountFor(self,-1),0==$.notyRenderer.getLayoutCountFor(self)&&$(self.options.layout.container.selector).remove(),"undefined"!=typeof self.$bar&&null!==self.$bar&&(self.$bar.remove(),self.$bar=null,self.closed=!0),delete $.noty.store[self.options.id],self.options.theme.callback&&self.options.theme.callback.onClose&&self.options.theme.callback.onClose.apply(self),self.options.dismissQueue||($.noty.ontap=!0,$.notyRenderer.render()),self.options.maxVisible>0&&self.options.dismissQueue&&$.notyRenderer.render()
})}},setText:function(text){return this.closed||(this.options.text=text,this.$bar.find(".noty_text").html(text)),this},setType:function(type){return this.closed||(this.options.type=type,this.options.theme.style.apply(this),this.options.theme.callback.onShow.apply(this)),this},setTimeout:function(time){if(!this.closed){var self=this;this.options.timeout=time,self.$bar.delay(self.options.timeout).promise().done(function(){self.close()})}return this},stopPropagation:function(evt){evt=evt||window.event,"undefined"!=typeof evt.stopPropagation?evt.stopPropagation():evt.cancelBubble=!0},closed:!1,showing:!1,shown:!1};$.notyRenderer={},$.notyRenderer.init=function(options){var notification=Object.create(NotyObject).init(options);return notification.options.killer&&$.noty.closeAll(),notification.options.force?$.noty.queue.unshift(notification):$.noty.queue.push(notification),$.notyRenderer.render(),"object"==$.noty.returns?notification:notification.options.id},$.notyRenderer.render=function(){var instance=$.noty.queue[0];"object"===$.type(instance)?instance.options.dismissQueue?instance.options.maxVisible>0?$(instance.options.layout.container.selector+" li").length<instance.options.maxVisible&&$.notyRenderer.show($.noty.queue.shift()):$.notyRenderer.show($.noty.queue.shift()):$.noty.ontap&&($.notyRenderer.show($.noty.queue.shift()),$.noty.ontap=!1):$.noty.ontap=!0},$.notyRenderer.show=function(notification){notification.options.modal&&($.notyRenderer.createModalFor(notification),$.notyRenderer.setModalCount(1)),notification.options.custom?0==notification.options.custom.find(notification.options.layout.container.selector).length?notification.options.custom.append($(notification.options.layout.container.object).addClass("i-am-new")):notification.options.custom.find(notification.options.layout.container.selector).removeClass("i-am-new"):0==$(notification.options.layout.container.selector).length?$("body").append($(notification.options.layout.container.object).addClass("i-am-new")):$(notification.options.layout.container.selector).removeClass("i-am-new"),$.notyRenderer.setLayoutCountFor(notification,1),notification.show()},$.notyRenderer.createModalFor=function(notification){if(0==$(".noty_modal").length){var modal=$("<div/>").addClass("noty_modal").addClass(notification.options.theme).data("noty_modal_count",0);notification.options.theme.modal&&notification.options.theme.modal.css&&modal.css(notification.options.theme.modal.css),modal.prependTo($("body")).fadeIn("fast")}},$.notyRenderer.getLayoutCountFor=function(notification){return $(notification.options.layout.container.selector).data("noty_layout_count")||0},$.notyRenderer.setLayoutCountFor=function(notification,arg){return $(notification.options.layout.container.selector).data("noty_layout_count",$.notyRenderer.getLayoutCountFor(notification)+arg)},$.notyRenderer.getModalCount=function(){return $(".noty_modal").data("noty_modal_count")||0},$.notyRenderer.setModalCount=function(arg){return $(".noty_modal").data("noty_modal_count",$.notyRenderer.getModalCount()+arg)},$.fn.noty=function(options){return options.custom=$(this),$.notyRenderer.init(options)},$.noty={},$.noty.queue=[],$.noty.ontap=!0,$.noty.layouts={},$.noty.themes={},$.noty.returns="object",$.noty.store={},$.noty.get=function(id){return $.noty.store.hasOwnProperty(id)?$.noty.store[id]:!1},$.noty.close=function(id){return $.noty.get(id)?$.noty.get(id).close():!1},$.noty.setText=function(id,text){return $.noty.get(id)?$.noty.get(id).setText(text):!1},$.noty.setType=function(id,type){return $.noty.get(id)?$.noty.get(id).setType(type):!1},$.noty.clearQueue=function(){$.noty.queue=[]},$.noty.closeAll=function(){$.noty.clearQueue(),$.each($.noty.store,function(id,noty){noty.close()})};var windowAlert=window.alert;$.noty.consumeAlert=function(options){window.alert=function(text){options?options.text=text:options={text:text},$.notyRenderer.init(options)}},$.noty.stopConsumeAlert=function(){window.alert=windowAlert},$.noty.defaults={layout:"top",theme:"defaultTheme",type:"alert",text:"",dismissQueue:!0,template:'<div class="noty_message"><span class="noty_text"></span><div class="noty_close"></div></div>',animation:{open:{height:"toggle"},close:{height:"toggle"},easing:"swing",speed:200},timeout:!1,force:!0,modal:!1,maxVisible:1,killer:!0,closeWith:["click"],callback:{onShow:function(){},afterShow:function(){},onClose:function(){},afterClose:function(){},onCloseClick:function(){}},buttons:!1},$(window).resize(function(){$.each($.noty.layouts,function(index,layout){layout.container.style.apply($(layout.container.selector))})})}(jQuery),window.noty=function(options){return jQuery.notyRenderer.init(options)},function($){$.noty.layouts.bottom={name:"bottom",options:{},container:{object:'<ul id="noty_bottom_layout_container" />',selector:"ul#noty_bottom_layout_container",style:function(){$(this).css({bottom:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function($){$.noty.layouts.bottomCenter={name:"bottomCenter",options:{},container:{object:'<ul id="noty_bottomCenter_layout_container" />',selector:"ul#noty_bottomCenter_layout_container",style:function(){$(this).css({bottom:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),$(this).css({left:($(window).width()-$(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function($){$.noty.layouts.bottomLeft={name:"bottomLeft",options:{},container:{object:'<ul id="noty_bottomLeft_layout_container" />',selector:"ul#noty_bottomLeft_layout_container",style:function(){$(this).css({bottom:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&$(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function($){$.noty.layouts.bottomRight={name:"bottomRight",options:{},container:{object:'<ul id="noty_bottomRight_layout_container" />',selector:"ul#noty_bottomRight_layout_container",style:function(){$(this).css({bottom:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&$(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function($){$.noty.layouts.center={name:"center",options:{},container:{object:'<ul id="noty_center_layout_container" />',selector:"ul#noty_center_layout_container",style:function(){$(this).css({position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var dupe=$(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");$("body").append(dupe),dupe.find(".i-am-closing-now").remove(),dupe.find("li").css("display","block");var actual_height=dupe.height();dupe.remove(),$(this).hasClass("i-am-new")?$(this).css({left:($(window).width()-$(this).outerWidth(!1))/2+"px",top:($(window).height()-actual_height)/2+"px"}):$(this).animate({left:($(window).width()-$(this).outerWidth(!1))/2+"px",top:($(window).height()-actual_height)/2+"px"},500)}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function($){$.noty.layouts.centerLeft={name:"centerLeft",options:{},container:{object:'<ul id="noty_centerLeft_layout_container" />',selector:"ul#noty_centerLeft_layout_container",style:function(){$(this).css({left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var dupe=$(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");$("body").append(dupe),dupe.find(".i-am-closing-now").remove(),dupe.find("li").css("display","block");var actual_height=dupe.height();dupe.remove(),$(this).hasClass("i-am-new")?$(this).css({top:($(window).height()-actual_height)/2+"px"}):$(this).animate({top:($(window).height()-actual_height)/2+"px"},500),window.innerWidth<600&&$(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function($){$.noty.layouts.centerRight={name:"centerRight",options:{},container:{object:'<ul id="noty_centerRight_layout_container" />',selector:"ul#noty_centerRight_layout_container",style:function(){$(this).css({right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7});var dupe=$(this).clone().css({visibility:"hidden",display:"block",position:"absolute",top:0,left:0}).attr("id","dupe");$("body").append(dupe),dupe.find(".i-am-closing-now").remove(),dupe.find("li").css("display","block");var actual_height=dupe.height();dupe.remove(),$(this).hasClass("i-am-new")?$(this).css({top:($(window).height()-actual_height)/2+"px"}):$(this).animate({top:($(window).height()-actual_height)/2+"px"},500),window.innerWidth<600&&$(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function($){$.noty.layouts.inline={name:"inline",options:{},container:{object:'<ul class="noty_inline_layout_container" />',selector:"ul.noty_inline_layout_container",style:function(){$(this).css({width:"100%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function($){$.noty.layouts.top={name:"top",options:{},container:{object:'<ul id="noty_top_layout_container" />',selector:"ul#noty_top_layout_container",style:function(){$(this).css({top:0,left:"5%",position:"fixed",width:"90%",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:9999999})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none"},addClass:""}}(jQuery),function($){$.noty.layouts.topCenter={name:"topCenter",options:{},container:{object:'<ul id="noty_topCenter_layout_container" />',selector:"ul#noty_topCenter_layout_container",style:function(){$(this).css({top:20,left:0,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),$(this).css({left:($(window).width()-$(this).outerWidth(!1))/2+"px"})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function($){$.noty.layouts.topLeft={name:"topLeft",options:{},container:{object:'<ul id="noty_topLeft_layout_container" />',selector:"ul#noty_topLeft_layout_container",style:function(){$(this).css({top:20,left:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&$(this).css({left:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function($){$.noty.layouts.topRight={name:"topRight",options:{},container:{object:'<ul id="noty_topRight_layout_container" />',selector:"ul#noty_topRight_layout_container",style:function(){$(this).css({top:20,right:20,position:"fixed",width:"310px",height:"auto",margin:0,padding:0,listStyleType:"none",zIndex:1e7}),window.innerWidth<600&&$(this).css({right:5})}},parent:{object:"<li />",selector:"li",css:{}},css:{display:"none",width:"310px"},addClass:""}}(jQuery),function($){$.noty.themes.defaultTheme={name:"defaultTheme",helpers:{borderFix:function(){if(this.options.dismissQueue){var selector=this.options.layout.container.selector+" "+this.options.layout.parent.selector;switch(this.options.layout.name){case"top":$(selector).css({borderRadius:"0px 0px 0px 0px"}),$(selector).last().css({borderRadius:"0px 0px 5px 5px"});break;case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomLeft":case"bottomRight":case"center":case"centerLeft":case"centerRight":case"inline":$(selector).css({borderRadius:"0px 0px 0px 0px"}),$(selector).first().css({"border-top-left-radius":"5px","border-top-right-radius":"5px"}),$(selector).last().css({"border-bottom-left-radius":"5px","border-bottom-right-radius":"5px"});break;case"bottom":$(selector).css({borderRadius:"0px 0px 0px 0px"}),$(selector).first().css({borderRadius:"5px 5px 0px 0px"})}}}},modal:{css:{position:"fixed",width:"100%",height:"100%",backgroundColor:"#000",zIndex:1e4,opacity:.6,display:"none",left:0,top:0}},style:function(){switch(this.$bar.css({overflow:"hidden",background:"url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAoCAYAAAAPOoFWAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPZJREFUeNq81tsOgjAMANB2ov7/7ypaN7IlIwi9rGuT8QSc9EIDAsAznxvY4pXPKr05RUE5MEVB+TyWfCEl9LZApYopCmo9C4FKSMtYoI8Bwv79aQJU4l6hXXCZrQbokJEksxHo9KMOgc6w1atHXM8K9DVC7FQnJ0i8iK3QooGgbnyKgMDygBWyYFZoqx4qS27KqLZJjA1D0jK6QJcYEQEiWv9PGkTsbqxQ8oT+ZtZB6AkdsJnQDnMoHXHLGKOgDYuCWmYhEERCI5gaamW0bnHdA3k2ltlIN+2qKRyCND0bhqSYCyTB3CAOc4WusBEIpkeBuPgJMAAX8Hs1NfqHRgAAAABJRU5ErkJggg==') repeat-x scroll left top #fff"}),this.$message.css({fontSize:"13px",lineHeight:"16px",textAlign:"center",padding:"8px 10px 9px",width:"auto",position:"relative"}),this.$closeButton.css({position:"absolute",top:4,right:4,width:10,height:10,background:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAAAAgY0hSTQAAeiUAAICDAAD5/wAAgOkAAHUwAADqYAAAOpgAABdvkl/FRgAAATpJREFUeNoszrFqVFEUheG19zlz7sQ7ijMQBAvfYBqbpJCoZSAQbOwEE1IHGytbLQUJ8SUktW8gCCFJMSGSNxCmFBJO7j5rpXD6n5/P5vM53H3b3T9LOiB5AQDuDjM7BnA7DMPHDGBH0nuSzwHsRcRVRNRSysuU0i6AOwA/02w2+9Fae00SEbEh6SGAR5K+k3zWWptKepCm0+kpyRoRGyRBcpPkDsn1iEBr7drdP2VJZyQXERGSPpiZAViTBACXKaV9kqd5uVzCzO5KKb/d/UZSDwD/eyxqree1VqSu6zKAF2Z2RPJJaw0rAkjOJT0m+SuT/AbgDcmnkmBmfwAsJL1dXQ8lWY6IGwB1ZbrOOb8zs8thGP4COFwx/mE8Ho9Go9ErMzvJOW/1fY/JZIJSypqZfXX3L13X9fcDAKJct1sx3OiuAAAAAElFTkSuQmCC)",display:"none",cursor:"pointer"}),this.$buttons.css({padding:5,textAlign:"right",borderTop:"1px solid #ccc",backgroundColor:"#fff"}),this.$buttons.find("button").css({marginLeft:5}),this.$buttons.find("button:first").css({marginLeft:0}),this.$bar.bind({mouseenter:function(){$(this).find(".noty_close").stop().fadeTo("normal",1)},mouseleave:function(){$(this).find(".noty_close").stop().fadeTo("normal",0)}}),this.options.layout.name){case"top":this.$bar.css({borderRadius:"0px 0px 5px 5px",borderBottom:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"});break;case"topCenter":case"center":case"bottomCenter":case"inline":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"center"});break;case"topLeft":case"topRight":case"bottomLeft":case"bottomRight":case"centerLeft":case"centerRight":this.$bar.css({borderRadius:"5px",border:"1px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}),this.$message.css({fontSize:"13px",textAlign:"left"});break;case"bottom":this.$bar.css({borderRadius:"5px 5px 0px 0px",borderTop:"2px solid #eee",borderLeft:"2px solid #eee",borderRight:"2px solid #eee",boxShadow:"0 -2px 4px rgba(0, 0, 0, 0.1)"});break;default:this.$bar.css({border:"2px solid #eee",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"})}switch(this.options.type){case"alert":case"notification":this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"});break;case"warning":this.$bar.css({backgroundColor:"#FFEAA8",borderColor:"#FFC237",color:"#826200"}),this.$buttons.css({borderTop:"1px solid #FFC237"});break;case"error":this.$bar.css({backgroundColor:"red",borderColor:"darkred",color:"#FFF"}),this.$message.css({fontWeight:"bold"}),this.$buttons.css({borderTop:"1px solid darkred"});break;case"information":this.$bar.css({backgroundColor:"#57B7E2",borderColor:"#0B90C4",color:"#FFF"}),this.$buttons.css({borderTop:"1px solid #0B90C4"});break;case"success":this.$bar.css({backgroundColor:"lightgreen",borderColor:"#50C24E",color:"darkgreen"}),this.$buttons.css({borderTop:"1px solid #50C24E"});break;default:this.$bar.css({backgroundColor:"#FFF",borderColor:"#CCC",color:"#444"})}},callback:{onShow:function(){$.noty.themes.defaultTheme.helpers.borderFix.apply(this)},onClose:function(){$.noty.themes.defaultTheme.helpers.borderFix.apply(this)}}}}(jQuery),define("noty",function(){}),require(["gameplayer","gameplanet","gamesettings","gamestatistics","utils","gamequest","noty"]),define("game",function(){}),function($,window,undefined){var defaults={version:"2.1",tipLocation:"bottom",nubPosition:"auto",scroll:!0,scrollSpeed:300,timer:0,autoStart:!1,startTimerOnClick:!0,startOffset:0,nextButton:!0,tipAnimation:"fade",pauseAfter:[],tipAnimationFadeSpeed:300,cookieMonster:!1,cookieName:"joyride",cookieDomain:!1,cookiePath:!1,localStorage:!1,localStorageKey:"joyride",tipContainer:"body",modal:!1,expose:!1,postExposeCallback:$.noop,preRideCallback:$.noop,postRideCallback:$.noop,preStepCallback:$.noop,postStepCallback:$.noop,template:{link:'<a href="#close" class="joyride-close-tip">X</a>',timer:'<div class="joyride-timer-indicator-wrap"><span class="joyride-timer-indicator"></span></div>',tip:'<div class="joyride-tip-guide"><span class="joyride-nub"></span></div>',wrapper:'<div class="joyride-content-wrapper" role="dialog"></div>',button:'<a href="#" class="joyride-next-tip"></a>',modal:'<div class="joyride-modal-bg"></div>',expose:'<div class="joyride-expose-wrapper"></div>',exposeCover:'<div class="joyride-expose-cover"></div>'}},Modernizr=Modernizr||!1,settings={},methods={init:function(opts){return this.each(function(){$.isEmptyObject(settings)?(settings=$.extend(!0,defaults,opts),settings.document=window.document,settings.$document=$(settings.document),settings.$window=$(window),settings.$content_el=$(this),settings.$body=$(settings.tipContainer),settings.body_offset=$(settings.tipContainer).position(),settings.$tip_content=$("> li",settings.$content_el),settings.paused=!1,settings.attempts=0,settings.tipLocationPatterns={top:["bottom"],bottom:[],left:["right","top","bottom"],right:["left","top","bottom"]},methods.jquery_check(),$.isFunction($.cookie)||(settings.cookieMonster=!1),settings.cookieMonster&&$.cookie(settings.cookieName)||settings.localStorage&&methods.support_localstorage()&&localStorage.getItem(settings.localStorageKey)||(settings.$tip_content.each(function(index){methods.create({$li:$(this),index:index})}),settings.autoStart&&(!settings.startTimerOnClick&&settings.timer>0?(methods.show("init"),methods.startTimer()):methods.show("init"))),settings.$document.on("click.joyride",".joyride-next-tip, .joyride-modal-bg",function(e){e.preventDefault(),settings.$li.next().length<1?methods.end():settings.timer>0?(clearTimeout(settings.automate),methods.hide(),methods.show(),methods.startTimer()):(methods.hide(),methods.show())}),settings.$document.on("click.joyride",".joyride-close-tip",function(e){e.preventDefault(),methods.end(!0)}),settings.$window.bind("resize.joyride",function(){if(settings.$li){if(settings.exposed&&settings.exposed.length>0){var $els=$(settings.exposed);$els.each(function(){var $this=$(this);methods.un_expose($this),methods.expose($this)})}methods.is_phone()?methods.pos_phone():methods.pos_default()}})):methods.restart()})},resume:function(){methods.set_li(),methods.show()},nextTip:function(){settings.$li.next().length<1?methods.end():settings.timer>0?(clearTimeout(settings.automate),methods.hide(),methods.show(),methods.startTimer()):(methods.hide(),methods.show())},tip_template:function(opts){var $blank,content,$wrapper;return opts.tip_class=opts.tip_class||"",$blank=$(settings.template.tip).addClass(opts.tip_class),content=$.trim($(opts.li).html())+methods.button_text(opts.button_text)+settings.template.link+methods.timer_instance(opts.index),$wrapper=$(settings.template.wrapper),opts.li.attr("data-aria-labelledby")&&$wrapper.attr("aria-labelledby",opts.li.attr("data-aria-labelledby")),opts.li.attr("data-aria-describedby")&&$wrapper.attr("aria-describedby",opts.li.attr("data-aria-describedby")),$blank.append($wrapper),$blank.first().attr("data-index",opts.index),$(".joyride-content-wrapper",$blank).append(content),$blank[0]},timer_instance:function(index){var txt;return txt=0===index&&settings.startTimerOnClick&&settings.timer>0||0===settings.timer?"":methods.outerHTML($(settings.template.timer)[0])},button_text:function(txt){return settings.nextButton?(txt=$.trim(txt)||"Next",txt=methods.outerHTML($(settings.template.button).append(txt)[0])):txt="",txt},create:function(opts){var buttonText=opts.$li.attr("data-button")||opts.$li.attr("data-text"),tipClass=opts.$li.attr("class"),$tip_content=$(methods.tip_template({tip_class:tipClass,index:opts.index,button_text:buttonText,li:opts.$li}));$(settings.tipContainer).append($tip_content)},show:function(init){var ii,p,opts={},opts_arr=[],opts_len=0,$timer=null;if(settings.$li===undefined||-1===$.inArray(settings.$li.index(),settings.pauseAfter))if(settings.paused?settings.paused=!1:methods.set_li(init),settings.attempts=0,settings.$li.length&&settings.$target.length>0){for(init&&(settings.preRideCallback(settings.$li.index(),settings.$next_tip),settings.modal&&methods.show_modal()),settings.preStepCallback(settings.$li.index(),settings.$next_tip),opts_arr=(settings.$li.data("options")||":").split(";"),opts_len=opts_arr.length,ii=opts_len-1;ii>=0;ii--)p=opts_arr[ii].split(":"),2===p.length&&(opts[$.trim(p[0])]=$.trim(p[1]));settings.tipSettings=$.extend({},settings,opts),settings.tipSettings.tipLocationPattern=settings.tipLocationPatterns[settings.tipSettings.tipLocation],settings.modal&&settings.expose&&methods.expose(),!/body/i.test(settings.$target.selector)&&settings.scroll&&methods.scroll_to(),methods.is_phone()?methods.pos_phone(!0):methods.pos_default(!0),$timer=$(".joyride-timer-indicator",settings.$next_tip),/pop/i.test(settings.tipAnimation)?($timer.outerWidth(0),settings.timer>0?(settings.$next_tip.show(),$timer.animate({width:$(".joyride-timer-indicator-wrap",settings.$next_tip).outerWidth()},settings.timer)):settings.$next_tip.show()):/fade/i.test(settings.tipAnimation)&&($timer.outerWidth(0),settings.timer>0?(settings.$next_tip.fadeIn(settings.tipAnimationFadeSpeed),settings.$next_tip.show(),$timer.animate({width:$(".joyride-timer-indicator-wrap",settings.$next_tip).outerWidth()},settings.timer)):settings.$next_tip.fadeIn(settings.tipAnimationFadeSpeed)),settings.$current_tip=settings.$next_tip,$(".joyride-next-tip",settings.$current_tip).focus(),methods.tabbable(settings.$current_tip)}else settings.$li&&settings.$target.length<1?methods.show():methods.end();else settings.paused=!0},is_phone:function(){return Modernizr?Modernizr.mq("only screen and (max-width: 767px)"):settings.$window.width()<767?!0:!1},support_localstorage:function(){return Modernizr?Modernizr.localstorage:!!window.localStorage},hide:function(){settings.modal&&settings.expose&&methods.un_expose(),settings.modal||$(".joyride-modal-bg").hide(),settings.$current_tip.hide(),settings.postStepCallback(settings.$li.index(),settings.$current_tip)},set_li:function(init){init?(settings.$li=settings.$tip_content.eq(settings.startOffset),methods.set_next_tip(),settings.$current_tip=settings.$next_tip):(settings.$li=settings.$li.next(),methods.set_next_tip()),methods.set_target()},set_next_tip:function(){settings.$next_tip=$(".joyride-tip-guide[data-index="+settings.$li.index()+"]")},set_target:function(){var cl=settings.$li.attr("data-class"),id=settings.$li.attr("data-id"),$sel=function(){return id?$(settings.document.getElementById(id)):cl?$("."+cl).filter(":visible").first():$("body")};settings.$target=$sel()},scroll_to:function(){var window_half,tipOffset;window_half=settings.$window.height()/2,tipOffset=Math.ceil(settings.$target.offset().top-window_half+settings.$next_tip.outerHeight()),$("html, body").stop().animate({scrollTop:tipOffset},settings.scrollSpeed)},paused:function(){return-1===$.inArray(settings.$li.index()+1,settings.pauseAfter)?!0:!1},destroy:function(){$.isEmptyObject(settings)||settings.$document.off(".joyride"),$(window).off(".joyride"),$(".joyride-close-tip, .joyride-next-tip, .joyride-modal-bg").off(".joyride"),$(".joyride-tip-guide, .joyride-modal-bg").remove(),clearTimeout(settings.automate),settings={}},restart:function(){settings.autoStart?(methods.hide(),settings.$li=undefined,methods.show("init")):(!settings.startTimerOnClick&&settings.timer>0?(methods.show("init"),methods.startTimer()):methods.show("init"),settings.autoStart=!0)},pos_default:function(init){var $nub=(Math.ceil(settings.$window.height()/2),settings.$next_tip.offset(),$(".joyride-nub",settings.$next_tip)),nub_width=Math.ceil($nub.outerWidth()/2),nub_height=Math.ceil($nub.outerHeight()/2),toggle=init||!1;if(toggle&&(settings.$next_tip.css("visibility","hidden"),settings.$next_tip.show()),/body/i.test(settings.$target.selector))settings.$li.length&&methods.pos_modal($nub);else{var topAdjustment=settings.tipSettings.tipAdjustmentY?parseInt(settings.tipSettings.tipAdjustmentY):0,leftAdjustment=settings.tipSettings.tipAdjustmentX?parseInt(settings.tipSettings.tipAdjustmentX):0;methods.bottom()?(settings.$next_tip.css({top:settings.$target.offset().top+nub_height+settings.$target.outerHeight()+topAdjustment,left:settings.$target.offset().left+leftAdjustment}),/right/i.test(settings.tipSettings.nubPosition)&&settings.$next_tip.css("left",settings.$target.offset().left-settings.$next_tip.outerWidth()+settings.$target.outerWidth()),methods.nub_position($nub,settings.tipSettings.nubPosition,"top")):methods.top()?(settings.$next_tip.css({top:settings.$target.offset().top-settings.$next_tip.outerHeight()-nub_height+topAdjustment,left:settings.$target.offset().left+leftAdjustment}),methods.nub_position($nub,settings.tipSettings.nubPosition,"bottom")):methods.right()?(settings.$next_tip.css({top:settings.$target.offset().top+topAdjustment,left:settings.$target.outerWidth()+settings.$target.offset().left+nub_width+leftAdjustment}),methods.nub_position($nub,settings.tipSettings.nubPosition,"left")):methods.left()&&(settings.$next_tip.css({top:settings.$target.offset().top+topAdjustment,left:settings.$target.offset().left-settings.$next_tip.outerWidth()-nub_width+leftAdjustment}),methods.nub_position($nub,settings.tipSettings.nubPosition,"right")),!methods.visible(methods.corners(settings.$next_tip))&&settings.attempts<settings.tipSettings.tipLocationPattern.length&&($nub.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),settings.tipSettings.tipLocation=settings.tipSettings.tipLocationPattern[settings.attempts],settings.attempts++,methods.pos_default(!0))}toggle&&(settings.$next_tip.hide(),settings.$next_tip.css("visibility","visible"))},pos_phone:function(init){var tip_height=settings.$next_tip.outerHeight(),target_height=(settings.$next_tip.offset(),settings.$target.outerHeight()),$nub=$(".joyride-nub",settings.$next_tip),nub_height=Math.ceil($nub.outerHeight()/2),toggle=init||!1;$nub.removeClass("bottom").removeClass("top").removeClass("right").removeClass("left"),toggle&&(settings.$next_tip.css("visibility","hidden"),settings.$next_tip.show()),/body/i.test(settings.$target.selector)?settings.$li.length&&methods.pos_modal($nub):methods.top()?(settings.$next_tip.offset({top:settings.$target.offset().top-tip_height-nub_height}),$nub.addClass("bottom")):(settings.$next_tip.offset({top:settings.$target.offset().top+target_height+nub_height}),$nub.addClass("top")),toggle&&(settings.$next_tip.hide(),settings.$next_tip.css("visibility","visible"))},pos_modal:function($nub){methods.center(),$nub.hide(),methods.show_modal()},show_modal:function(){$(".joyride-modal-bg").length<1&&$("body").append(settings.template.modal).show(),/pop/i.test(settings.tipAnimation)?$(".joyride-modal-bg").show():$(".joyride-modal-bg").fadeIn(settings.tipAnimationFadeSpeed)},expose:function(){var expose,exposeCover,el,origCSS,randId="expose-"+Math.floor(1e4*Math.random());if(arguments.length>0&&arguments[0]instanceof $)el=arguments[0];else{if(!settings.$target||/body/i.test(settings.$target.selector))return!1;el=settings.$target}return el.length<1?(window.console&&console.error("element not valid",el),!1):(expose=$(settings.template.expose),settings.$body.append(expose),expose.css({top:el.offset().top,left:el.offset().left,width:el.outerWidth(!0),height:el.outerHeight(!0)}),exposeCover=$(settings.template.exposeCover),origCSS={zIndex:el.css("z-index"),position:el.css("position")},el.css("z-index",1*expose.css("z-index")+1),"static"==origCSS.position&&el.css("position","relative"),el.data("expose-css",origCSS),exposeCover.css({top:el.offset().top,left:el.offset().left,width:el.outerWidth(!0),height:el.outerHeight(!0)}),settings.$body.append(exposeCover),expose.addClass(randId),exposeCover.addClass(randId),settings.tipSettings.exposeClass&&(expose.addClass(settings.tipSettings.exposeClass),exposeCover.addClass(settings.tipSettings.exposeClass)),el.data("expose",randId),settings.postExposeCallback(settings.$li.index(),settings.$next_tip,el),void methods.add_exposed(el))
},un_expose:function(){var exposeId,el,expose,origCSS,clearAll=!1;if(arguments.length>0&&arguments[0]instanceof $)el=arguments[0];else{if(!settings.$target||/body/i.test(settings.$target.selector))return!1;el=settings.$target}return el.length<1?(window.console&&console.error("element not valid",el),!1):(exposeId=el.data("expose"),expose=$("."+exposeId),arguments.length>1&&(clearAll=arguments[1]),clearAll===!0?$(".joyride-expose-wrapper,.joyride-expose-cover").remove():expose.remove(),origCSS=el.data("expose-css"),"auto"==origCSS.zIndex?el.css("z-index",""):el.css("z-index",origCSS.zIndex),origCSS.position!=el.css("position")&&("static"==origCSS.position?el.css("position",""):el.css("position",origCSS.position)),el.removeData("expose"),el.removeData("expose-z-index"),void methods.remove_exposed(el))},add_exposed:function(el){settings.exposed=settings.exposed||[],el instanceof $?settings.exposed.push(el[0]):"string"==typeof el&&settings.exposed.push(el)},remove_exposed:function(el){var search;el instanceof $?search=el[0]:"string"==typeof el&&(search=el),settings.exposed=settings.exposed||[];for(var i=0;i<settings.exposed.length;i++)if(settings.exposed[i]==search)return void settings.exposed.splice(i,1)},center:function(){var $w=settings.$window;return settings.$next_tip.css({top:($w.height()-settings.$next_tip.outerHeight())/2+$w.scrollTop(),left:($w.width()-settings.$next_tip.outerWidth())/2+$w.scrollLeft()}),!0},bottom:function(){return/bottom/i.test(settings.tipSettings.tipLocation)},top:function(){return/top/i.test(settings.tipSettings.tipLocation)},right:function(){return/right/i.test(settings.tipSettings.tipLocation)},left:function(){return/left/i.test(settings.tipSettings.tipLocation)},corners:function(el){var w=settings.$window,window_half=w.height()/2,tipOffset=Math.ceil(settings.$target.offset().top-window_half+settings.$next_tip.outerHeight()),right=w.width()+w.scrollLeft(),offsetBottom=w.height()+tipOffset,bottom=w.height()+w.scrollTop(),top=w.scrollTop();return top>tipOffset&&(top=0>tipOffset?0:tipOffset),offsetBottom>bottom&&(bottom=offsetBottom),[el.offset().top<top,right<el.offset().left+el.outerWidth(),bottom<el.offset().top+el.outerHeight(),w.scrollLeft()>el.offset().left]},visible:function(hidden_corners){for(var i=hidden_corners.length;i--;)if(hidden_corners[i])return!1;return!0},nub_position:function(nub,pos,def){nub.addClass("auto"===pos?def:pos)},startTimer:function(){settings.$li.length?settings.automate=setTimeout(function(){methods.hide(),methods.show(),methods.startTimer()},settings.timer):clearTimeout(settings.automate)},end:function(isAborted){isAborted=isAborted||!1,isAborted&&settings.$window.unbind("resize.joyride"),settings.cookieMonster&&$.cookie(settings.cookieName,"ridden",{expires:365,domain:settings.cookieDomain,path:settings.cookiePath}),settings.localStorage&&localStorage.setItem(settings.localStorageKey,!0),settings.timer>0&&clearTimeout(settings.automate),settings.modal&&settings.expose&&methods.un_expose(),settings.$current_tip&&settings.$current_tip.hide(),settings.$li&&(settings.postStepCallback(settings.$li.index(),settings.$current_tip,isAborted),settings.postRideCallback(settings.$li.index(),settings.$current_tip,isAborted)),$(".joyride-modal-bg").hide()},jquery_check:function(){return $.isFunction($.fn.on)?!0:($.fn.on=function(types,sel,fn){return this.delegate(sel,types,fn)},$.fn.off=function(types,sel,fn){return this.undelegate(sel,types,fn)},!1)},outerHTML:function(el){return el.outerHTML||(new XMLSerializer).serializeToString(el)},version:function(){return settings.version},tabbable:function(el){$(el).on("keydown",function(event){if(!event.isDefaultPrevented()&&event.keyCode&&27===event.keyCode)return event.preventDefault(),void methods.end(!0);if(9===event.keyCode){var tabbables=$(el).find(":tabbable"),first=tabbables.filter(":first"),last=tabbables.filter(":last");event.target!==last[0]||event.shiftKey?event.target===first[0]&&event.shiftKey&&(last.focus(1),event.preventDefault()):(first.focus(1),event.preventDefault())}})}};$.fn.joyride=function(method){return methods[method]?methods[method].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery.joyride"):methods.init.apply(this,arguments)}}(jQuery,this),define("joyride",function(){}),"function"!=typeof Object.create&&(Object.create=function(obj){function F(){}return F.prototype=obj,new F}),function($,window){var ToolBar={init:function(options,elem){var self=this;self.elem=elem,self.$elem=$(elem),self.options=$.extend({},$.fn.toolbar.options,options),self.toolbar=$('<div class="tool-container gradient" />').addClass("tool-"+self.options.position).addClass("tool-rounded").append('<div class="tool-items" />').append('<div class="arrow" />').appendTo("body").css("opacity",0).hide(),self.toolbar_arrow=self.toolbar.find(".arrow"),self.initializeToolbar()},initializeToolbar:function(){var self=this;self.populateContent(),self.setTrigger(),self.toolbarWidth=self.toolbar.width()},setTrigger:function(){var self=this;self.$elem.on("click",function(event){event.preventDefault(),self.$elem.hasClass("pressed")?self.hide():self.show()}),self.options.hideOnClick&&$("html").on("click.toolbar",function(event){event.target!=self.elem&&0===self.$elem.has(event.target).length&&0===self.toolbar.has(event.target).length&&self.toolbar.is(":visible")&&self.hide()}),$(window).resize(function(event){event.stopPropagation(),self.toolbar.is(":visible")&&(self.toolbarCss=self.getCoordinates(self.options.position,20),self.collisionDetection(),self.toolbar.css(self.toolbarCss),self.toolbar_arrow.css(self.arrowCss))})},populateContent:function(){var self=this,location=self.toolbar.find(".tool-items"),content=$(self.options.content).clone(!0).find("a").addClass("tool-item gradient");location.html(content),location.find(".tool-item").on("click",function(event){event.preventDefault(),self.$elem.trigger("toolbarItemClick",this)})},calculatePosition:function(){var self=this;self.arrowCss={},self.toolbarCss=self.getCoordinates(self.options.position,0),self.toolbarCss.position="absolute",self.toolbarCss.zIndex=self.options.zIndex,self.collisionDetection(),self.toolbar.css(self.toolbarCss),self.toolbar_arrow.css(self.arrowCss)},getCoordinates:function(position,adjustment){var self=this;switch(self.coordinates=self.$elem.offset(),self.options.adjustment&&self.options.adjustment[self.options.position]&&(adjustment=self.options.adjustment[self.options.position]+adjustment),self.options.position){case"top":return{left:self.coordinates.left-self.toolbar.width()/2+self.$elem.outerWidth()/2,top:self.coordinates.top-self.$elem.height()-adjustment,right:"auto"};case"left":return{left:self.coordinates.left-self.toolbar.width()/2-self.$elem.width()/2-adjustment,top:self.coordinates.top-self.toolbar.height()/2+self.$elem.outerHeight()/2,right:"auto"};case"right":return{left:self.coordinates.left+self.toolbar.width()/2+self.$elem.width()/3+adjustment,top:self.coordinates.top-self.toolbar.height()/2+self.$elem.outerHeight()/2,right:"auto"};case"bottom":return{left:self.coordinates.left-self.toolbar.width()/2+self.$elem.outerWidth()/2,top:self.coordinates.top+self.$elem.height()+adjustment,right:"auto"}}},collisionDetection:function(){var self=this,edgeOffset=20;("top"==self.options.position||"bottom"==self.options.position)&&(self.arrowCss={left:"50%",right:"50%"},self.toolbarCss.left<edgeOffset?(self.toolbarCss.left=edgeOffset,self.arrowCss.left=self.$elem.offset().left+self.$elem.width()/2-edgeOffset):$(window).width()-(self.toolbarCss.left+self.toolbarWidth)<edgeOffset&&(self.toolbarCss.right=edgeOffset,self.toolbarCss.left="auto",self.arrowCss.left="auto",self.arrowCss.right=$(window).width()-self.$elem.offset().left-self.$elem.width()/2-edgeOffset-5))},show:function(){var self=this,animation={opacity:1};switch(self.$elem.addClass("pressed"),self.calculatePosition(),self.options.position){case"top":animation.top="-=20";break;case"left":animation.left="-=20";break;case"right":animation.left="+=20";break;case"bottom":animation.top="+=20"}self.toolbar.show().animate(animation,200),self.$elem.trigger("toolbarShown")},hide:function(){var self=this,animation={opacity:0};switch(self.$elem.removeClass("pressed"),self.options.position){case"top":animation.top="+=20";break;case"left":animation.left="+=20";break;case"right":animation.left="-=20";break;case"bottom":animation.top="-=20"}self.toolbar.animate(animation,200,function(){self.toolbar.hide()}),self.$elem.trigger("toolbarHidden")},getToolbarElement:function(){return this.toolbar.find(".tool-items")}};$.fn.toolbar=function(options){if($.isPlainObject(options))return this.each(function(){var toolbarObj=Object.create(ToolBar);toolbarObj.init(options,this),$(this).data("toolbarObj",toolbarObj)});if("string"==typeof options&&0!==options.indexOf("_")){var toolbarObj=$(this).data("toolbarObj"),method=toolbarObj[options];return method.apply(toolbarObj,$.makeArray(arguments).slice(1))}},$.fn.toolbar.options={position:"bottom",hideOnClick:!0,zIndex:120}}(jQuery,window,document),define("toolbar",function(){}),function($,window,document,undefined){function normCommand(cmd){return cmd&&cmd.match(/^#/)?cmd.substring(1):cmd||""}var supportSelectstart="onselectstart"in document.createElement("div");$.widget("moogle.contextmenu",{version:"1.4.0-1",options:{autoTrigger:!0,delegate:null,hide:{effect:"fadeOut",duration:"fast"},ignoreParentSelect:!0,menu:null,position:null,preventContextMenuForPopup:!1,preventSelect:!1,show:{effect:"slideDown",duration:"fast"},taphold:!1,beforeOpen:$.noop,blur:$.noop,close:$.noop,create:$.noop,createMenu:$.noop,focus:$.noop,open:$.noop,select:$.noop},_create:function(){var cssText,eventNames,targetId,opts=this.options;if(this.$headStyle=null,this.$menu=null,this.menuIsTemp=!1,this.currentTarget=null,opts.preventSelect){targetId=($(this.element).is(document)?$("body"):this.element).uniqueId().attr("id"),cssText="#"+targetId+" "+opts.delegate+" { -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }",this.$headStyle=$("<style class='moogle-contextmenu-style' />").prop("type","text/css").appendTo("head");try{this.$headStyle.html(cssText)}catch(e){this.$headStyle[0].styleSheet.cssText=cssText}supportSelectstart&&this.element.delegate(opts.delegate,"selectstart"+this.eventNamespace,function(event){event.preventDefault()})}this._createUiMenu(opts.menu),eventNames="contextmenu"+this.eventNamespace,opts.taphold&&(eventNames+=" taphold"+this.eventNamespace),this.element.delegate(opts.delegate,eventNames,$.proxy(this._openMenu,this))},_destroy:function(){this.element.undelegate(this.eventNamespace),this._createUiMenu(null),this.$headStyle&&(this.$headStyle.remove(),this.$headStyle=null)},_createUiMenu:function(menuDef){var ct;this.isOpen()&&(ct=this.currentTarget,this._closeMenu(!0),this.currentTarget=ct),this.menuIsTemp?this.$menu.remove():this.$menu&&this.$menu.menu("destroy").hide(),this.$menu=null,this.menuIsTemp=!1,menuDef&&($.isArray(menuDef)?(this.$menu=$.moogle.contextmenu.createMenuMarkup(menuDef),this.menuIsTemp=!0):"string"==typeof menuDef?this.$menu=$(menuDef):"function"==typeof menuDef?(this.$menu=$.moogle.contextmenu.createMenuMarkup(menuDef()),this.menuIsTemp=!0):this.$menu=menuDef,this.$menu.hide().menu({blur:$.proxy(this.options.blur,this),create:$.proxy(this.options.createMenu,this),focus:$.proxy(this.options.focus,this),select:$.proxy(function(event,ui){var retval,isParent=ui.item.has(">a[aria-haspopup='true']").length>0,$a=ui.item.find(">a"),actionHandler=$a.data("actionHandler");ui.cmd=normCommand($a.attr("href")),ui.target=$(this.currentTarget),isParent&&this.options.ignoreParentSelect||(retval=this._trigger.call(this,"select",event,ui),actionHandler&&(retval=actionHandler.call(this,event,ui)),retval!==!1&&this._closeMenu.call(this),event.preventDefault())},this)}))},_openMenu:function(event){var opts=this.options,posOption=opts.position,self=this,manualTrigger=!!event.isTrigger,ui={menu:this.$menu,target:$(event.target),extraData:event.extraData,originalEvent:event};if(opts.autoTrigger||manualTrigger){if(this.currentTarget=event.target,event.preventDefault(),this._trigger("beforeOpen",event,ui)===!1)return this.currentTarget=null,!1;ui.menu=this.$menu,$(document).bind("keydown"+this.eventNamespace,function(event){event.which===$.ui.keyCode.ESCAPE&&self._closeMenu()}).bind("mousedown"+this.eventNamespace+" touchstart"+this.eventNamespace,function(event){$(event.target).closest(".ui-menu-item").length||self._closeMenu()}),$.isFunction(posOption)&&(posOption=posOption(event,ui)),posOption=$.extend({my:"left top",at:"left bottom",of:event.pageX===undefined?event.target:event,collision:"fit"},posOption),this.$menu.show().css({position:"absolute",left:0,top:0}).position(posOption).hide(),opts.preventContextMenuForPopup&&this.$menu.bind("contextmenu"+this.eventNamespace,function(event){event.preventDefault()}),this._show(this.$menu,this.options.show,function(){self._trigger.call(self,"open",event,ui)})}},_closeMenu:function(immediately){var self=this,hideOpts=immediately?!1:this.options.hide;$(document).unbind("mousedown"+this.eventNamespace).unbind("touchstart"+this.eventNamespace).unbind("keydown"+this.eventNamespace),this.$menu.unbind("contextmenu"+this.eventNamespace),self.currentTarget=null,this._hide(this.$menu,hideOpts,function(){self._trigger("close")})},_setOption:function(key,value){switch(key){case"menu":this.replaceMenu(value)}$.Widget.prototype._setOption.apply(this,arguments)},_getMenuEntry:function(cmd,wantLi){var $entry=this.$menu.find("li a[href=#"+normCommand(cmd)+"]");return wantLi?$entry.closest("li"):$entry},close:function(){this.isOpen()&&this._closeMenu()},enableEntry:function(cmd,flag){this._getMenuEntry(cmd,!0).toggleClass("ui-state-disabled",flag===!1)},getMenu:function(){return this.$menu},isOpen:function(){return!!this.$menu&&!!this.currentTarget},open:function(target,extraData){extraData=extraData||{};var e=jQuery.Event("contextmenu",{target:target.get(0),extraData:extraData});return this.element.trigger(e)},replaceMenu:function(data){this._createUiMenu(data)},setEntry:function(cmd,titleOrData){var $parent,$entry=this._getMenuEntry(cmd,!1);"string"==typeof titleOrData?$entry.children("span").length?$entry.contents().filter(function(){return 3===this.nodeType}).first().replaceWith(titleOrData):$entry.text(titleOrData):($parent=$entry.closest("li").empty(),titleOrData.cmd=titleOrData.cmd||cmd,$.moogle.contextmenu.createEntryMarkup(titleOrData,$parent))},showEntry:function(cmd,flag){this._getMenuEntry(cmd,!0).toggle(flag!==!1)}}),$.extend($.moogle.contextmenu,{createEntryMarkup:function(entry,$parentLi){var $a=null;return/[^\-\u2014\u2013\s]/.test(entry.title)?($a=$("<a/>",{html:""+entry.title,href:"#"+normCommand(entry.cmd)}).appendTo($parentLi),$.isFunction(entry.action)&&$a.data("actionHandler",entry.action),entry.uiIcon&&$a.append($("<span class='ui-icon' />").addClass(entry.uiIcon)),entry.disabled&&$parentLi.addClass("ui-state-disabled"),$.isPlainObject(entry.data)&&$a.data(entry.data)):$parentLi.text(entry.title),$a},createMenuMarkup:function(options,$parentUl){var i,menu,$ul,$li;for(null==$parentUl&&($parentUl=$("<ul class='ui-helper-hidden' />").appendTo("body")),i=0;i<options.length;i++)menu=options[i],$li=$("<li/>").appendTo($parentUl),$.moogle.contextmenu.createEntryMarkup(menu,$li),$.isArray(menu.children)&&($ul=$("<ul/>").appendTo($li),$.moogle.contextmenu.createMenuMarkup(menu.children,$ul));return $parentUl}})}(jQuery,window,document),define("contextmenu",function(){}),!function(e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("remote/socket.io",e):"undefined"!=typeof window?window.io=e():"undefined"!=typeof global?global.io=e():"undefined"!=typeof self&&(self.io=e())}(function(){var define;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error("Cannot find module '"+o+"'")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module){module.exports=require("./lib/")},{"./lib/":2}],2:[function(require,module,exports){function lookup(uri,opts){"object"==typeof uri&&(opts=uri,uri=void 0),opts=opts||{};var io,parsed=url(uri),source=parsed.source,id=parsed.id;return opts.forceNew||opts["force new connection"]||!1===opts.multiplex?(debug("ignoring socket cache for %s",source),io=Manager(source,opts)):(cache[id]||(debug("new io instance for %s",source),cache[id]=Manager(source,opts)),io=cache[id]),io.socket(parsed.path)}var url=require("./url"),parser=require("socket.io-parser"),Manager=require("./manager"),debug=require("debug")("socket.io-client");module.exports=exports=lookup;var cache=exports.managers={};exports.protocol=parser.protocol,exports.connect=lookup,exports.Manager=require("./manager"),exports.Socket=require("./socket")},{"./manager":3,"./socket":5,"./url":6,debug:9,"socket.io-parser":40}],3:[function(require,module){function Manager(uri,opts){return this instanceof Manager?(uri&&"object"==typeof uri&&(opts=uri,uri=void 0),opts=opts||{},opts.path=opts.path||"/socket.io",this.nsps={},this.subs=[],this.opts=opts,this.reconnection(opts.reconnection!==!1),this.reconnectionAttempts(opts.reconnectionAttempts||1/0),this.reconnectionDelay(opts.reconnectionDelay||1e3),this.reconnectionDelayMax(opts.reconnectionDelayMax||5e3),this.timeout(null==opts.timeout?2e4:opts.timeout),this.readyState="closed",this.uri=uri,this.connected=0,this.attempts=0,this.encoding=!1,this.packetBuffer=[],this.encoder=new parser.Encoder,this.decoder=new parser.Decoder,void this.open()):new Manager(uri,opts)}var eio=(require("./url"),require("engine.io-client")),Socket=require("./socket"),Emitter=require("component-emitter"),parser=require("socket.io-parser"),on=require("./on"),bind=require("component-bind"),debug=(require("object-component"),require("debug")("socket.io-client:manager"));module.exports=Manager,Manager.prototype.emitAll=function(){this.emit.apply(this,arguments);for(var nsp in this.nsps)this.nsps[nsp].emit.apply(this.nsps[nsp],arguments)},Emitter(Manager.prototype),Manager.prototype.reconnection=function(v){return arguments.length?(this._reconnection=!!v,this):this._reconnection},Manager.prototype.reconnectionAttempts=function(v){return arguments.length?(this._reconnectionAttempts=v,this):this._reconnectionAttempts},Manager.prototype.reconnectionDelay=function(v){return arguments.length?(this._reconnectionDelay=v,this):this._reconnectionDelay},Manager.prototype.reconnectionDelayMax=function(v){return arguments.length?(this._reconnectionDelayMax=v,this):this._reconnectionDelayMax},Manager.prototype.timeout=function(v){return arguments.length?(this._timeout=v,this):this._timeout},Manager.prototype.maybeReconnectOnOpen=function(){this.openReconnect||this.reconnecting||!this._reconnection||(this.openReconnect=!0,this.reconnect())},Manager.prototype.open=Manager.prototype.connect=function(fn){if(debug("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;debug("opening %s",this.uri),this.engine=eio(this.uri,this.opts);var socket=this.engine,self=this;this.readyState="opening";var openSub=on(socket,"open",function(){self.onopen(),fn&&fn()}),errorSub=on(socket,"error",function(data){if(debug("connect_error"),self.cleanup(),self.readyState="closed",self.emitAll("connect_error",data),fn){var err=new Error("Connection error");err.data=data,fn(err)}self.maybeReconnectOnOpen()});if(!1!==this._timeout){var timeout=this._timeout;debug("connect attempt will timeout after %d",timeout);var timer=setTimeout(function(){debug("connect attempt timed out after %d",timeout),openSub.destroy(),socket.close(),socket.emit("error","timeout"),self.emitAll("connect_timeout",timeout)},timeout);this.subs.push({destroy:function(){clearTimeout(timer)}})}return this.subs.push(openSub),this.subs.push(errorSub),this},Manager.prototype.onopen=function(){debug("open"),this.cleanup(),this.readyState="open",this.emit("open");var socket=this.engine;this.subs.push(on(socket,"data",bind(this,"ondata"))),this.subs.push(on(this.decoder,"decoded",bind(this,"ondecoded"))),this.subs.push(on(socket,"error",bind(this,"onerror"))),this.subs.push(on(socket,"close",bind(this,"onclose")))},Manager.prototype.ondata=function(data){this.decoder.add(data)},Manager.prototype.ondecoded=function(packet){this.emit("packet",packet)},Manager.prototype.onerror=function(err){debug("error",err),this.emitAll("error",err)},Manager.prototype.socket=function(nsp){var socket=this.nsps[nsp];if(!socket){socket=new Socket(this,nsp),this.nsps[nsp]=socket;var self=this;socket.on("connect",function(){self.connected++})}return socket},Manager.prototype.destroy=function(){--this.connected||this.close()},Manager.prototype.packet=function(packet){debug("writing packet %j",packet);var self=this;self.encoding?self.packetBuffer.push(packet):(self.encoding=!0,this.encoder.encode(packet,function(encodedPackets){for(var i=0;i<encodedPackets.length;i++)self.engine.write(encodedPackets[i]);self.encoding=!1,self.processPacketQueue()}))},Manager.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var pack=this.packetBuffer.shift();this.packet(pack)}},Manager.prototype.cleanup=function(){for(var sub;sub=this.subs.shift();)sub.destroy();this.packetBuffer=[],this.encoding=!1,this.decoder.destroy()},Manager.prototype.close=Manager.prototype.disconnect=function(){this.skipReconnect=!0,this.engine.close()},Manager.prototype.onclose=function(reason){debug("close"),this.cleanup(),this.readyState="closed",this.emit("close",reason),this._reconnection&&!this.skipReconnect&&this.reconnect()},Manager.prototype.reconnect=function(){if(this.reconnecting)return this;var self=this;if(this.attempts++,this.attempts>this._reconnectionAttempts)debug("reconnect failed"),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var delay=this.attempts*this.reconnectionDelay();delay=Math.min(delay,this.reconnectionDelayMax()),debug("will wait %dms before reconnect attempt",delay),this.reconnecting=!0;var timer=setTimeout(function(){debug("attempting reconnect"),self.emitAll("reconnect_attempt",self.attempts),self.emitAll("reconnecting",self.attempts),self.open(function(err){err?(debug("reconnect attempt error"),self.reconnecting=!1,self.reconnect(),self.emitAll("reconnect_error",err.data)):(debug("reconnect success"),self.onreconnect())})},delay);this.subs.push({destroy:function(){clearTimeout(timer)}})}},Manager.prototype.onreconnect=function(){var attempt=this.attempts;this.attempts=0,this.reconnecting=!1,this.emitAll("reconnect",attempt)}},{"./on":4,"./socket":5,"./url":6,"component-bind":7,"component-emitter":8,debug:9,"engine.io-client":11,"object-component":37,"socket.io-parser":40}],4:[function(require,module){function on(obj,ev,fn){return obj.on(ev,fn),{destroy:function(){obj.removeListener(ev,fn)}}}module.exports=on},{}],5:[function(require,module,exports){function Socket(io,nsp){this.io=io,this.nsp=nsp,this.json=this,this.ids=0,this.acks={},this.open(),this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.subEvents()}{var parser=require("socket.io-parser"),Emitter=require("component-emitter"),toArray=require("to-array"),on=require("./on"),bind=require("component-bind"),debug=require("debug")("socket.io-client:socket"),hasBin=require("has-binary-data");require("indexof")}module.exports=exports=Socket;var events={connect:1,connect_error:1,connect_timeout:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1},emit=Emitter.prototype.emit;Emitter(Socket.prototype),Socket.prototype.subEvents=function(){var io=this.io;this.subs=[on(io,"open",bind(this,"onopen")),on(io,"packet",bind(this,"onpacket")),on(io,"close",bind(this,"onclose"))]},Socket.prototype.open=Socket.prototype.connect=function(){return this.connected?this:(this.io.open(),"open"==this.io.readyState&&this.onopen(),this)},Socket.prototype.send=function(){var args=toArray(arguments);return args.unshift("message"),this.emit.apply(this,args),this},Socket.prototype.emit=function(ev){if(events.hasOwnProperty(ev))return emit.apply(this,arguments),this;var args=toArray(arguments),parserType=parser.EVENT;hasBin(args)&&(parserType=parser.BINARY_EVENT);var packet={type:parserType,data:args};return"function"==typeof args[args.length-1]&&(debug("emitting packet with ack id %d",this.ids),this.acks[this.ids]=args.pop(),packet.id=this.ids++),this.connected?this.packet(packet):this.sendBuffer.push(packet),this},Socket.prototype.packet=function(packet){packet.nsp=this.nsp,this.io.packet(packet)},Socket.prototype.onopen=function(){debug("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:parser.CONNECT})},Socket.prototype.onclose=function(reason){debug("close (%s)",reason),this.connected=!1,this.disconnected=!0,this.emit("disconnect",reason)},Socket.prototype.onpacket=function(packet){if(packet.nsp==this.nsp)switch(packet.type){case parser.CONNECT:this.onconnect();break;case parser.EVENT:this.onevent(packet);break;case parser.BINARY_EVENT:this.onevent(packet);break;case parser.ACK:this.onack(packet);break;case parser.BINARY_ACK:this.onack(packet);break;case parser.DISCONNECT:this.ondisconnect();break;case parser.ERROR:this.emit("error",packet.data)}},Socket.prototype.onevent=function(packet){var args=packet.data||[];debug("emitting event %j",args),null!=packet.id&&(debug("attaching ack callback to event"),args.push(this.ack(packet.id))),this.connected?emit.apply(this,args):this.receiveBuffer.push(args)},Socket.prototype.ack=function(id){var self=this,sent=!1;return function(){if(!sent){sent=!0;var args=toArray(arguments);debug("sending ack %j",args);var type=hasBin(args)?parser.BINARY_ACK:parser.ACK;self.packet({type:type,id:id,data:args})}}},Socket.prototype.onack=function(packet){debug("calling ack %s with %j",packet.id,packet.data);var fn=this.acks[packet.id];fn.apply(this,packet.data),delete this.acks[packet.id]},Socket.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},Socket.prototype.emitBuffered=function(){var i;for(i=0;i<this.receiveBuffer.length;i++)emit.apply(this,this.receiveBuffer[i]);for(this.receiveBuffer=[],i=0;i<this.sendBuffer.length;i++)this.packet(this.sendBuffer[i]);this.sendBuffer=[]},Socket.prototype.ondisconnect=function(){debug("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},Socket.prototype.destroy=function(){for(var i=0;i<this.subs.length;i++)this.subs[i].destroy();this.io.destroy(this)},Socket.prototype.close=Socket.prototype.disconnect=function(){return this.connected?(debug("performing disconnect (%s)",this.nsp),this.packet({type:parser.DISCONNECT}),this.destroy(),this.onclose("io client disconnect"),this):this}},{"./on":4,"component-bind":7,"component-emitter":8,debug:9,"has-binary-data":32,indexof:36,"socket.io-parser":40,"to-array":43}],6:[function(require,module){function url(uri,loc){var obj=uri,loc=loc||global.location;return null==uri&&(uri=loc.protocol+"//"+loc.hostname),"string"==typeof uri&&("/"==uri.charAt(0)&&"undefined"!=typeof loc&&(uri=loc.hostname+uri),/^(https?|wss?):\/\//.test(uri)||(debug("protocol-less url %s",uri),uri="undefined"!=typeof loc?loc.protocol+"//"+uri:"https://"+uri),debug("parse %s",uri),obj=parseuri(uri)),obj.port||(/^(http|ws)$/.test(obj.protocol)?obj.port="80":/^(http|ws)s$/.test(obj.protocol)&&(obj.port="443")),obj.path=obj.path||"/",obj.id=obj.protocol+"://"+obj.host+":"+obj.port,obj.href=obj.protocol+"://"+obj.host+(loc&&loc.port==obj.port?"":":"+obj.port),obj}var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},parseuri=require("parseuri"),debug=require("debug")("socket.io-client:url");module.exports=url},{debug:9,parseuri:38}],7:[function(require,module){var slice=[].slice;module.exports=function(obj,fn){if("string"==typeof fn&&(fn=obj[fn]),"function"!=typeof fn)throw new Error("bind() requires a function");var args=slice.call(arguments,2);return function(){return fn.apply(obj,args.concat(slice.call(arguments)))}}},{}],8:[function(require,module){function Emitter(obj){return obj?mixin(obj):void 0}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks[event]=this._callbacks[event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){self.off(event,on),fn.apply(this,arguments)}var self=this;return this._callbacks=this._callbacks||{},on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks[event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;len>i;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks[event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],9:[function(require,module){function debug(name){return debug.enabled(name)?function(fmt){fmt=coerce(fmt);var curr=new Date,ms=curr-(debug[name]||curr);debug[name]=curr,fmt=name+" "+fmt+" +"+debug.humanize(ms),window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}:function(){}}function coerce(val){return val instanceof Error?val.stack||val.message:val}module.exports=debug,debug.names=[],debug.skips=[],debug.enable=function(name){try{localStorage.debug=name}catch(e){}for(var split=(name||"").split(/[\s,]+/),len=split.length,i=0;len>i;i++)name=split[i].replace("*",".*?"),"-"===name[0]?debug.skips.push(new RegExp("^"+name.substr(1)+"$")):debug.names.push(new RegExp("^"+name+"$"))},debug.disable=function(){debug.enable("")},debug.humanize=function(ms){var sec=1e3,min=6e4,hour=60*min;return ms>=hour?(ms/hour).toFixed(1)+"h":ms>=min?(ms/min).toFixed(1)+"m":ms>=sec?(ms/sec|0)+"s":ms+"ms"},debug.enabled=function(name){for(var i=0,len=debug.skips.length;len>i;i++)if(debug.skips[i].test(name))return!1;for(var i=0,len=debug.names.length;len>i;i++)if(debug.names[i].test(name))return!0;return!1};try{window.localStorage&&debug.enable(localStorage.debug)}catch(e){}},{}],10:[function(require,module){function Emitter(obj){return obj?mixin(obj):void 0}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}var index=require("indexof");module.exports=Emitter,Emitter.prototype.on=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks[event]=this._callbacks[event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){self.off(event,on),fn.apply(this,arguments)}var self=this;return this._callbacks=this._callbacks||{},fn._off=on,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;
var callbacks=this._callbacks[event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks[event],this;var i=index(callbacks,fn._off||fn);return~i&&callbacks.splice(i,1),this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks[event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;len>i;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks[event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{indexof:36}],11:[function(require,module){module.exports=require("./lib/")},{"./lib/":12}],12:[function(require,module){module.exports=require("./socket"),module.exports.parser=require("engine.io-parser")},{"./socket":13,"engine.io-parser":22}],13:[function(require,module){function Socket(uri,opts){if(!(this instanceof Socket))return new Socket(uri,opts);if(opts=opts||{},uri&&"object"==typeof uri&&(opts=uri,uri=null),uri&&(uri=parseuri(uri),opts.host=uri.host,opts.secure="https"==uri.protocol||"wss"==uri.protocol,opts.port=uri.port,uri.query&&(opts.query=uri.query)),this.secure=null!=opts.secure?opts.secure:global.location&&"https:"==location.protocol,opts.host){var pieces=opts.host.split(":");opts.hostname=pieces.shift(),pieces.length&&(opts.port=pieces.pop())}this.agent=opts.agent||!1,this.hostname=opts.hostname||(global.location?location.hostname:"localhost"),this.port=opts.port||(global.location&&location.port?location.port:this.secure?443:80),this.query=opts.query||{},"string"==typeof this.query&&(this.query=parseqs.decode(this.query)),this.upgrade=!1!==opts.upgrade,this.path=(opts.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!opts.forceJSONP,this.forceBase64=!!opts.forceBase64,this.timestampParam=opts.timestampParam||"t",this.timestampRequests=opts.timestampRequests,this.transports=opts.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.callbackBuffer=[],this.policyPort=opts.policyPort||843,this.rememberUpgrade=opts.rememberUpgrade||!1,this.open(),this.binaryType=null,this.onlyBinaryUpgrades=opts.onlyBinaryUpgrades}function clone(obj){var o={};for(var i in obj)obj.hasOwnProperty(i)&&(o[i]=obj[i]);return o}var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},transports=require("./transports"),Emitter=require("component-emitter"),debug=require("debug")("engine.io-client:socket"),index=require("indexof"),parser=require("engine.io-parser"),parseuri=require("parseuri"),parsejson=require("parsejson"),parseqs=require("parseqs");module.exports=Socket,Socket.priorWebsocketSuccess=!1,Emitter(Socket.prototype),Socket.protocol=parser.protocol,Socket.Socket=Socket,Socket.Transport=require("./transport"),Socket.transports=require("./transports"),Socket.parser=require("engine.io-parser"),Socket.prototype.createTransport=function(name){debug('creating transport "%s"',name);var query=clone(this.query);query.EIO=parser.protocol,query.transport=name,this.id&&(query.sid=this.id);var transport=new transports[name]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:query,forceJSONP:this.forceJSONP,forceBase64:this.forceBase64,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this});return transport},Socket.prototype.open=function(){var transport;transport=this.rememberUpgrade&&Socket.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket")?"websocket":this.transports[0],this.readyState="opening";var transport=this.createTransport(transport);transport.open(),this.setTransport(transport)},Socket.prototype.setTransport=function(transport){debug("setting transport %s",transport.name);var self=this;this.transport&&(debug("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=transport,transport.on("drain",function(){self.onDrain()}).on("packet",function(packet){self.onPacket(packet)}).on("error",function(e){self.onError(e)}).on("close",function(){self.onClose("transport close")})},Socket.prototype.probe=function(name){function onTransportOpen(){if(self.onlyBinaryUpgrades){var upgradeLosesBinary=!this.supportsBinary&&self.transport.supportsBinary;failed=failed||upgradeLosesBinary}failed||(debug('probe transport "%s" opened',name),transport.send([{type:"ping",data:"probe"}]),transport.once("packet",function(msg){if(!failed)if("pong"==msg.type&&"probe"==msg.data)debug('probe transport "%s" pong',name),self.upgrading=!0,self.emit("upgrading",transport),Socket.priorWebsocketSuccess="websocket"==transport.name,debug('pausing current transport "%s"',self.transport.name),self.transport.pause(function(){failed||"closed"!=self.readyState&&"closing"!=self.readyState&&(debug("changing transport and sending upgrade packet"),cleanup(),self.setTransport(transport),transport.send([{type:"upgrade"}]),self.emit("upgrade",transport),transport=null,self.upgrading=!1,self.flush())});else{debug('probe transport "%s" failed',name);var err=new Error("probe error");err.transport=transport.name,self.emit("upgradeError",err)}}))}function freezeTransport(){failed||(failed=!0,cleanup(),transport.close(),transport=null)}function onerror(err){var error=new Error("probe error: "+err);error.transport=transport.name,freezeTransport(),debug('probe transport "%s" failed because of error: %s',name,err),self.emit("upgradeError",error)}function onTransportClose(){onerror("transport closed")}function onclose(){onerror("socket closed")}function onupgrade(to){transport&&to.name!=transport.name&&(debug('"%s" works - aborting "%s"',to.name,transport.name),freezeTransport())}function cleanup(){transport.removeListener("open",onTransportOpen),transport.removeListener("error",onerror),transport.removeListener("close",onTransportClose),self.removeListener("close",onclose),self.removeListener("upgrading",onupgrade)}debug('probing transport "%s"',name);var transport=this.createTransport(name,{probe:1}),failed=!1,self=this;Socket.priorWebsocketSuccess=!1,transport.once("open",onTransportOpen),transport.once("error",onerror),transport.once("close",onTransportClose),this.once("close",onclose),this.once("upgrading",onupgrade),transport.open()},Socket.prototype.onOpen=function(){if(debug("socket open"),this.readyState="open",Socket.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){debug("starting upgrade probes");for(var i=0,l=this.upgrades.length;l>i;i++)this.probe(this.upgrades[i])}},Socket.prototype.onPacket=function(packet){if("opening"==this.readyState||"open"==this.readyState)switch(debug('socket receive: type "%s", data "%s"',packet.type,packet.data),this.emit("packet",packet),this.emit("heartbeat"),packet.type){case"open":this.onHandshake(parsejson(packet.data));break;case"pong":this.setPing();break;case"error":var err=new Error("server error");err.code=packet.data,this.emit("error",err);break;case"message":this.emit("data",packet.data),this.emit("message",packet.data)}else debug('packet received with socket readyState "%s"',this.readyState)},Socket.prototype.onHandshake=function(data){this.emit("handshake",data),this.id=data.sid,this.transport.query.sid=data.sid,this.upgrades=this.filterUpgrades(data.upgrades),this.pingInterval=data.pingInterval,this.pingTimeout=data.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},Socket.prototype.onHeartbeat=function(timeout){clearTimeout(this.pingTimeoutTimer);var self=this;self.pingTimeoutTimer=setTimeout(function(){"closed"!=self.readyState&&self.onClose("ping timeout")},timeout||self.pingInterval+self.pingTimeout)},Socket.prototype.setPing=function(){var self=this;clearTimeout(self.pingIntervalTimer),self.pingIntervalTimer=setTimeout(function(){debug("writing ping packet - expecting pong within %sms",self.pingTimeout),self.ping(),self.onHeartbeat(self.pingTimeout)},self.pingInterval)},Socket.prototype.ping=function(){this.sendPacket("ping")},Socket.prototype.onDrain=function(){for(var i=0;i<this.prevBufferLen;i++)this.callbackBuffer[i]&&this.callbackBuffer[i]();this.writeBuffer.splice(0,this.prevBufferLen),this.callbackBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0==this.writeBuffer.length?this.emit("drain"):this.flush()},Socket.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(debug("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},Socket.prototype.write=Socket.prototype.send=function(msg,fn){return this.sendPacket("message",msg,fn),this},Socket.prototype.sendPacket=function(type,data,fn){var packet={type:type,data:data};this.emit("packetCreate",packet),this.writeBuffer.push(packet),this.callbackBuffer.push(fn),this.flush()},Socket.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.onClose("forced close"),debug("socket closing - telling transport to close"),this.transport.close()),this},Socket.prototype.onError=function(err){debug("socket error %j",err),Socket.priorWebsocketSuccess=!1,this.emit("error",err),this.onClose("transport error",err)},Socket.prototype.onClose=function(reason,desc){if("opening"==this.readyState||"open"==this.readyState){debug('socket close with reason: "%s"',reason);var self=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),setTimeout(function(){self.writeBuffer=[],self.callbackBuffer=[],self.prevBufferLen=0},0),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",reason,desc)}},Socket.prototype.filterUpgrades=function(upgrades){for(var filteredUpgrades=[],i=0,j=upgrades.length;j>i;i++)~index(this.transports,upgrades[i])&&filteredUpgrades.push(upgrades[i]);return filteredUpgrades}},{"./transport":14,"./transports":15,"component-emitter":8,debug:9,"engine.io-parser":22,indexof:36,parsejson:29,parseqs:30,parseuri:38}],14:[function(require,module){function Transport(opts){this.path=opts.path,this.hostname=opts.hostname,this.port=opts.port,this.secure=opts.secure,this.query=opts.query,this.timestampParam=opts.timestampParam,this.timestampRequests=opts.timestampRequests,this.readyState="",this.agent=opts.agent||!1,this.socket=opts.socket}var parser=require("engine.io-parser"),Emitter=require("component-emitter");module.exports=Transport,Emitter(Transport.prototype),Transport.timestamps=0,Transport.prototype.onError=function(msg,desc){var err=new Error(msg);return err.type="TransportError",err.description=desc,this.emit("error",err),this},Transport.prototype.open=function(){return("closed"==this.readyState||""==this.readyState)&&(this.readyState="opening",this.doOpen()),this},Transport.prototype.close=function(){return("opening"==this.readyState||"open"==this.readyState)&&(this.doClose(),this.onClose()),this},Transport.prototype.send=function(packets){if("open"!=this.readyState)throw new Error("Transport not open");this.write(packets)},Transport.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},Transport.prototype.onData=function(data){try{var packet=parser.decodePacket(data,this.socket.binaryType);this.onPacket(packet)}catch(e){e.data=data,this.onError("parser decode error",e)}},Transport.prototype.onPacket=function(packet){this.emit("packet",packet)},Transport.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"component-emitter":8,"engine.io-parser":22}],15:[function(require,module,exports){function polling(opts){var xhr,xd=!1;if(global.location){var isSSL="https:"==location.protocol,port=location.port;port||(port=isSSL?443:80),xd=opts.hostname!=location.hostname||port!=opts.port}return opts.xdomain=xd,xhr=new XMLHttpRequest(opts),"open"in xhr&&!opts.forceJSONP?new XHR(opts):new JSONP(opts)}var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},XMLHttpRequest=require("xmlhttprequest"),XHR=require("./polling-xhr"),JSONP=require("./polling-jsonp"),websocket=require("./websocket");exports.polling=polling,exports.websocket=websocket},{"./polling-jsonp":16,"./polling-xhr":17,"./websocket":19,xmlhttprequest:20}],16:[function(require,module){function empty(){}function JSONPPolling(opts){Polling.call(this,opts),this.query=this.query||{},callbacks||(global.___eio||(global.___eio=[]),callbacks=global.___eio),this.index=callbacks.length;var self=this;callbacks.push(function(msg){self.onData(msg)}),this.query.j=this.index,global.document&&global.addEventListener&&global.addEventListener("beforeunload",function(){self.script&&(self.script.onerror=empty)})}var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},Polling=require("./polling"),inherit=require("component-inherit");module.exports=JSONPPolling;var callbacks,rNewline=/\n/g,rEscapedNewline=/\\n/g;inherit(JSONPPolling,Polling),JSONPPolling.prototype.supportsBinary=!1,JSONPPolling.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null),Polling.prototype.doClose.call(this)},JSONPPolling.prototype.doPoll=function(){var self=this,script=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),script.async=!0,script.src=this.uri(),script.onerror=function(e){self.onError("jsonp poll error",e)};var insertAt=document.getElementsByTagName("script")[0];insertAt.parentNode.insertBefore(script,insertAt),this.script=script;var isUAgecko="undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent);isUAgecko&&setTimeout(function(){var iframe=document.createElement("iframe");document.body.appendChild(iframe),document.body.removeChild(iframe)},100)},JSONPPolling.prototype.doWrite=function(data,fn){function complete(){initIframe(),fn()}function initIframe(){if(self.iframe)try{self.form.removeChild(self.iframe)}catch(e){self.onError("jsonp polling iframe removal error",e)}try{var html='<iframe src="javascript:0" name="'+self.iframeId+'">';iframe=document.createElement(html)}catch(e){iframe=document.createElement("iframe"),iframe.name=self.iframeId,iframe.src="javascript:0"}iframe.id=self.iframeId,self.form.appendChild(iframe),self.iframe=iframe}var self=this;if(!this.form){var iframe,form=document.createElement("form"),area=document.createElement("textarea"),id=this.iframeId="eio_iframe_"+this.index;form.className="socketio",form.style.position="absolute",form.style.top="-1000px",form.style.left="-1000px",form.target=id,form.method="POST",form.setAttribute("accept-charset","utf-8"),area.name="d",form.appendChild(area),document.body.appendChild(form),this.form=form,this.area=area}this.form.action=this.uri(),initIframe(),data=data.replace(rEscapedNewline,"\\\n"),this.area.value=data.replace(rNewline,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==self.iframe.readyState&&complete()}:this.iframe.onload=complete}},{"./polling":18,"component-inherit":21}],17:[function(require,module){function empty(){}function XHR(opts){if(Polling.call(this,opts),global.location){var isSSL="https:"==location.protocol,port=location.port;port||(port=isSSL?443:80),this.xd=opts.hostname!=global.location.hostname||port!=opts.port}}function Request(opts){this.method=opts.method||"GET",this.uri=opts.uri,this.xd=!!opts.xd,this.async=!1!==opts.async,this.data=void 0!=opts.data?opts.data:null,this.agent=opts.agent,this.create(opts.isBinary,opts.supportsBinary)}function unloadHandler(){for(var i in Request.requests)Request.requests.hasOwnProperty(i)&&Request.requests[i].abort()}var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},XMLHttpRequest=require("xmlhttprequest"),Polling=require("./polling"),Emitter=require("component-emitter"),inherit=require("component-inherit"),debug=require("debug")("engine.io-client:polling-xhr");module.exports=XHR,module.exports.Request=Request,inherit(XHR,Polling),XHR.prototype.supportsBinary=!0,XHR.prototype.request=function(opts){return opts=opts||{},opts.uri=this.uri(),opts.xd=this.xd,opts.agent=this.agent||!1,opts.supportsBinary=this.supportsBinary,new Request(opts)},XHR.prototype.doWrite=function(data,fn){var isBinary="string"!=typeof data&&void 0!==data,req=this.request({method:"POST",data:data,isBinary:isBinary}),self=this;req.on("success",fn),req.on("error",function(err){self.onError("xhr post error",err)}),this.sendXhr=req},XHR.prototype.doPoll=function(){debug("xhr poll");var req=this.request(),self=this;req.on("data",function(data){self.onData(data)}),req.on("error",function(err){self.onError("xhr poll error",err)}),this.pollXhr=req},Emitter(Request.prototype),Request.prototype.create=function(isBinary,supportsBinary){var xhr=this.xhr=new XMLHttpRequest({agent:this.agent,xdomain:this.xd}),self=this;try{if(debug("xhr open %s: %s",this.method,this.uri),xhr.open(this.method,this.uri,this.async),supportsBinary&&(xhr.responseType="arraybuffer"),"POST"==this.method)try{isBinary?xhr.setRequestHeader("Content-type","application/octet-stream"):xhr.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}"withCredentials"in xhr&&(xhr.withCredentials=!0),xhr.onreadystatechange=function(){var data;try{if(4!=xhr.readyState)return;if(200==xhr.status||1223==xhr.status){var contentType=xhr.getResponseHeader("Content-Type");data="application/octet-stream"===contentType?xhr.response:supportsBinary?"ok":xhr.responseText}else setTimeout(function(){self.onError(xhr.status)},0)}catch(e){self.onError(e)}null!=data&&self.onData(data)},debug("xhr data %s",this.data),xhr.send(this.data)}catch(e){return void setTimeout(function(){self.onError(e)},0)}global.document&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)},Request.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},Request.prototype.onData=function(data){this.emit("data",data),this.onSuccess()},Request.prototype.onError=function(err){this.emit("error",err),this.cleanup()},Request.prototype.cleanup=function(){if("undefined"!=typeof this.xhr&&null!==this.xhr){this.xhr.onreadystatechange=empty;try{this.xhr.abort()}catch(e){}global.document&&delete Request.requests[this.index],this.xhr=null}},Request.prototype.abort=function(){this.cleanup()},global.document&&(Request.requestsCount=0,Request.requests={},global.attachEvent?global.attachEvent("onunload",unloadHandler):global.addEventListener&&global.addEventListener("beforeunload",unloadHandler))},{"./polling":18,"component-emitter":8,"component-inherit":21,debug:9,xmlhttprequest:20}],18:[function(require,module){function Polling(opts){var forceBase64=opts&&opts.forceBase64;(!hasXHR2||forceBase64)&&(this.supportsBinary=!1),Transport.call(this,opts)}var Transport=require("../transport"),parseqs=require("parseqs"),parser=require("engine.io-parser"),inherit=require("component-inherit"),debug=require("debug")("engine.io-client:polling");module.exports=Polling;var hasXHR2=function(){var XMLHttpRequest=require("xmlhttprequest"),xhr=new XMLHttpRequest({agent:this.agent,xdomain:!1});return null!=xhr.responseType}();inherit(Polling,Transport),Polling.prototype.name="polling",Polling.prototype.doOpen=function(){this.poll()},Polling.prototype.pause=function(onPause){function pause(){debug("paused"),self.readyState="paused",onPause()}var self=this;if(this.readyState="pausing",this.polling||!this.writable){var total=0;this.polling&&(debug("we are currently polling - waiting to pause"),total++,this.once("pollComplete",function(){debug("pre-pause polling complete"),--total||pause()})),this.writable||(debug("we are currently writing - waiting to pause"),total++,this.once("drain",function(){debug("pre-pause writing complete"),--total||pause()}))}else pause()},Polling.prototype.poll=function(){debug("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},Polling.prototype.onData=function(data){var self=this;debug("polling got data %s",data);var callback=function(packet){return"opening"==self.readyState&&self.onOpen(),"close"==packet.type?(self.onClose(),!1):void self.onPacket(packet)};parser.decodePayload(data,this.socket.binaryType,callback),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():debug('ignoring poll - transport state "%s"',this.readyState))},Polling.prototype.doClose=function(){function close(){debug("writing close packet"),self.write([{type:"close"}])}var self=this;"open"==this.readyState?(debug("transport open - closing"),close()):(debug("transport not open - deferring close"),this.once("open",close))},Polling.prototype.write=function(packets){var self=this;this.writable=!1;var callbackfn=function(){self.writable=!0,self.emit("drain")},self=this;parser.encodePayload(packets,this.supportsBinary,function(data){self.doWrite(data,callbackfn)})},Polling.prototype.uri=function(){var query=this.query||{},schema=this.secure?"https":"http",port="";return!1!==this.timestampRequests&&(query[this.timestampParam]=+new Date+"-"+Transport.timestamps++),this.supportsBinary||query.sid||(query.b64=1),query=parseqs.encode(query),this.port&&("https"==schema&&443!=this.port||"http"==schema&&80!=this.port)&&(port=":"+this.port),query.length&&(query="?"+query),schema+"://"+this.hostname+port+this.path+query}},{"../transport":14,"component-inherit":21,debug:9,"engine.io-parser":22,parseqs:30,xmlhttprequest:20}],19:[function(require,module){function WS(opts){var forceBase64=opts&&opts.forceBase64;forceBase64&&(this.supportsBinary=!1),Transport.call(this,opts)}var Transport=require("../transport"),parser=require("engine.io-parser"),parseqs=require("parseqs"),inherit=require("component-inherit"),debug=require("debug")("engine.io-client:websocket"),WebSocket=require("ws");module.exports=WS,inherit(WS,Transport),WS.prototype.name="websocket",WS.prototype.supportsBinary=!0,WS.prototype.doOpen=function(){if(this.check()){var uri=this.uri(),protocols=void 0,opts={agent:this.agent};this.ws=new WebSocket(uri,protocols,opts),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.binaryType="arraybuffer",this.addEventListeners()}},WS.prototype.addEventListeners=function(){var self=this;this.ws.onopen=function(){self.onOpen()},this.ws.onclose=function(){self.onClose()},this.ws.onmessage=function(ev){self.onData(ev.data)},this.ws.onerror=function(e){self.onError("websocket error",e)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(WS.prototype.onData=function(data){var self=this;setTimeout(function(){Transport.prototype.onData.call(self,data)},0)}),WS.prototype.write=function(packets){function ondrain(){self.writable=!0,self.emit("drain")}var self=this;this.writable=!1;for(var i=0,l=packets.length;l>i;i++)parser.encodePacket(packets[i],this.supportsBinary,function(data){try{self.ws.send(data)}catch(e){debug("websocket closed before onclose event")}});setTimeout(ondrain,0)},WS.prototype.onClose=function(){Transport.prototype.onClose.call(this)},WS.prototype.doClose=function(){"undefined"!=typeof this.ws&&this.ws.close()},WS.prototype.uri=function(){var query=this.query||{},schema=this.secure?"wss":"ws",port="";return this.port&&("wss"==schema&&443!=this.port||"ws"==schema&&80!=this.port)&&(port=":"+this.port),this.timestampRequests&&(query[this.timestampParam]=+new Date),this.supportsBinary||(query.b64=1),query=parseqs.encode(query),query.length&&(query="?"+query),schema+"://"+this.hostname+port+this.path+query},WS.prototype.check=function(){return!(!WebSocket||"__initialize"in WebSocket&&this.name===WS.prototype.name)}},{"../transport":14,"component-inherit":21,debug:9,"engine.io-parser":22,parseqs:30,ws:31}],20:[function(require,module){var hasCORS=require("has-cors");module.exports=function(opts){var xdomain=opts.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!xdomain||hasCORS))return new XMLHttpRequest}catch(e){}if(!xdomain)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},{"has-cors":34}],21:[function(require,module){module.exports=function(a,b){var fn=function(){};fn.prototype=b.prototype,a.prototype=new fn,a.prototype.constructor=a}},{}],22:[function(require,module,exports){function encodeArrayBuffer(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);var data=packet.data,contentArray=new Uint8Array(data),resultBuffer=new Uint8Array(1+data.byteLength);resultBuffer[0]=packets[packet.type];for(var i=0;i<contentArray.length;i++)resultBuffer[i+1]=contentArray[i];return callback(resultBuffer.buffer)}function encodeBlobAsArrayBuffer(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);var fr=new FileReader;return fr.onload=function(){packet.data=fr.result,exports.encodePacket(packet,supportsBinary,callback)},fr.readAsArrayBuffer(packet.data)}function encodeBlob(packet,supportsBinary,callback){if(!supportsBinary)return exports.encodeBase64Packet(packet,callback);if(isAndroid)return encodeBlobAsArrayBuffer(packet,supportsBinary,callback);var length=new Uint8Array(1);length[0]=packets[packet.type];var blob=new Blob([length.buffer,packet.data]);return callback(blob)}function map(ary,each,done){for(var result=new Array(ary.length),next=after(ary.length,done),eachWithIndex=function(i,el,cb){each(el,function(error,msg){result[i]=msg,cb(error,result)})},i=0;i<ary.length;i++)eachWithIndex(i,ary[i],next)}var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},keys=require("./keys"),sliceBuffer=require("arraybuffer.slice"),base64encoder=require("base64-arraybuffer"),after=require("after"),utf8=require("utf8"),isAndroid=navigator.userAgent.match(/Android/i);exports.protocol=2;var packets=exports.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},packetslist=keys(packets),err={type:"error",data:"parser error"},Blob=require("blob");exports.encodePacket=function(packet,supportsBinary,callback){"function"==typeof supportsBinary&&(callback=supportsBinary,supportsBinary=!1);var data=void 0===packet.data?void 0:packet.data.buffer||packet.data;if(global.ArrayBuffer&&data instanceof ArrayBuffer)return encodeArrayBuffer(packet,supportsBinary,callback);if(Blob&&data instanceof global.Blob)return encodeBlob(packet,supportsBinary,callback);var encoded=packets[packet.type];return void 0!==packet.data&&(encoded+=utf8.encode(String(packet.data))),callback(""+encoded)},exports.encodeBase64Packet=function(packet,callback){var message="b"+exports.packets[packet.type];if(Blob&&packet.data instanceof Blob){var fr=new FileReader;return fr.onload=function(){var b64=fr.result.split(",")[1];callback(message+b64)},fr.readAsDataURL(packet.data)}var b64data;try{b64data=String.fromCharCode.apply(null,new Uint8Array(packet.data))}catch(e){for(var typed=new Uint8Array(packet.data),basic=new Array(typed.length),i=0;i<typed.length;i++)basic[i]=typed[i];b64data=String.fromCharCode.apply(null,basic)}return message+=global.btoa(b64data),callback(message)},exports.decodePacket=function(data,binaryType){if("string"==typeof data||void 0===data){if("b"==data.charAt(0))return exports.decodeBase64Packet(data.substr(1),binaryType);data=utf8.decode(data);var type=data.charAt(0);return Number(type)==type&&packetslist[type]?data.length>1?{type:packetslist[type],data:data.substring(1)}:{type:packetslist[type]}:err}var asArray=new Uint8Array(data),type=asArray[0],rest=sliceBuffer(data,1);return Blob&&"blob"===binaryType&&(rest=new Blob([rest])),{type:packetslist[type],data:rest}},exports.decodeBase64Packet=function(msg,binaryType){var type=packetslist[msg.charAt(0)];if(!global.ArrayBuffer)return{type:type,data:{base64:!0,data:msg.substr(1)}};var data=base64encoder.decode(msg.substr(1));return"blob"===binaryType&&Blob&&(data=new Blob([data])),{type:type,data:data}},exports.encodePayload=function(packets,supportsBinary,callback){function setLengthHeader(message){return message.length+":"+message}function encodeOne(packet,doneCallback){exports.encodePacket(packet,supportsBinary,function(message){doneCallback(null,setLengthHeader(message))})}return"function"==typeof supportsBinary&&(callback=supportsBinary,supportsBinary=null),supportsBinary?Blob&&!isAndroid?exports.encodePayloadAsBlob(packets,callback):exports.encodePayloadAsArrayBuffer(packets,callback):packets.length?void map(packets,encodeOne,function(err,results){return callback(results.join(""))}):callback("0:")},exports.decodePayload=function(data,binaryType,callback){if("string"!=typeof data)return exports.decodePayloadAsBinary(data,binaryType,callback);"function"==typeof binaryType&&(callback=binaryType,binaryType=null);var packet;if(""==data)return callback(err,0,1);for(var n,msg,length="",i=0,l=data.length;l>i;i++){var chr=data.charAt(i);if(":"!=chr)length+=chr;else{if(""==length||length!=(n=Number(length)))return callback(err,0,1);if(msg=data.substr(i+1,n),length!=msg.length)return callback(err,0,1);if(msg.length){if(packet=exports.decodePacket(msg,binaryType),err.type==packet.type&&err.data==packet.data)return callback(err,0,1);var ret=callback(packet,i+n,l);if(!1===ret)return}i+=n,length=""}}return""!=length?callback(err,0,1):void 0},exports.encodePayloadAsArrayBuffer=function(packets,callback){function encodeOne(packet,doneCallback){exports.encodePacket(packet,!0,function(data){return doneCallback(null,data)})}return packets.length?void map(packets,encodeOne,function(err,encodedPackets){var totalLength=encodedPackets.reduce(function(acc,p){var len;return len="string"==typeof p?p.length:p.byteLength,acc+len.toString().length+len+2},0),resultArray=new Uint8Array(totalLength),bufferIndex=0;return encodedPackets.forEach(function(p){var isString="string"==typeof p,ab=p;if(isString){for(var view=new Uint8Array(p.length),i=0;i<p.length;i++)view[i]=p.charCodeAt(i);ab=view.buffer}resultArray[bufferIndex++]=isString?0:1;for(var lenStr=ab.byteLength.toString(),i=0;i<lenStr.length;i++)resultArray[bufferIndex++]=parseInt(lenStr[i]);resultArray[bufferIndex++]=255;for(var view=new Uint8Array(ab),i=0;i<view.length;i++)resultArray[bufferIndex++]=view[i]}),callback(resultArray.buffer)}):callback(new ArrayBuffer(0))},exports.encodePayloadAsBlob=function(packets,callback){function encodeOne(packet,doneCallback){exports.encodePacket(packet,!0,function(encoded){var binaryIdentifier=new Uint8Array(1);if(binaryIdentifier[0]=1,"string"==typeof encoded){for(var view=new Uint8Array(encoded.length),i=0;i<encoded.length;i++)view[i]=encoded.charCodeAt(i);encoded=view.buffer,binaryIdentifier[0]=0}for(var len=encoded instanceof ArrayBuffer?encoded.byteLength:encoded.size,lenStr=len.toString(),lengthAry=new Uint8Array(lenStr.length+1),i=0;i<lenStr.length;i++)lengthAry[i]=parseInt(lenStr[i]);if(lengthAry[lenStr.length]=255,Blob){var blob=new Blob([binaryIdentifier.buffer,lengthAry.buffer,encoded]);doneCallback(null,blob)}})}map(packets,encodeOne,function(err,results){return callback(new Blob(results))})},exports.decodePayloadAsBinary=function(data,binaryType,callback){"function"==typeof binaryType&&(callback=binaryType,binaryType=null);for(var bufferTail=data,buffers=[];bufferTail.byteLength>0;){for(var tailArray=new Uint8Array(bufferTail),isString=0===tailArray[0],msgLength="",i=1;255!=tailArray[i];i++)msgLength+=tailArray[i];bufferTail=sliceBuffer(bufferTail,2+msgLength.length),msgLength=parseInt(msgLength);var msg=sliceBuffer(bufferTail,0,msgLength);if(isString)try{msg=String.fromCharCode.apply(null,new Uint8Array(msg))}catch(e){var typed=new Uint8Array(msg);msg="";for(var i=0;i<typed.length;i++)msg+=String.fromCharCode(typed[i])
}buffers.push(msg),bufferTail=sliceBuffer(bufferTail,msgLength)}var total=buffers.length;buffers.forEach(function(buffer,i){callback(exports.decodePacket(buffer,binaryType),i,total)})}},{"./keys":23,after:24,"arraybuffer.slice":25,"base64-arraybuffer":26,blob:27,utf8:28}],23:[function(require,module){module.exports=Object.keys||function(obj){var arr=[],has=Object.prototype.hasOwnProperty;for(var i in obj)has.call(obj,i)&&arr.push(i);return arr}},{}],24:[function(require,module){function after(count,callback,err_cb){function proxy(err,result){if(proxy.count<=0)throw new Error("after called too many times");--proxy.count,err?(bail=!0,callback(err),callback=err_cb):0!==proxy.count||bail||callback(null,result)}var bail=!1;return err_cb=err_cb||noop,proxy.count=count,0===count?callback():proxy}function noop(){}module.exports=after},{}],25:[function(require,module){module.exports=function(arraybuffer,start,end){var bytes=arraybuffer.byteLength;if(start=start||0,end=end||bytes,arraybuffer.slice)return arraybuffer.slice(start,end);if(0>start&&(start+=bytes),0>end&&(end+=bytes),end>bytes&&(end=bytes),start>=bytes||start>=end||0===bytes)return new ArrayBuffer(0);for(var abv=new Uint8Array(arraybuffer),result=new Uint8Array(end-start),i=start,ii=0;end>i;i++,ii++)result[ii]=abv[i];return result.buffer}},{}],26:[function(require,module,exports){!function(chars){exports.encode=function(arraybuffer){var i,bytes=new Uint8Array(arraybuffer),len=bytes.length,base64="";for(i=0;len>i;i+=3)base64+=chars[bytes[i]>>2],base64+=chars[(3&bytes[i])<<4|bytes[i+1]>>4],base64+=chars[(15&bytes[i+1])<<2|bytes[i+2]>>6],base64+=chars[63&bytes[i+2]];return len%3===2?base64=base64.substring(0,base64.length-1)+"=":len%3===1&&(base64=base64.substring(0,base64.length-2)+"=="),base64},exports.decode=function(base64){var i,encoded1,encoded2,encoded3,encoded4,bufferLength=.75*base64.length,len=base64.length,p=0;"="===base64[base64.length-1]&&(bufferLength--,"="===base64[base64.length-2]&&bufferLength--);var arraybuffer=new ArrayBuffer(bufferLength),bytes=new Uint8Array(arraybuffer);for(i=0;len>i;i+=4)encoded1=chars.indexOf(base64[i]),encoded2=chars.indexOf(base64[i+1]),encoded3=chars.indexOf(base64[i+2]),encoded4=chars.indexOf(base64[i+3]),bytes[p++]=encoded1<<2|encoded2>>4,bytes[p++]=(15&encoded2)<<4|encoded3>>2,bytes[p++]=(3&encoded3)<<6|63&encoded4;return arraybuffer}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},{}],27:[function(require,module){function BlobBuilderConstructor(ary,options){options=options||{};for(var bb=new BlobBuilder,i=0;i<ary.length;i++)bb.append(ary[i]);return options.type?bb.getBlob(options.type):bb.getBlob()}var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},BlobBuilder=global.BlobBuilder||global.WebKitBlobBuilder||global.MSBlobBuilder||global.MozBlobBuilder,blobSupported=function(){try{var b=new Blob(["hi"]);return 2==b.size}catch(e){return!1}}(),blobBuilderSupported=BlobBuilder&&BlobBuilder.prototype.append&&BlobBuilder.prototype.getBlob;module.exports=function(){return blobSupported?global.Blob:blobBuilderSupported?BlobBuilderConstructor:void 0}()},{}],28:[function(require,module,exports){var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{};!function(root){function ucs2decode(string){for(var value,extra,output=[],counter=0,length=string.length;length>counter;)value=string.charCodeAt(counter++),value>=55296&&56319>=value&&length>counter?(extra=string.charCodeAt(counter++),56320==(64512&extra)?output.push(((1023&value)<<10)+(1023&extra)+65536):(output.push(value),counter--)):output.push(value);return output}function ucs2encode(array){for(var value,length=array.length,index=-1,output="";++index<length;)value=array[index],value>65535&&(value-=65536,output+=stringFromCharCode(value>>>10&1023|55296),value=56320|1023&value),output+=stringFromCharCode(value);return output}function createByte(codePoint,shift){return stringFromCharCode(codePoint>>shift&63|128)}function encodeCodePoint(codePoint){if(0==(4294967168&codePoint))return stringFromCharCode(codePoint);var symbol="";return 0==(4294965248&codePoint)?symbol=stringFromCharCode(codePoint>>6&31|192):0==(4294901760&codePoint)?(symbol=stringFromCharCode(codePoint>>12&15|224),symbol+=createByte(codePoint,6)):0==(4292870144&codePoint)&&(symbol=stringFromCharCode(codePoint>>18&7|240),symbol+=createByte(codePoint,12),symbol+=createByte(codePoint,6)),symbol+=stringFromCharCode(63&codePoint|128)}function utf8encode(string){for(var codePoint,codePoints=ucs2decode(string),length=codePoints.length,index=-1,byteString="";++index<length;)codePoint=codePoints[index],byteString+=encodeCodePoint(codePoint);return byteString}function readContinuationByte(){if(byteIndex>=byteCount)throw Error("Invalid byte index");var continuationByte=255&byteArray[byteIndex];if(byteIndex++,128==(192&continuationByte))return 63&continuationByte;throw Error("Invalid continuation byte")}function decodeSymbol(){var byte1,byte2,byte3,byte4,codePoint;if(byteIndex>byteCount)throw Error("Invalid byte index");if(byteIndex==byteCount)return!1;if(byte1=255&byteArray[byteIndex],byteIndex++,0==(128&byte1))return byte1;if(192==(224&byte1)){var byte2=readContinuationByte();if(codePoint=(31&byte1)<<6|byte2,codePoint>=128)return codePoint;throw Error("Invalid continuation byte")}if(224==(240&byte1)){if(byte2=readContinuationByte(),byte3=readContinuationByte(),codePoint=(15&byte1)<<12|byte2<<6|byte3,codePoint>=2048)return codePoint;throw Error("Invalid continuation byte")}if(240==(248&byte1)&&(byte2=readContinuationByte(),byte3=readContinuationByte(),byte4=readContinuationByte(),codePoint=(15&byte1)<<18|byte2<<12|byte3<<6|byte4,codePoint>=65536&&1114111>=codePoint))return codePoint;throw Error("Invalid UTF-8 detected")}function utf8decode(byteString){byteArray=ucs2decode(byteString),byteCount=byteArray.length,byteIndex=0;for(var tmp,codePoints=[];(tmp=decodeSymbol())!==!1;)codePoints.push(tmp);return ucs2encode(codePoints)}var freeExports="object"==typeof exports&&exports,freeModule="object"==typeof module&&module&&module.exports==freeExports&&module,freeGlobal="object"==typeof global&&global;(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal)&&(root=freeGlobal);var byteArray,byteCount,byteIndex,stringFromCharCode=String.fromCharCode,utf8={version:"2.0.0",encode:utf8encode,decode:utf8decode};if("function"==typeof define&&"object"==typeof define.amd&&define.amd)define(function(){return utf8});else if(freeExports&&!freeExports.nodeType)if(freeModule)freeModule.exports=utf8;else{var object={},hasOwnProperty=object.hasOwnProperty;for(var key in utf8)hasOwnProperty.call(utf8,key)&&(freeExports[key]=utf8[key])}else root.utf8=utf8}(this)},{}],29:[function(require,module){var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},rvalidchars=/^[\],:{}\s]*$/,rvalidescape=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rvalidtokens=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rvalidbraces=/(?:^|:|,)(?:\s*\[)+/g,rtrimLeft=/^\s+/,rtrimRight=/\s+$/;module.exports=function(data){return"string"==typeof data&&data?(data=data.replace(rtrimLeft,"").replace(rtrimRight,""),global.JSON&&JSON.parse?JSON.parse(data):rvalidchars.test(data.replace(rvalidescape,"@").replace(rvalidtokens,"]").replace(rvalidbraces,""))?new Function("return "+data)():void 0):null}},{}],30:[function(require,module,exports){exports.encode=function(obj){var str="";for(var i in obj)obj.hasOwnProperty(i)&&(str.length&&(str+="&"),str+=encodeURIComponent(i)+"="+encodeURIComponent(obj[i]));return str},exports.decode=function(qs){for(var qry={},pairs=qs.split("&"),i=0,l=pairs.length;l>i;i++){var pair=pairs[i].split("=");qry[decodeURIComponent(pair[0])]=decodeURIComponent(pair[1])}return qry}},{}],31:[function(require,module){function ws(uri,protocols){var instance;return instance=protocols?new WebSocket(uri,protocols):new WebSocket(uri)}var global=function(){return this}(),WebSocket=global.WebSocket||global.MozWebSocket;module.exports=WebSocket?ws:null,WebSocket&&(ws.prototype=WebSocket.prototype)},{}],32:[function(require,module){function hasBinary(data){function recursiveCheckForBinary(obj){if(!obj)return!1;if(global.Buffer&&Buffer.isBuffer(obj)||global.ArrayBuffer&&obj instanceof ArrayBuffer||global.Blob&&obj instanceof Blob||global.File&&obj instanceof File)return!0;if(isArray(obj)){for(var i=0;i<obj.length;i++)if(recursiveCheckForBinary(obj[i]))return!0}else if(obj&&"object"==typeof obj){obj.toJSON&&(obj=obj.toJSON());for(var key in obj)if(recursiveCheckForBinary(obj[key]))return!0}return!1}return recursiveCheckForBinary(data)}var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},isArray=require("isarray");module.exports=hasBinary},{isarray:33}],33:[function(require,module){module.exports=Array.isArray||function(arr){return"[object Array]"==Object.prototype.toString.call(arr)}},{}],34:[function(require,module){var global=require("global");try{module.exports="XMLHttpRequest"in global&&"withCredentials"in new global.XMLHttpRequest}catch(err){module.exports=!1}},{global:35}],35:[function(require,module){module.exports=function(){return this}()},{}],36:[function(require,module){var indexOf=[].indexOf;module.exports=function(arr,obj){if(indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i)if(arr[i]===obj)return i;return-1}},{}],37:[function(require,module,exports){var has=Object.prototype.hasOwnProperty;exports.keys=Object.keys||function(obj){var keys=[];for(var key in obj)has.call(obj,key)&&keys.push(key);return keys},exports.values=function(obj){var vals=[];for(var key in obj)has.call(obj,key)&&vals.push(obj[key]);return vals},exports.merge=function(a,b){for(var key in b)has.call(b,key)&&(a[key]=b[key]);return a},exports.length=function(obj){return exports.keys(obj).length},exports.isEmpty=function(obj){return 0==exports.length(obj)}},{}],38:[function(require,module){var re=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];module.exports=function(str){for(var m=re.exec(str||""),uri={},i=14;i--;)uri[parts[i]]=m[i]||"";return uri}},{}],39:[function(require,module,exports){function isBuf(obj){return global.Buffer&&Buffer.isBuffer(obj)||global.ArrayBuffer&&obj instanceof ArrayBuffer}var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},isArray=require("isarray");exports.deconstructPacket=function(packet){function deconstructBinPackRecursive(data){if(!data)return data;if(global.Buffer&&Buffer.isBuffer(data)||global.ArrayBuffer&&data instanceof ArrayBuffer){var placeholder={_placeholder:!0,num:buffers.length};return buffers.push(data),placeholder}if(isArray(data)){for(var newData=new Array(data.length),i=0;i<data.length;i++)newData[i]=deconstructBinPackRecursive(data[i]);return newData}if("object"==typeof data&&!(data instanceof Date)){var newData={};for(var key in data)newData[key]=deconstructBinPackRecursive(data[key]);return newData}return data}var buffers=[],packetData=packet.data,pack=packet;return pack.data=deconstructBinPackRecursive(packetData),pack.attachments=buffers.length,{packet:pack,buffers:buffers}},exports.reconstructPacket=function(packet,buffers){function reconstructBinPackRecursive(data){if(data&&data._placeholder){var buf=buffers[data.num];return buf}if(isArray(data)){for(var i=0;i<data.length;i++)data[i]=reconstructBinPackRecursive(data[i]);return data}if(data&&"object"==typeof data){for(var key in data)data[key]=reconstructBinPackRecursive(data[key]);return data}return data}return packet.data=reconstructBinPackRecursive(packet.data),packet.attachments=void 0,packet},exports.removeBlobs=function(data,callback){function removeBlobsRecursive(obj,curKey,containingObject){if(!obj)return obj;if(global.Blob&&obj instanceof Blob||global.File&&obj instanceof File){pendingBlobs++;var fileReader=new FileReader;fileReader.onload=function(){containingObject?containingObject[curKey]=this.result:bloblessData=this.result,--pendingBlobs||callback(bloblessData)},fileReader.readAsArrayBuffer(obj)}if(isArray(obj))for(var i=0;i<obj.length;i++)removeBlobsRecursive(obj[i],i,obj);else if(obj&&"object"==typeof obj&&!isBuf(obj))for(var key in obj)removeBlobsRecursive(obj[key],key,obj)}var pendingBlobs=0,bloblessData=data;removeBlobsRecursive(bloblessData),pendingBlobs||callback(bloblessData)}},{isarray:41}],40:[function(require,module,exports){function Encoder(){}function encodeAsString(obj){var str="",nsp=!1;return str+=obj.type,(exports.BINARY_EVENT==obj.type||exports.BINARY_ACK==obj.type)&&(str+=obj.attachments,str+="-"),obj.nsp&&"/"!=obj.nsp&&(nsp=!0,str+=obj.nsp),null!=obj.id&&(nsp&&(str+=",",nsp=!1),str+=obj.id),null!=obj.data&&(nsp&&(str+=","),str+=json.stringify(obj.data)),debug("encoded %j as %s",obj,str),str}function encodeAsBinary(obj,callback){function writeEncoding(bloblessData){var deconstruction=binary.deconstructPacket(bloblessData),pack=encodeAsString(deconstruction.packet),buffers=deconstruction.buffers;buffers.unshift(pack),callback(buffers)}binary.removeBlobs(obj,writeEncoding)}function Decoder(){this.reconstructor=null}function decodeString(str){var p={},i=0;if(p.type=Number(str.charAt(0)),null==exports.types[p.type])return error();if(exports.BINARY_EVENT==p.type||exports.BINARY_ACK==p.type){for(p.attachments="";"-"!=str.charAt(++i);)p.attachments+=str.charAt(i);p.attachments=Number(p.attachments)}if("/"==str.charAt(i+1))for(p.nsp="";++i;){var c=str.charAt(i);if(","==c)break;if(p.nsp+=c,i+1==str.length)break}else p.nsp="/";var next=str.charAt(i+1);if(""!=next&&Number(next)==next){for(p.id="";++i;){var c=str.charAt(i);if(null==c||Number(c)!=c){--i;break}if(p.id+=str.charAt(i),i+1==str.length)break}p.id=Number(p.id)}if(str.charAt(++i))try{p.data=json.parse(str.substr(i))}catch(e){return error()}return debug("decoded %s as %j",str,p),p}function BinaryReconstructor(packet){this.reconPack=packet,this.buffers=[]}function error(){return{type:exports.ERROR,data:"parser error"}}var global="undefined"!=typeof self?self:"undefined"!=typeof window?window:{},debug=require("debug")("socket.io-parser"),json=require("json3"),Emitter=(require("isarray"),require("emitter")),binary=require("./binary");exports.protocol=3,exports.types=["CONNECT","DISCONNECT","EVENT","BINARY_EVENT","ACK","BINARY_ACK","ERROR"],exports.CONNECT=0,exports.DISCONNECT=1,exports.EVENT=2,exports.ACK=3,exports.ERROR=4,exports.BINARY_EVENT=5,exports.BINARY_ACK=6,exports.Encoder=Encoder,Encoder.prototype.encode=function(obj,callback){if(debug("encoding packet %j",obj),exports.BINARY_EVENT==obj.type||exports.BINARY_ACK==obj.type)encodeAsBinary(obj,callback);else{var encoding=encodeAsString(obj);callback([encoding])}},exports.Decoder=Decoder,Emitter(Decoder.prototype),Decoder.prototype.add=function(obj){var packet;if("string"==typeof obj)packet=decodeString(obj),exports.BINARY_EVENT==packet.type||exports.BINARY_ACK==packet.type?(this.reconstructor=new BinaryReconstructor(packet),0==this.reconstructor.reconPack.attachments&&this.emit("decoded",packet)):this.emit("decoded",packet);else{if(!(global.Buffer&&Buffer.isBuffer(obj)||global.ArrayBuffer&&obj instanceof ArrayBuffer||obj.base64))throw new Error("Unknown type: "+obj);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");packet=this.reconstructor.takeBinaryData(obj),packet&&(this.reconstructor=null,this.emit("decoded",packet))}},Decoder.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},BinaryReconstructor.prototype.takeBinaryData=function(binData){if(this.buffers.push(binData),this.buffers.length==this.reconPack.attachments){var packet=binary.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),packet}return null},BinaryReconstructor.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{"./binary":39,debug:9,emitter:10,isarray:41,json3:42}],41:[function(require,module){module.exports=require(33)},{}],42:[function(require,module,exports){!function(window){function has(name){if(has[name]!==undef)return has[name];var isSupported;if("bug-string-char-index"==name)isSupported="a"!="a"[0];else if("json"==name)isSupported=has("json-stringify")&&has("json-parse");else{var value,serialized='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==name){var stringify=JSON3.stringify,stringifySupported="function"==typeof stringify&&isExtended;if(stringifySupported){(value=function(){return 1}).toJSON=value;try{stringifySupported="0"===stringify(0)&&"0"===stringify(new Number)&&'""'==stringify(new String)&&stringify(getClass)===undef&&stringify(undef)===undef&&stringify()===undef&&"1"===stringify(value)&&"[1]"==stringify([value])&&"[null]"==stringify([undef])&&"null"==stringify(null)&&"[null,null,null]"==stringify([undef,getClass,null])&&stringify({a:[value,!0,!1,null,"\x00\b\n\f\r	"]})==serialized&&"1"===stringify(null,value)&&"[\n 1,\n 2\n]"==stringify([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==stringify(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==stringify(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==stringify(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==stringify(new Date(-1))}catch(exception){stringifySupported=!1}}isSupported=stringifySupported}if("json-parse"==name){var parse=JSON3.parse;if("function"==typeof parse)try{if(0===parse("0")&&!parse(!1)){value=parse(serialized);var parseSupported=5==value.a.length&&1===value.a[0];if(parseSupported){try{parseSupported=!parse('"	"')}catch(exception){}if(parseSupported)try{parseSupported=1!==parse("01")}catch(exception){}if(parseSupported)try{parseSupported=1!==parse("1.")}catch(exception){}}}}catch(exception){parseSupported=!1}isSupported=parseSupported}}return has[name]=!!isSupported}var isProperty,forEach,undef,getClass={}.toString,isLoader="function"==typeof define&&define.amd,nativeJSON="object"==typeof JSON&&JSON,JSON3="object"==typeof exports&&exports&&!exports.nodeType&&exports;JSON3&&nativeJSON?(JSON3.stringify=nativeJSON.stringify,JSON3.parse=nativeJSON.parse):JSON3=window.JSON=nativeJSON||{};var isExtended=new Date(-0xc782b5b800cec);try{isExtended=-109252==isExtended.getUTCFullYear()&&0===isExtended.getUTCMonth()&&1===isExtended.getUTCDate()&&10==isExtended.getUTCHours()&&37==isExtended.getUTCMinutes()&&6==isExtended.getUTCSeconds()&&708==isExtended.getUTCMilliseconds()}catch(exception){}if(!has("json")){var functionClass="[object Function]",dateClass="[object Date]",numberClass="[object Number]",stringClass="[object String]",arrayClass="[object Array]",booleanClass="[object Boolean]",charIndexBuggy=has("bug-string-char-index");if(!isExtended)var floor=Math.floor,Months=[0,31,59,90,120,151,181,212,243,273,304,334],getDay=function(year,month){return Months[month]+365*(year-1970)+floor((year-1969+(month=+(month>1)))/4)-floor((year-1901+month)/100)+floor((year-1601+month)/400)};(isProperty={}.hasOwnProperty)||(isProperty=function(property){var constructor,members={};return(members.__proto__=null,members.__proto__={toString:1},members).toString!=getClass?isProperty=function(property){var original=this.__proto__,result=property in(this.__proto__=null,this);return this.__proto__=original,result}:(constructor=members.constructor,isProperty=function(property){var parent=(this.constructor||constructor).prototype;return property in this&&!(property in parent&&this[property]===parent[property])}),members=null,isProperty.call(this,property)});var PrimitiveTypes={"boolean":1,number:1,string:1,undefined:1},isHostType=function(object,property){var type=typeof object[property];return"object"==type?!!object[property]:!PrimitiveTypes[type]};if(forEach=function(object,callback){var Properties,members,property,size=0;(Properties=function(){this.valueOf=0}).prototype.valueOf=0,members=new Properties;for(property in members)isProperty.call(members,property)&&size++;return Properties=members=null,size?forEach=2==size?function(object,callback){var property,members={},isFunction=getClass.call(object)==functionClass;for(property in object)isFunction&&"prototype"==property||isProperty.call(members,property)||!(members[property]=1)||!isProperty.call(object,property)||callback(property)}:function(object,callback){var property,isConstructor,isFunction=getClass.call(object)==functionClass;for(property in object)isFunction&&"prototype"==property||!isProperty.call(object,property)||(isConstructor="constructor"===property)||callback(property);(isConstructor||isProperty.call(object,property="constructor"))&&callback(property)}:(members=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],forEach=function(object,callback){var property,length,isFunction=getClass.call(object)==functionClass,hasProperty=!isFunction&&"function"!=typeof object.constructor&&isHostType(object,"hasOwnProperty")?object.hasOwnProperty:isProperty;for(property in object)isFunction&&"prototype"==property||!hasProperty.call(object,property)||callback(property);for(length=members.length;property=members[--length];hasProperty.call(object,property)&&callback(property));}),forEach(object,callback)},!has("json-stringify")){var Escapes={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},leadingZeroes="000000",toPaddedString=function(width,value){return(leadingZeroes+(value||0)).slice(-width)},unicodePrefix="\\u00",quote=function(value){var symbols,result='"',index=0,length=value.length,isLarge=length>10&&charIndexBuggy;for(isLarge&&(symbols=value.split(""));length>index;index++){var charCode=value.charCodeAt(index);switch(charCode){case 8:case 9:case 10:case 12:case 13:case 34:case 92:result+=Escapes[charCode];break;default:if(32>charCode){result+=unicodePrefix+toPaddedString(2,charCode.toString(16));break}result+=isLarge?symbols[index]:charIndexBuggy?value.charAt(index):value[index]}}return result+'"'},serialize=function(property,object,callback,properties,whitespace,indentation,stack){var value,className,year,month,date,time,hours,minutes,seconds,milliseconds,results,element,index,length,prefix,result;try{value=object[property]}catch(exception){}if("object"==typeof value&&value)if(className=getClass.call(value),className!=dateClass||isProperty.call(value,"toJSON"))"function"==typeof value.toJSON&&(className!=numberClass&&className!=stringClass&&className!=arrayClass||isProperty.call(value,"toJSON"))&&(value=value.toJSON(property));else if(value>-1/0&&1/0>value){if(getDay){for(date=floor(value/864e5),year=floor(date/365.2425)+1970-1;getDay(year+1,0)<=date;year++);for(month=floor((date-getDay(year,0))/30.42);getDay(year,month+1)<=date;month++);date=1+date-getDay(year,month),time=(value%864e5+864e5)%864e5,hours=floor(time/36e5)%24,minutes=floor(time/6e4)%60,seconds=floor(time/1e3)%60,milliseconds=time%1e3}else year=value.getUTCFullYear(),month=value.getUTCMonth(),date=value.getUTCDate(),hours=value.getUTCHours(),minutes=value.getUTCMinutes(),seconds=value.getUTCSeconds(),milliseconds=value.getUTCMilliseconds();value=(0>=year||year>=1e4?(0>year?"-":"+")+toPaddedString(6,0>year?-year:year):toPaddedString(4,year))+"-"+toPaddedString(2,month+1)+"-"+toPaddedString(2,date)+"T"+toPaddedString(2,hours)+":"+toPaddedString(2,minutes)+":"+toPaddedString(2,seconds)+"."+toPaddedString(3,milliseconds)+"Z"}else value=null;if(callback&&(value=callback.call(object,property,value)),null===value)return"null";if(className=getClass.call(value),className==booleanClass)return""+value;if(className==numberClass)return value>-1/0&&1/0>value?""+value:"null";if(className==stringClass)return quote(""+value);if("object"==typeof value){for(length=stack.length;length--;)if(stack[length]===value)throw TypeError();if(stack.push(value),results=[],prefix=indentation,indentation+=whitespace,className==arrayClass){for(index=0,length=value.length;length>index;index++)element=serialize(index,value,callback,properties,whitespace,indentation,stack),results.push(element===undef?"null":element);result=results.length?whitespace?"[\n"+indentation+results.join(",\n"+indentation)+"\n"+prefix+"]":"["+results.join(",")+"]":"[]"}else forEach(properties||value,function(property){var element=serialize(property,value,callback,properties,whitespace,indentation,stack);element!==undef&&results.push(quote(property)+":"+(whitespace?" ":"")+element)}),result=results.length?whitespace?"{\n"+indentation+results.join(",\n"+indentation)+"\n"+prefix+"}":"{"+results.join(",")+"}":"{}";return stack.pop(),result}};JSON3.stringify=function(source,filter,width){var whitespace,callback,properties,className;if("function"==typeof filter||"object"==typeof filter&&filter)if((className=getClass.call(filter))==functionClass)callback=filter;else if(className==arrayClass){properties={};for(var value,index=0,length=filter.length;length>index;value=filter[index++],className=getClass.call(value),(className==stringClass||className==numberClass)&&(properties[value]=1));}if(width)if((className=getClass.call(width))==numberClass){if((width-=width%1)>0)for(whitespace="",width>10&&(width=10);whitespace.length<width;whitespace+=" ");}else className==stringClass&&(whitespace=width.length<=10?width:width.slice(0,10));return serialize("",(value={},value[""]=source,value),callback,properties,whitespace,"",[])}}if(!has("json-parse")){var Index,Source,fromCharCode=String.fromCharCode,Unescapes={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},abort=function(){throw Index=Source=null,SyntaxError()},lex=function(){for(var value,begin,position,isSigned,charCode,source=Source,length=source.length;length>Index;)switch(charCode=source.charCodeAt(Index)){case 9:case 10:case 13:case 32:Index++;break;case 123:case 125:case 91:case 93:case 58:case 44:return value=charIndexBuggy?source.charAt(Index):source[Index],Index++,value;case 34:for(value="@",Index++;length>Index;)if(charCode=source.charCodeAt(Index),32>charCode)abort();else if(92==charCode)switch(charCode=source.charCodeAt(++Index)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:value+=Unescapes[charCode],Index++;break;case 117:for(begin=++Index,position=Index+4;position>Index;Index++)charCode=source.charCodeAt(Index),charCode>=48&&57>=charCode||charCode>=97&&102>=charCode||charCode>=65&&70>=charCode||abort();value+=fromCharCode("0x"+source.slice(begin,Index));break;default:abort()}else{if(34==charCode)break;for(charCode=source.charCodeAt(Index),begin=Index;charCode>=32&&92!=charCode&&34!=charCode;)charCode=source.charCodeAt(++Index);value+=source.slice(begin,Index)}if(34==source.charCodeAt(Index))return Index++,value;abort();default:if(begin=Index,45==charCode&&(isSigned=!0,charCode=source.charCodeAt(++Index)),charCode>=48&&57>=charCode){for(48==charCode&&(charCode=source.charCodeAt(Index+1),charCode>=48&&57>=charCode)&&abort(),isSigned=!1;length>Index&&(charCode=source.charCodeAt(Index),charCode>=48&&57>=charCode);Index++);if(46==source.charCodeAt(Index)){for(position=++Index;length>position&&(charCode=source.charCodeAt(position),charCode>=48&&57>=charCode);position++);position==Index&&abort(),Index=position}if(charCode=source.charCodeAt(Index),101==charCode||69==charCode){for(charCode=source.charCodeAt(++Index),(43==charCode||45==charCode)&&Index++,position=Index;length>position&&(charCode=source.charCodeAt(position),charCode>=48&&57>=charCode);position++);position==Index&&abort(),Index=position}return+source.slice(begin,Index)}if(isSigned&&abort(),"true"==source.slice(Index,Index+4))return Index+=4,!0;if("false"==source.slice(Index,Index+5))return Index+=5,!1;if("null"==source.slice(Index,Index+4))return Index+=4,null;abort()}return"$"},get=function(value){var results,hasMembers;if("$"==value&&abort(),"string"==typeof value){if("@"==(charIndexBuggy?value.charAt(0):value[0]))return value.slice(1);if("["==value){for(results=[];value=lex(),"]"!=value;hasMembers||(hasMembers=!0))hasMembers&&(","==value?(value=lex(),"]"==value&&abort()):abort()),","==value&&abort(),results.push(get(value));return results}if("{"==value){for(results={};value=lex(),"}"!=value;hasMembers||(hasMembers=!0))hasMembers&&(","==value?(value=lex(),"}"==value&&abort()):abort()),(","==value||"string"!=typeof value||"@"!=(charIndexBuggy?value.charAt(0):value[0])||":"!=lex())&&abort(),results[value.slice(1)]=get(lex());return results}abort()}return value},update=function(source,property,callback){var element=walk(source,property,callback);element===undef?delete source[property]:source[property]=element},walk=function(source,property,callback){var length,value=source[property];if("object"==typeof value&&value)if(getClass.call(value)==arrayClass)for(length=value.length;length--;)update(value,length,callback);else forEach(value,function(property){update(value,property,callback)});return callback.call(source,property,value)};JSON3.parse=function(source,callback){var result,value;return Index=0,Source=""+source,result=get(lex()),"$"!=lex()&&abort(),Index=Source=null,callback&&getClass.call(callback)==functionClass?walk((value={},value[""]=result,value),"",callback):result}}}isLoader&&define(function(){return JSON3})}(this)},{}],43:[function(require,module){function toArray(list,index){var array=[];index=index||0;for(var i=index||0;i<list.length;i++)array[i-index]=list[i];return array}module.exports=toArray},{}]},{},[1])(1)}),define("remote/socket",["remote/socket.io"],function(io){socket=new Socket(io),socket.initialize()}),function(){var e;e=jQuery,e.fn.sieve=function(t){var n;return n=function(e){var t,n,r,o;for(o=[],n=0,r=e.length;r>n;n++)t=e[n],t&&o.push(t);return o},this.each(function(){var r,o,i;return r=e(this),i=e.extend({searchInput:null,searchTemplate:"<div style='width:99%;padding-top:4px;'><label style='display:block;'><input placeholder='Search' class='craftingFilter' type='text'></label></div>",itemSelector:"tbody tr",textSelector:null,toggle:function(e,t){return e.toggle(t)},complete:function(){}},t),i.searchInput||(o=e(i.searchTemplate),i.searchInput=o.find("input"),r.before(o)),i.searchInput.on("keyup.sieve change.sieve",function(){var t,o;return o=n(e(this).val().toLowerCase().split(/\s+/)),t=r.find(i.itemSelector),t.each(function(){var t,n,r,c,l,a,u;for(n=e(this),i.textSelector?(t=n.find(i.textSelector),l=t.text().toLowerCase()):l=n.text().toLowerCase(),r=!0,a=0,u=o.length;u>a;a++)c=o[a],r&&(r=l.indexOf(c)>=0);return i.toggle(n,r)}),i.complete()})})}}.call(this),define("sieve",function(){}),require(["data/system","data/items","data/loot","data/planets","data/actors","game","ui","jquery","jqueryui","enums","utils","uiplanetscreen","noty","joyride","toolbar","contextmenu","remote/socket","sieve"]);var game=new Game,ui=new UI,socket=void 0,uiplanetscreen=new UIPlanetScreen;window.onbeforeunload=function(){game.save()},$(document).ready(onDocumentReady),$.jGrowl.defaults.position="bottom",$.jGrowl.defaults.animateOpen={height:"show"},$.jGrowl.defaults.life=300,$.jGrowl.defaults.pool=1,Number.prototype.formatNumber=function(){return ui.numberFormatter?ui.numberFormatter(this).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):this},define("main",function(){});
//# sourceMappingURL=MultiverseMiner.min.js
//# sourceMappingURL=MultiverseMiner.min.js.map